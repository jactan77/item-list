var UO=Object.defineProperty,jO=Object.defineProperties;var BO=Object.getOwnPropertyDescriptors;var Zl=Object.getOwnPropertySymbols,HO=Object.getPrototypeOf,DE=Object.prototype.hasOwnProperty,SE=Object.prototype.propertyIsEnumerable,$O=Reflect.get;var IE=(n,e,t)=>e in n?UO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,E=(n,e)=>{for(var t in e||={})DE.call(e,t)&&IE(n,t,e[t]);if(Zl)for(var t of Zl(e))SE.call(e,t)&&IE(n,t,e[t]);return n},H=(n,e)=>jO(n,BO(e));var Ah=(n,e)=>{var t={};for(var r in n)DE.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Zl)for(var r of Zl(n))e.indexOf(r)<0&&SE.call(n,r)&&(t[r]=n[r]);return t};var ti=(n,e,t)=>$O(HO(n),t,e);var g=(n,e,t)=>new Promise((r,i)=>{var s=l=>{try{a(t.next(l))}catch(c){i(c)}},o=l=>{try{a(t.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((t=t.apply(n,e)).next())});function ME(n,e){return Object.is(n,e)}var ke=null,Jl=!1,Rh=1,Ft=Symbol("SIGNAL");function ie(n){let e=ke;return ke=n,e}function AE(){return ke}var Qo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ec(n){if(Jl)throw new Error("");if(ke===null)return;ke.consumerOnSignalRead(n);let e=ke.nextProducerIndex++;if(rc(ke),e<ke.producerNode.length&&ke.producerNode[e]!==n&&Yo(ke)){let t=ke.producerNode[e];nc(t,ke.producerIndexOfThis[e])}ke.producerNode[e]!==n&&(ke.producerNode[e]=n,ke.producerIndexOfThis[e]=Yo(ke)?xE(n,ke,e):0),ke.producerLastReadVersion[e]=n.version}function zO(){Rh++}function NE(n){if(!(Yo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Rh)){if(!n.producerMustRecompute(n)&&!Ph(n)){TE(n);return}n.producerRecomputeValue(n),TE(n)}}function OE(n){if(n.liveConsumerNode===void 0)return;let e=Jl;Jl=!0;try{for(let t of n.liveConsumerNode)t.dirty||WO(t)}finally{Jl=e}}function RE(){return ke?.consumerAllowSignalWrites!==!1}function WO(n){n.dirty=!0,OE(n),n.consumerMarkedDirty?.(n)}function TE(n){n.dirty=!1,n.lastCleanEpoch=Rh}function tc(n){return n&&(n.nextProducerIndex=0),ie(n)}function xh(n,e){if(ie(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Yo(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)nc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ph(n){rc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(NE(t),r!==t.version))return!0}return!1}function kh(n){if(rc(n),Yo(n))for(let e=0;e<n.producerNode.length;e++)nc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function xE(n,e,t){if(PE(n),n.liveConsumerNode.length===0&&kE(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=xE(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function nc(n,e){if(PE(n),n.liveConsumerNode.length===1&&kE(n))for(let r=0;r<n.producerNode.length;r++)nc(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];rc(i),i.producerIndexOfThis[r]=e}}function Yo(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function rc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function PE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function kE(n){return n.producerNode!==void 0}function LE(n,e){let t=Object.create(qO);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(NE(t),ec(t),t.value===Xl)throw t.error;return t.value};return r[Ft]=t,r}var Nh=Symbol("UNSET"),Oh=Symbol("COMPUTING"),Xl=Symbol("ERRORED"),qO=H(E({},Qo),{value:Nh,dirty:!0,error:null,equal:ME,kind:"computed",producerMustRecompute(n){return n.value===Nh||n.value===Oh},producerRecomputeValue(n){if(n.value===Oh)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Oh;let t=tc(n),r,i=!1;try{r=n.computation(),ie(null),i=e!==Nh&&e!==Xl&&r!==Xl&&n.equal(e,r)}catch(s){r=Xl,n.error=s}finally{xh(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function GO(){throw new Error}var FE=GO;function VE(n){FE(n)}function UE(n){FE=n}var KO=null;function jE(n,e){let t=Object.create(Lh);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(ec(t),t.value);return r[Ft]=t,r}function ic(n,e){RE()||VE(n),n.equal(n.value,e)||(n.value=e,YO(n))}function BE(n,e){RE()||VE(n),ic(n,e(n.value))}var Lh=H(E({},Qo),{equal:ME,value:void 0,kind:"signal"});function YO(n){n.version++,zO(),OE(n),KO?.()}function HE(n){let e=ie(null);try{return n()}finally{ie(e)}}var Fh;function Zo(){return Fh}function Wn(n){let e=Fh;return Fh=n,e}var Vh=Symbol("NotFound");function j(n){return typeof n=="function"}function as(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var sc=as(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ni(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var De=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(j(r))try{r()}catch(s){e=s instanceof sc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{$E(s)}catch(o){e=e??[],o instanceof sc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new sc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)$E(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ni(t,e)}remove(e){let{_finalizers:t}=this;t&&ni(t,e),e instanceof n&&e._removeParent(this)}};De.EMPTY=(()=>{let n=new De;return n.closed=!0,n})();var Uh=De.EMPTY;function oc(n){return n instanceof De||n&&"closed"in n&&j(n.remove)&&j(n.add)&&j(n.unsubscribe)}function $E(n){j(n)?n():n.unsubscribe()}var Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ls={setTimeout(n,e,...t){let{delegate:r}=ls;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ls;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ac(n){ls.setTimeout(()=>{let{onUnhandledError:e}=Xt;if(e)e(n);else throw n})}function Jo(){}var zE=jh("C",void 0,void 0);function WE(n){return jh("E",void 0,n)}function qE(n){return jh("N",n,void 0)}function jh(n,e,t){return{kind:n,value:e,error:t}}var ri=null;function cs(n){if(Xt.useDeprecatedSynchronousErrorHandling){let e=!ri;if(e&&(ri={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ri;if(ri=null,t)throw r}}else n()}function GE(n){Xt.useDeprecatedSynchronousErrorHandling&&ri&&(ri.errorThrown=!0,ri.error=n)}var ii=class extends De{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,oc(e)&&e.add(this)):this.destination=JO}static create(e,t,r){return new us(e,t,r)}next(e){this.isStopped?Hh(qE(e),this):this._next(e)}error(e){this.isStopped?Hh(WE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hh(zE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},QO=Function.prototype.bind;function Bh(n,e){return QO.call(n,e)}var $h=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){lc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){lc(r)}else lc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){lc(t)}}},us=class extends ii{constructor(e,t,r){super();let i;if(j(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Xt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Bh(e.next,s),error:e.error&&Bh(e.error,s),complete:e.complete&&Bh(e.complete,s)}):i=e}this.destination=new $h(i)}};function lc(n){Xt.useDeprecatedSynchronousErrorHandling?GE(n):ac(n)}function ZO(n){throw n}function Hh(n,e){let{onStoppedNotification:t}=Xt;t&&ls.setTimeout(()=>t(n,e))}var JO={closed:!0,next:Jo,error:ZO,complete:Jo};var ds=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ft(n){return n}function zh(...n){return Wh(n)}function Wh(n){return n.length===0?ft:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var $=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=eR(t)?t:new us(t,r,i);return cs(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=KE(r),new r((i,s)=>{let o=new us({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ds](){return this}pipe(...t){return Wh(t)(this)}toPromise(t){return t=KE(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function KE(n){var e;return(e=n??Xt.Promise)!==null&&e!==void 0?e:Promise}function XO(n){return n&&j(n.next)&&j(n.error)&&j(n.complete)}function eR(n){return n&&n instanceof ii||XO(n)&&oc(n)}function qh(n){return j(n?.lift)}function Z(n){return e=>{if(qh(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(n,e,t,r,i){return new Gh(n,e,t,r,i)}var Gh=class extends ii{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function fs(){return Z((n,e)=>{let t=null;n._refCount++;let r=z(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var hs=class extends ${constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,qh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new De;let t=this.getSubject();e.add(this.source.subscribe(z(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=De.EMPTY)}return e}refCount(){return fs()(this)}};var YE=as(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var we=(()=>{class n extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new cc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new YE}next(t){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Uh:(this.currentObservers=null,s.push(t),new De(()=>{this.currentObservers=null,ni(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new $;return t.source=this,t}}return n.create=(e,t)=>new cc(e,t),n})(),cc=class extends we{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Uh}};var Re=class extends we{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Kh={now(){return(Kh.delegate||Date).now()},delegate:void 0};var uc=class extends De{constructor(e,t){super()}schedule(e,t=0){return this}};var Xo={setInterval(n,e,...t){let{delegate:r}=Xo;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Xo;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ps=class extends uc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Xo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Xo.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ni(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var gs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};gs.now=Kh.now;var ms=class extends gs{constructor(e,t=gs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var vs=new ms(ps),Yh=vs;var dc=class extends ps{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var fc=class extends ms{};var Qh=new fc(dc);var wt=new $(n=>n.complete());function hc(n){return n&&j(n.schedule)}function QE(n){return n[n.length-1]}function pc(n){return j(QE(n))?n.pop():void 0}function Dr(n){return hc(QE(n))?n.pop():void 0}function Zh(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function JE(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function ZE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function si(n){return this instanceof si?(this.v=n,this):new si(n)}function XE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(m){return new Promise(function(w,T){s.push([h,m,w,T])>1||l(h,m)})},p&&(i[h]=p(i[h])))}function l(h,p){try{c(r[h](p))}catch(m){f(s[0][3],m)}}function c(h){h.value instanceof si?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}function eb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof ZE=="function"?ZE(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var gc=n=>n&&typeof n.length=="number"&&typeof n!="function";function mc(n){return j(n?.then)}function vc(n){return j(n[ds])}function yc(n){return Symbol.asyncIterator&&j(n?.[Symbol.asyncIterator])}function _c(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function tR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wc=tR();function Ec(n){return j(n?.[wc])}function bc(n){return XE(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield si(t.read());if(i)return yield si(void 0);yield yield si(r)}}finally{t.releaseLock()}})}function Cc(n){return j(n?.getReader)}function Se(n){if(n instanceof $)return n;if(n!=null){if(vc(n))return nR(n);if(gc(n))return rR(n);if(mc(n))return iR(n);if(yc(n))return tb(n);if(Ec(n))return sR(n);if(Cc(n))return oR(n)}throw _c(n)}function nR(n){return new $(e=>{let t=n[ds]();if(j(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rR(n){return new $(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function iR(n){return new $(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ac)})}function sR(n){return new $(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function tb(n){return new $(e=>{aR(n,e).catch(t=>e.error(t))})}function oR(n){return tb(bc(n))}function aR(n,e){var t,r,i,s;return JE(this,void 0,void 0,function*(){try{for(t=eb(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Et(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Sr(n,e=0){return Z((t,r)=>{t.subscribe(z(r,i=>Et(r,n,()=>r.next(i),e),()=>Et(r,n,()=>r.complete(),e),i=>Et(r,n,()=>r.error(i),e)))})}function Tr(n,e=0){return Z((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function nb(n,e){return Se(n).pipe(Tr(e),Sr(e))}function rb(n,e){return Se(n).pipe(Tr(e),Sr(e))}function ib(n,e){return new $(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function sb(n,e){return new $(t=>{let r;return Et(t,e,()=>{r=n[wc](),Et(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>j(r?.return)&&r.return()})}function Ic(n,e){if(!n)throw new Error("Iterable cannot be null");return new $(t=>{Et(t,e,()=>{let r=n[Symbol.asyncIterator]();Et(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ob(n,e){return Ic(bc(n),e)}function ab(n,e){if(n!=null){if(vc(n))return nb(n,e);if(gc(n))return ib(n,e);if(mc(n))return rb(n,e);if(yc(n))return Ic(n,e);if(Ec(n))return sb(n,e);if(Cc(n))return ob(n,e)}throw _c(n)}function se(n,e){return e?ab(n,e):Se(n)}function P(...n){let e=Dr(n);return se(n,e)}function ys(n,e){let t=j(n)?n:()=>n,r=i=>i.error(t());return new $(e?i=>e.schedule(r,0,i):r)}function Jh(n){return!!n&&(n instanceof $||j(n.lift)&&j(n.subscribe))}var qn=as(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function lb(n){return n instanceof Date&&!isNaN(n)}function B(n,e){return Z((t,r)=>{let i=0;t.subscribe(z(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:lR}=Array;function cR(n,e){return lR(e)?n(...e):n(e)}function Dc(n){return B(e=>cR(n,e))}var{isArray:uR}=Array,{getPrototypeOf:dR,prototype:fR,keys:hR}=Object;function Sc(n){if(n.length===1){let e=n[0];if(uR(e))return{args:e,keys:null};if(pR(e)){let t=hR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function pR(n){return n&&typeof n=="object"&&dR(n)===fR}function Tc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ea(...n){let e=Dr(n),t=pc(n),{args:r,keys:i}=Sc(n);if(r.length===0)return se([],e);let s=new $(gR(r,e,i?o=>Tc(i,o):ft));return t?s.pipe(Dc(t)):s}function gR(n,e,t=ft){return r=>{cb(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)cb(e,()=>{let c=se(n[l],e),u=!1;c.subscribe(z(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function cb(n,e,t){n?Et(t,n,e):e()}function ub(n,e,t,r,i,s,o,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=m=>c<r?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let w=!1;Se(t(m,u++)).subscribe(z(e,T=>{i?.(T),s?h(T):e.next(T)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<r;){let T=l.shift();o?Et(e,o,()=>p(T)):p(T)}f()}catch(T){e.error(T)}}))};return n.subscribe(z(e,h,()=>{d=!0,f()})),()=>{a?.()}}function xe(n,e,t=1/0){return j(e)?xe((r,i)=>B((s,o)=>e(r,s,i,o))(Se(n(r,i))),t):(typeof e=="number"&&(t=e),Z((r,i)=>ub(r,i,n,t)))}function _s(n=1/0){return xe(ft,n)}function db(){return _s(1)}function ws(...n){return db()(se(n,Dr(n)))}function Mc(n){return new $(e=>{Se(n()).subscribe(e)})}function Xh(...n){let e=pc(n),{args:t,keys:r}=Sc(n),i=new $(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;Se(t[u]).subscribe(z(s,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?Tc(r,a):a),s.complete())}))}});return e?i.pipe(Dc(e)):i}function fb(n=0,e,t=Yh){let r=-1;return e!=null&&(hc(e)?t=e:r=e),new $(i=>{let s=lb(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function Le(n,e){return Z((t,r)=>{let i=0;t.subscribe(z(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Mr(n){return Z((e,t)=>{let r=null,i=!1,s;r=e.subscribe(z(t,void 0,void 0,o=>{s=Se(n(o,Mr(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function hb(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(z(o,u=>{let d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function Gn(n,e){return j(e)?xe(n,e,1):xe(n,1)}function Ar(n){return Z((e,t)=>{let r=!1;e.subscribe(z(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Vt(n){return n<=0?()=>wt:Z((e,t)=>{let r=0;e.subscribe(z(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ac(n,e=ft){return n=n??mR,Z((t,r)=>{let i,s=!0;t.subscribe(z(r,o=>{let a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function mR(n,e){return n===e}function Nc(n=vR){return Z((e,t)=>{let r=!1;e.subscribe(z(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function vR(){return new qn}function oi(n){return Z((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Kn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Le((i,s)=>n(i,s,r)):ft,Vt(1),t?Ar(e):Nc(()=>new qn))}function Es(n){return n<=0?()=>wt:Z((e,t)=>{let r=[];e.subscribe(z(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ep(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Le((i,s)=>n(i,s,r)):ft,Es(1),t?Ar(e):Nc(()=>new qn))}function tp(n,e){return Z(hb(n,e,arguments.length>=2,!0))}function np(...n){let e=Dr(n);return Z((t,r)=>{(e?ws(n,t,e):ws(n,t)).subscribe(r)})}function Fe(n,e){return Z((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(z(r,l=>{i?.unsubscribe();let c=0,u=s++;Se(n(l,u)).subscribe(i=z(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function rp(n){return Z((e,t)=>{Se(n).subscribe(z(t,()=>t.complete(),Jo)),!t.closed&&e.subscribe(t)})}function Ee(n,e,t){let r=j(n)||e||t?{next:n,error:e,complete:t}:n;return r?Z((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(z(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ft}function pb(n,e){return Z((t,r)=>{let{leading:i=!0,trailing:s=!1}=e??{},o=!1,a=null,l=null,c=!1,u=()=>{l?.unsubscribe(),l=null,s&&(h(),c&&r.complete())},d=()=>{l=null,c&&r.complete()},f=p=>l=Se(n(p)).subscribe(z(r,u,d)),h=()=>{if(o){o=!1;let p=a;a=null,r.next(p),!c&&f(p)}};t.subscribe(z(r,p=>{o=!0,a=p,!(l&&!l.closed)&&(i?h():f(p))},()=>{c=!0,!(s&&o&&l&&!l.closed)&&r.complete()}))})}function Oc(n,e=vs,t){let r=fb(n,e);return pb(()=>r,t)}var lC="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",_=class extends Error{code;constructor(e,t){super(pu(e,t)),this.code=e}};function pu(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var cC=Symbol("InputSignalNode#UNSET"),yR=H(E({},Lh),{transformFn:void 0,applyValueToInputSignal(n,e){ic(n,e)}});function uC(n,e){let t=Object.create(yR);t.value=n,t.transformFn=e?.transform;function r(){if(ec(t),t.value===cC){let i=null;throw new _(-950,i)}return t.value}return r[Ft]=t,r}function fa(n){return{toString:n}.toString()}var Rc="__parameters__";function _R(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function dC(n,e,t){return fa(()=>{let r=_R(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(Rc)?l[Rc]:Object.defineProperty(l,Rc,{value:[]})[Rc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var sa=globalThis;function ve(n){for(let e in n)if(n[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function wR(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function bt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(bt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function gb(n,e){return n?e?`${n} ${e}`:n:e||""}var ER=ve({__forward_ref__:ve});function $t(n){return n.__forward_ref__=$t,n.toString=function(){return bt(this())},n}function ht(n){return fC(n)?n():n}function fC(n){return typeof n=="function"&&n.hasOwnProperty(ER)&&n.__forward_ref__===$t}function I(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Tt(n){return{providers:n.providers||[],imports:n.imports||[]}}function gu(n){return mb(n,pC)||mb(n,gC)}function hC(n){return gu(n)!==null}function mb(n,e){return n.hasOwnProperty(e)?n[e]:null}function bR(n){let e=n&&(n[pC]||n[gC]);return e||null}function vb(n){return n&&(n.hasOwnProperty(yb)||n.hasOwnProperty(CR))?n[yb]:null}var pC=ve({\u0275prov:ve}),yb=ve({\u0275inj:ve}),gC=ve({ngInjectableDef:ve}),CR=ve({ngInjectorDef:ve}),S=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function mC(n){return n&&!!n.\u0275providers}var IR=ve({\u0275cmp:ve}),DR=ve({\u0275dir:ve}),SR=ve({\u0275pipe:ve}),TR=ve({\u0275mod:ve}),$c=ve({\u0275fac:ve}),ia=ve({__NG_ELEMENT_ID__:ve}),_b=ve({__NG_ENV_ID__:ve});function ci(n){return typeof n=="string"?n:n==null?"":String(n)}function MR(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ci(n)}function vC(n,e){throw new _(-200,n)}function yg(n,e){throw new _(-201,!1)}var Y=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Y||{}),vp;function yC(){return vp}function Ut(n){let e=vp;return vp=n,e}function _C(n,e,t){let r=gu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Y.Optional)return null;if(e!==void 0)return e;yg(n,"Injector")}var AR={},ai=AR,yp="__NG_DI_FLAG__",zc=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Vh:ai,r)}},Wc="ngTempTokenPath",NR="ngTokenPath",OR=/\n/gm,RR="\u0275",wb="__source";function xR(n,e=Y.Default){if(Zo()===void 0)throw new _(-203,!1);if(Zo()===null)return _C(n,void 0,e);{let t=Zo(),r;return t instanceof zc?r=t.injector:r=t,r.get(n,e&Y.Optional?null:void 0,e)}}function R(n,e=Y.Default){return(yC()||xR)(ht(n),e)}function v(n,e=Y.Default){return R(n,mu(e))}function mu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function _p(n){let e=[];for(let t=0;t<n.length;t++){let r=ht(n[t]);if(Array.isArray(r)){if(r.length===0)throw new _(900,!1);let i,s=Y.Default;for(let o=0;o<r.length;o++){let a=r[o],l=PR(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(R(i,s))}else e.push(R(r))}return e}function wC(n,e){return n[yp]=e,n.prototype[yp]=e,n}function PR(n){return n[yp]}function kR(n,e,t,r){let i=n[Wc];throw e[wb]&&i.unshift(e[wb]),n.message=LR(`
`+n.message,i,t,r),n[NR]=i,n[Wc]=null,n}function LR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==RR?n.slice(2):n;let i=bt(e);if(Array.isArray(e))i=e.map(bt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):bt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(OR,`
  `)}`}var Dn=wC(dC("Optional"),8);var EC=wC(dC("SkipSelf"),4);function Ms(n,e){let t=n.hasOwnProperty($c);return t?n[$c]:null}function FR(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function VR(n){return n.flat(Number.POSITIVE_INFINITY)}function _g(n,e){n.forEach(t=>Array.isArray(t)?_g(t,e):e(t))}function bC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function qc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function UR(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function jR(n,e,t){let r=ha(n,e);return r>=0?n[r|1]=t:(r=~r,UR(n,r,e,t)),r}function ip(n,e){let t=ha(n,e);if(t>=0)return n[t|1]}function ha(n,e){return BR(n,e,1)}function BR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var ui={},jt=[],As=new S(""),CC=new S("",-1),IC=new S(""),Gc=class{get(e,t=ai){if(t===ai){let r=new Error(`NullInjectorError: No provider for ${bt(e)}!`);throw r.name="NullInjectorError",r}return t}};function DC(n,e){let t=n[TR]||null;if(!t&&e===!0)throw new Error(`Type ${bt(n)} does not have '\u0275mod' property.`);return t}function di(n){return n[IR]||null}function HR(n){return n[DR]||null}function $R(n){return n[SR]||null}function Sn(n){return{\u0275providers:n}}function zR(...n){return{\u0275providers:SC(!0,n),\u0275fromNgModule:!0}}function SC(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return _g(e,o=>{let a=o;wp(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&TC(i,s),t}function TC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];wg(i,s=>{e(s,r)})}}function wp(n,e,t,r){if(n=ht(n),!n)return!1;let i=null,s=vb(n),o=!s&&di(n);if(!s&&!o){let l=n.ngModule;if(s=vb(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)wp(c,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{_g(s.imports,u=>{wp(u,e,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&TC(c,e)}if(!a){let c=Ms(i)||(()=>new i);e({provide:i,useFactory:c,deps:jt},i),e({provide:IC,useValue:i,multi:!0},i),e({provide:As,useValue:()=>R(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=n;wg(l,u=>{e(u,c)})}}else return!1;return i!==n&&n.providers!==void 0}function wg(n,e){for(let t of n)mC(t)&&(t=t.\u0275providers),Array.isArray(t)?wg(t,e):e(t)}var WR=ve({provide:String,useValue:ve});function MC(n){return n!==null&&typeof n=="object"&&WR in n}function qR(n){return!!(n&&n.useExisting)}function GR(n){return!!(n&&n.useFactory)}function Ns(n){return typeof n=="function"}function KR(n){return!!n.useClass}var vu=new S(""),Fc={},Eb={},sp;function Eg(){return sp===void 0&&(sp=new Gc),sp}var tt=class{},oa=class extends tt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,bp(e,o=>this.processProvider(o)),this.records.set(CC,bs(void 0,this)),i.has("environment")&&this.records.set(tt,bs(void 0,this));let s=this.records.get(vu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(IC,jt,Y.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Vh:ai,r)}destroy(){na(this),this._destroyed=!0;let e=ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(e)}}onDestroy(e){return na(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){na(this);let t=Wn(this),r=Ut(void 0),i;try{return e()}finally{Wn(t),Ut(r)}}get(e,t=ai,r=Y.Default){if(na(this),e.hasOwnProperty(_b))return e[_b](this);r=mu(r);let i,s=Wn(this),o=Ut(void 0);try{if(!(r&Y.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=XR(e)&&gu(e);c&&this.injectableDefInScope(c)?l=bs(Ep(e),Fc):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&Y.Self?Eg():this.parent;return t=r&Y.Optional&&t===ai?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Wc]=a[Wc]||[]).unshift(bt(e)),s)throw a;return kR(a,e,"R3InjectorError",this.source)}else throw a}finally{Ut(o),Wn(s)}}resolveInjectorInitializers(){let e=ie(null),t=Wn(this),r=Ut(void 0),i;try{let s=this.get(As,jt,Y.Self);for(let o of s)o()}finally{Wn(t),Ut(r),ie(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(bt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ht(e);let t=Ns(e)?e:ht(e&&e.provide),r=QR(e);if(!Ns(e)&&e.multi===!0){let i=this.records.get(t);i||(i=bs(void 0,Fc,!0),i.factory=()=>_p(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ie(null);try{return t.value===Eb?vC(bt(e)):t.value===Fc&&(t.value=Eb,t.value=t.factory()),typeof t.value=="object"&&t.value&&JR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ie(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=ht(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ep(n){let e=gu(n),t=e!==null?e.factory:Ms(n);if(t!==null)return t;if(n instanceof S)throw new _(204,!1);if(n instanceof Function)return YR(n);throw new _(204,!1)}function YR(n){if(n.length>0)throw new _(204,!1);let t=bR(n);return t!==null?()=>t.factory(n):()=>new n}function QR(n){if(MC(n))return bs(void 0,n.useValue);{let e=AC(n);return bs(e,Fc)}}function AC(n,e,t){let r;if(Ns(n)){let i=ht(n);return Ms(i)||Ep(i)}else if(MC(n))r=()=>ht(n.useValue);else if(GR(n))r=()=>n.useFactory(..._p(n.deps||[]));else if(qR(n))r=()=>R(ht(n.useExisting));else{let i=ht(n&&(n.useClass||n.provide));if(ZR(n))r=()=>new i(..._p(n.deps));else return Ms(i)||Ep(i)}return r}function na(n){if(n.destroyed)throw new _(205,!1)}function bs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ZR(n){return!!n.deps}function JR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function XR(n){return typeof n=="function"||typeof n=="object"&&n instanceof S}function bp(n,e){for(let t of n)Array.isArray(t)?bp(t,e):t&&mC(t)?bp(t.\u0275providers,e):e(t)}function qe(n,e){let t;n instanceof oa?(na(n),t=n):t=new zc(n);let r,i=Wn(t),s=Ut(void 0);try{return e()}finally{Wn(i),Ut(s)}}function NC(){return yC()!==void 0||Zo()!=null}function yu(n){if(!NC())throw new _(-203,!1)}function ex(n){return typeof n=="function"}var er=0,Q=1,V=2,at=3,tn=4,nn=5,Kc=6,Yc=7,pt=8,aa=9,Yn=10,Pe=11,la=12,bb=13,Fs=14,yn=15,fi=16,Cs=17,Qn=18,_u=19,OC=20,Nr=21,op=22,Qc=23,Bt=24,Ss=25,Ht=26,RC=1;var hi=7,Zc=8,Os=9,Ct=10;function Or(n){return Array.isArray(n)&&typeof n[RC]=="object"}function tr(n){return Array.isArray(n)&&n[RC]===!0}function bg(n){return(n.flags&4)!==0}function Vs(n){return n.componentOffset>-1}function wu(n){return(n.flags&1)===1}function _n(n){return!!n.template}function Jc(n){return(n[V]&512)!==0}function pa(n){return(n[V]&256)===256}var Cp=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function xC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Mt=(()=>{let n=()=>PC;return n.ngInherit=!0,n})();function PC(n){return n.type.prototype.ngOnChanges&&(n.setInput=nx),tx}function tx(){let n=LC(this),e=n?.current;if(e){let t=n.previous;if(t===ui)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function nx(n,e,t,r,i){let s=this.declaredInputs[r],o=LC(n)||rx(n,{previous:ui,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Cp(c&&c.currentValue,t,l===ui),xC(n,e,i,t)}var kC="__ngSimpleChanges__";function LC(n){return n[kC]||null}function rx(n,e){return n[kC]=e}var Cb=null;var ge=function(n,e=null,t){Cb?.(n,e,t)},FC="svg",ix="math";function wn(n){for(;Array.isArray(n);)n=n[er];return n}function VC(n,e){return wn(e[n])}function Tn(n,e){return wn(e[n.index])}function Cg(n,e){return n.data[e]}function En(n,e){let t=e[n];return Or(t)?t:t[er]}function sx(n){return(n[V]&4)===4}function Ig(n){return(n[V]&128)===128}function ox(n){return tr(n[at])}function Rs(n,e){return e==null?null:n[e]}function UC(n){n[Cs]=0}function jC(n){n[V]&1024||(n[V]|=1024,Ig(n)&&ga(n))}function ax(n,e){for(;n>0;)e=e[Fs],n--;return e}function Eu(n){return!!(n[V]&9216||n[Bt]?.dirty)}function Ip(n){n[Yn].changeDetectionScheduler?.notify(8),n[V]&64&&(n[V]|=1024),Eu(n)&&ga(n)}function ga(n){n[Yn].changeDetectionScheduler?.notify(0);let e=pi(n);for(;e!==null&&!(e[V]&8192||(e[V]|=8192,!Ig(e)));)e=pi(e)}function BC(n,e){if(pa(n))throw new _(911,!1);n[Nr]===null&&(n[Nr]=[]),n[Nr].push(e)}function lx(n,e){if(n[Nr]===null)return;let t=n[Nr].indexOf(e);t!==-1&&n[Nr].splice(t,1)}function pi(n){let e=n[at];return tr(e)?e[at]:e}function HC(n){return n[Yc]??=[]}function $C(n){return n.cleanup??=[]}function cx(n,e,t,r){let i=HC(e);i.push(t),n.firstCreatePass&&$C(n).push(r,i.length-1)}var W={lFrame:JC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Dp=!1;function ux(){return W.lFrame.elementDepthCount}function dx(){W.lFrame.elementDepthCount++}function fx(){W.lFrame.elementDepthCount--}function Dg(){return W.bindingsEnabled}function hx(){return W.skipHydrationRootTNode!==null}function px(n){return W.skipHydrationRootTNode===n}function gx(){W.skipHydrationRootTNode=null}function oe(){return W.lFrame.lView}function Ge(){return W.lFrame.tView}function bu(n){return W.lFrame.contextLView=n,n[pt]}function Cu(n){return W.lFrame.contextLView=null,n}function lt(){let n=zC();for(;n!==null&&n.type===64;)n=n.parent;return n}function zC(){return W.lFrame.currentTNode}function mx(){let n=W.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function wi(n,e){let t=W.lFrame;t.currentTNode=n,t.isParent=e}function Sg(){return W.lFrame.isParent}function WC(){W.lFrame.isParent=!1}function qC(){return Dp}function Ib(n){let e=Dp;return Dp=n,e}function GC(){let n=W.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function vx(){return W.lFrame.bindingIndex}function yx(n){return W.lFrame.bindingIndex=n}function ma(){return W.lFrame.bindingIndex++}function KC(n){let e=W.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function _x(){return W.lFrame.inI18n}function wx(n,e){let t=W.lFrame;t.bindingIndex=t.bindingRootIndex=n,Sp(e)}function Ex(){return W.lFrame.currentDirectiveIndex}function Sp(n){W.lFrame.currentDirectiveIndex=n}function bx(n){let e=W.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function YC(){return W.lFrame.currentQueryIndex}function Tg(n){W.lFrame.currentQueryIndex=n}function Cx(n){let e=n[Q];return e.type===2?e.declTNode:e.type===1?n[nn]:null}function QC(n,e,t){if(t&Y.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&Y.Host);)if(i=Cx(s),i===null||(s=s[Fs],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=W.lFrame=ZC();return r.currentTNode=e,r.lView=n,!0}function Mg(n){let e=ZC(),t=n[Q];W.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ZC(){let n=W.lFrame,e=n===null?null:n.child;return e===null?JC(n):e}function JC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function XC(){let n=W.lFrame;return W.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var eI=XC;function Ag(){let n=XC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ix(n){return(W.lFrame.contextLView=ax(n,W.lFrame.contextLView))[pt]}function Ei(){return W.lFrame.selectedIndex}function gi(n){W.lFrame.selectedIndex=n}function Ng(){let n=W.lFrame;return Cg(n.tView,n.selectedIndex)}function Og(){W.lFrame.currentNamespace=FC}function Rg(){Dx()}function Dx(){W.lFrame.currentNamespace=null}function Sx(){return W.lFrame.currentNamespace}var tI=!0;function Iu(){return tI}function Du(n){tI=n}function Tx(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=PC(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function xg(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Vc(n,e,t){nI(n,e,3,t)}function Uc(n,e,t,r){(n[V]&3)===t&&nI(n,e,t,r)}function ap(n,e){let t=n[V];(t&3)===e&&(t&=16383,t+=1,n[V]=t)}function nI(n,e,t,r){let i=r!==void 0?n[Cs]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Cs]+=65536),(a<s||s==-1)&&(Mx(n,t,e,l),n[Cs]=(n[Cs]&4294901760)+l+2),l++}function Db(n,e){ge(4,n,e);let t=ie(null);try{e.call(n)}finally{ie(t),ge(5,n,e)}}function Mx(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[V]>>14<n[Cs]>>16&&(n[V]&3)===e&&(n[V]+=16384,Db(a,s)):Db(a,s)}var Ts=-1,mi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function Ax(n){return(n.flags&8)!==0}function Nx(n){return(n.flags&16)!==0}function Ox(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];Rx(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function rI(n){return n===3||n===4||n===6}function Rx(n){return n.charCodeAt(0)===64}function xs(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Sb(n,t,i,null,e[++r]):Sb(n,t,i,null,null))}}return n}function Sb(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){i!==null&&(n[s+1]=i);return}s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i)}var lp={},Tp=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=mu(r);let i=this.injector.get(e,lp,r);return i!==lp||t===lp?i:this.parentInjector.get(e,t,r)}};function iI(n){return n!==Ts}function Xc(n){return n&32767}function xx(n){return n>>16}function eu(n,e){let t=xx(n),r=e;for(;t>0;)r=r[Fs],t--;return r}var Mp=!0;function Tb(n){let e=Mp;return Mp=n,e}var Px=256,sI=Px-1,oI=5,kx=0,vn={};function Lx(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ia)&&(r=t[ia]),r==null&&(r=t[ia]=kx++);let i=r&sI,s=1<<i;e.data[n+(i>>oI)]|=s}function tu(n,e){let t=aI(n,e);if(t!==-1)return t;let r=e[Q];r.firstCreatePass&&(n.injectorIndex=e.length,cp(r.data,n),cp(e,null),cp(r.blueprint,null));let i=Pg(n,e),s=n.injectorIndex;if(iI(i)){let o=Xc(i),a=eu(i,e),l=a[Q].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function cp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function aI(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Pg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=fI(i),r===null)return Ts;if(t++,i=i[Fs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ts}function Ap(n,e,t){Lx(n,e,t)}function Fx(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(rI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function lI(n,e,t){if(t&Y.Optional||n!==void 0)return n;yg(e,"NodeInjector")}function cI(n,e,t,r){if(t&Y.Optional&&r===void 0&&(r=null),(t&(Y.Self|Y.Host))===0){let i=n[aa],s=Ut(void 0);try{return i?i.get(e,r,t&Y.Optional):_C(e,r,t&Y.Optional)}finally{Ut(s)}}return lI(r,e,t)}function uI(n,e,t,r=Y.Default,i){if(n!==null){if(e[V]&2048&&!(r&Y.Self)){let o=Bx(n,e,t,r,vn);if(o!==vn)return o}let s=dI(n,e,t,r,vn);if(s!==vn)return s}return cI(e,t,r,i)}function dI(n,e,t,r,i){let s=Ux(t);if(typeof s=="function"){if(!QC(e,n,r))return r&Y.Host?lI(i,t,r):cI(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&Y.Optional))yg(t);else return o}finally{eI()}}else if(typeof s=="number"){let o=null,a=aI(n,e),l=Ts,c=r&Y.Host?e[yn][nn]:null;for((a===-1||r&Y.SkipSelf)&&(l=a===-1?Pg(n,e):e[a+8],l===Ts||!Ab(r,!1)?a=-1:(o=e[Q],a=Xc(l),e=eu(l,e)));a!==-1;){let u=e[Q];if(Mb(s,a,u.data)){let d=Vx(a,e,t,o,r,c);if(d!==vn)return d}l=e[a+8],l!==Ts&&Ab(r,e[Q].data[a+8]===c)&&Mb(s,a,e)?(o=u,a=Xc(l),e=eu(l,e)):a=-1}}return i}function Vx(n,e,t,r,i,s){let o=e[Q],a=o.data[n+8],l=r==null?Vs(a)&&Mp:r!=o&&(a.type&3)!==0,c=i&Y.Host&&s===a,u=jc(a,o,t,l,c);return u!==null?ca(e,o,u,a):vn}function jc(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,c=n.directiveEnd,u=s>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let p=o[h];if(h<l&&t===p||h>=l&&p.type===t)return h}if(i){let h=o[l];if(h&&_n(h)&&h.type===t)return l}return null}function ca(n,e,t,r){let i=n[t],s=e.data;if(i instanceof mi){let o=i;o.resolving&&vC(MR(s[t]));let a=Tb(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?Ut(o.injectImpl):null,u=QC(n,r,Y.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&Tx(t,s[t],e)}finally{c!==null&&Ut(c),Tb(a),o.resolving=!1,eI()}}return i}function Ux(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ia)?n[ia]:void 0;return typeof e=="number"?e>=0?e&sI:jx:e}function Mb(n,e,t){let r=1<<n;return!!(t[e+(n>>oI)]&r)}function Ab(n,e){return!(n&Y.Self)&&!(n&Y.Host&&e)}var li=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return uI(this._tNode,this._lView,e,mu(r),t)}};function jx(){return new li(lt(),oe())}function xr(n){return fa(()=>{let e=n.prototype.constructor,t=e[$c]||Np(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[$c]||Np(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Np(n){return fC(n)?()=>{let e=Np(ht(n));return e&&e()}:Ms(n)}function Bx(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[V]&2048&&!Jc(o);){let a=dI(s,o,t,r|Y.Self,vn);if(a!==vn)return a;let l=s.parent;if(!l){let c=o[OC];if(c){let u=c.get(t,vn,r);if(u!==vn)return u}l=fI(o),o=o[Fs]}s=l}return i}function fI(n){let e=n[Q],t=e.type;return t===2?e.declTNode:t===1?n[nn]:null}function kg(n){return Fx(lt(),n)}function Nb(n,e=null,t=null,r){let i=hI(n,e,t,r);return i.resolveInjectorInitializers(),i}function hI(n,e=null,t=null,r,i=new Set){let s=[t||jt,zR(n)];return r=r||(typeof n=="object"?void 0:bt(n)),new oa(s,e||Eg(),r||null,i)}var Ne=class n{static THROW_IF_NOT_FOUND=ai;static NULL=new Gc;static create(e,t){if(Array.isArray(e))return Nb({name:""},t,e,"");{let r=e.name??"";return Nb({name:r},e.parent,e.providers,r)}}static \u0275prov=I({token:n,providedIn:"any",factory:()=>R(CC)});static __NG_ELEMENT_ID__=-1};var Hx=new S("");Hx.__NG_ELEMENT_ID__=n=>{let e=lt();if(e===null)throw new _(204,!1);if(e.type&2)return e.value;if(n&Y.Optional)return null;throw new _(204,!1)};var pI=!1,Us=(()=>{class n{static __NG_ELEMENT_ID__=$x;static __NG_ENV_ID__=t=>t}return n})(),Op=class extends Us{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return BC(this._lView,e),()=>lx(this._lView,e)}};function $x(){return new Op(oe())}var vi=class{},Su=new S("",{providedIn:"root",factory:()=>!1});var gI=new S(""),mI=new S(""),nr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Re(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}return n})(),Tu=(()=>{class n{internalPendingTasks=v(nr);scheduler=v(vi);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return g(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}return n})(),Rp=class extends we{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,NC()&&(this.destroyRef=v(Us,{optional:!0})??void 0,this.pendingTasks=v(nr,{optional:!0})??void 0)}emit(e){let t=ie(null);try{super.next(e)}finally{ie(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof De&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},fe=Rp;function nu(...n){}function vI(n){let e,t;function r(){n=nu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Ob(n){return queueMicrotask(()=>n()),()=>{n=nu}}var Lg="isAngularZone",ru=Lg+"_ID",zx=0,le=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new fe(!1);onMicrotaskEmpty=new fe(!1);onStable=new fe(!1);onError=new fe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=pI}=e;if(typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,Gx(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Lg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new _(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Wx,nu,nu);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Wx={};function Fg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function qx(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){vI(()=>{n.callbackScheduled=!1,xp(n),n.isCheckStableRunning=!0,Fg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),xp(n)}function Gx(n){let e=()=>{qx(n)},t=zx++;n._inner=n._inner.fork({name:"angular",properties:{[Lg]:!0,[ru]:t,[ru+t]:!0},onInvokeTask:(r,i,s,o,a,l)=>{if(Kx(l))return r.invokeTask(s,o,a,l);try{return Rb(n),r.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),xb(n)}},onInvoke:(r,i,s,o,a,l,c)=>{try{return Rb(n),r.invoke(s,o,a,l,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Yx(l)&&e(),xb(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,xp(n),Fg(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function xp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Rb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function xb(n){n._nesting--,Fg(n)}var Pp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new fe;onMicrotaskEmpty=new fe;onStable=new fe;onError=new fe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Kx(n){return yI(n,"__ignore_ng_zone__")}function Yx(n){return yI(n,"__scheduler_tick__")}function yI(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Zn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Qx=new S("",{providedIn:"root",factory:()=>{let n=v(le),e=v(Zn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Pb(n,e){return uC(n,e)}function Zx(n){return uC(cC,n)}var Mu=(Pb.required=Zx,Pb);function Jx(){return js(lt(),oe())}function js(n,e){return new Ve(Tn(n,e))}var Ve=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Jx}return n})();function Xx(n){return n instanceof Ve?n.nativeElement:n}function eP(n){return typeof n=="function"&&n[Ft]!==void 0}function rr(n,e){let t=jE(n,e?.equal),r=t[Ft];return t.set=i=>ic(r,i),t.update=i=>BE(r,i),t.asReadonly=tP.bind(t),t}function tP(){let n=this[Ft];if(n.readonlyFn===void 0){let e=()=>this();e[Ft]=n,n.readonlyFn=e}return n.readonlyFn}function _I(n){return eP(n)&&typeof n.set=="function"}function nP(){return this._results[Symbol.iterator]()}var kp=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new we}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=VR(e);(this._changesDetected=!FR(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=nP};function wI(n){return(n.flags&128)===128}var EI=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(EI||{}),bI=new Map,rP=0;function iP(){return rP++}function sP(n){bI.set(n[_u],n)}function Lp(n){bI.delete(n[_u])}var kb="__ngContext__";function Bs(n,e){Or(e)?(n[kb]=e[_u],sP(e)):n[kb]=e}function CI(n){return DI(n[la])}function II(n){return DI(n[tn])}function DI(n){for(;n!==null&&!tr(n);)n=n[tn];return n}var Fp;function SI(n){Fp=n}function TI(){if(Fp!==void 0)return Fp;if(typeof document<"u")return document;throw new _(210,!1)}var Vg=new S("",{providedIn:"root",factory:()=>oP}),oP="ng",Ug=new S(""),ir=new S("",{providedIn:"platform",factory:()=>"unknown"});var jg=new S(""),Bg=new S("",{providedIn:"root",factory:()=>TI().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Hg={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},MI=new S("",{providedIn:"root",factory:()=>Hg});var aP="h",lP="b";var AI=!1,cP=new S("",{providedIn:"root",factory:()=>AI});var $g=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}($g||{}),Hs=new S(""),Lb=new Set;function sr(n){Lb.has(n)||(Lb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var NI=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=uP}return n})();function uP(){return new NI(oe(),lt())}var Is=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Is||{}),OI=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}return n})(),dP=[Is.EarlyRead,Is.Write,Is.MixedReadWrite,Is.Read],fP=(()=>{class n{ngZone=v(le);scheduler=v(vi);errorHandler=v(Zn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){v(Hs,{optional:!0})}execute(){let t=this.sequences.size>0;t&&ge(16),this.executing=!0;for(let r of dP)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let s=i.hooks[r];return s(i.pipelinedValue)},i.snapshot))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&ge(17)}register(t){let{view:r}=t;r!==void 0?((r[Ss]??=[]).push(t),ga(r),r[V]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run($g.AFTER_NEXT_RENDER,t):t()}static \u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}return n})(),Vp=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,s,o=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=o,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ss];e&&(this.view[Ss]=e.filter(t=>t!==this))}};function zg(n,e){!e?.injector&&yu(zg);let t=e?.injector??v(Ne);return sr("NgAfterNextRender"),pP(n,t,e,!0)}function hP(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function pP(n,e,t,r){let i=e.get(OI);i.impl??=e.get(fP);let s=e.get(Hs,null,{optional:!0}),o=t?.phase??Is.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Us):null,l=e.get(NI,null,{optional:!0}),c=new Vp(i.impl,hP(n,o),l?.view,r,a,s?.snapshot(null));return i.impl.register(c),c}var gP=()=>null;function RI(n,e,t=!1){return gP(n,e,t)}function xI(n,e){let t=n.contentQueries;if(t!==null){let r=ie(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];Tg(s),a.contentQueries(2,e[o],o)}}}finally{ie(r)}}}function Up(n,e,t){Tg(0);let r=ie(null);try{e(n,t)}finally{ie(r)}}function Wg(n,e,t){if(bg(e)){let r=ie(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{ie(r)}}}var bn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(bn||{}),xc;function mP(){if(xc===void 0&&(xc=null,sa.trustedTypes))try{xc=sa.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xc}function Au(n){return mP()?.createHTML(n)||n}var Pc;function PI(){if(Pc===void 0&&(Pc=null,sa.trustedTypes))try{Pc=sa.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Pc}function Fb(n){return PI()?.createHTML(n)||n}function Vb(n){return PI()?.createScriptURL(n)||n}var iu=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lC})`}};function bi(n){return n instanceof iu?n.changingThisBreaksApplicationSecurity:n}function Nu(n,e){let t=vP(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${lC})`)}return t===e}function vP(n){return n instanceof iu&&n.getTypeName()||null}function yP(n){let e=new Bp(n);return _P()?new jp(e):e}var jp=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Au(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Bp=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Au(e),t}};function _P(){try{return!!new window.DOMParser().parseFromString(Au(""),"text/html")}catch{return!1}}var wP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qg(n){return n=String(n),n.match(wP)?n:"unsafe:"+n}function or(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function va(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var kI=or("area,br,col,hr,img,wbr"),LI=or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),FI=or("rp,rt"),EP=va(FI,LI),bP=va(LI,or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),CP=va(FI,or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ub=va(kI,bP,CP,EP),VI=or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),IP=or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),DP=or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),SP=va(VI,IP,DP),TP=or("script,style,template"),Hp=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=NP(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=AP(t);if(s){t=s;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=jb(e).toLowerCase();if(!Ub.hasOwnProperty(t))return this.sanitizedSomething=!0,!TP.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!SP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;VI[a]&&(l=qg(l)),this.buf.push(" ",o,'="',Bb(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=jb(e).toLowerCase();Ub.hasOwnProperty(t)&&!kI.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Bb(e))}};function MP(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function AP(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw UI(e);return e}function NP(n){let e=n.firstChild;if(e&&MP(n,e))throw UI(e);return e}function jb(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function UI(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var OP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RP=/([^\#-~ |!])/g;function Bb(n){return n.replace(/&/g,"&amp;").replace(OP,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(RP,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var kc;function jI(n,e){let t=null;try{kc=kc||yP(n);let r=e?String(e):"";t=kc.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=kc.getInertBodyElement(r)}while(r!==s);let a=new Hp().sanitizeChildren(Hb(t)||t);return Au(a)}finally{if(t){let r=Hb(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function Hb(n){return"content"in n&&xP(n)?n.content:null}function xP(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var ya=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ya||{});function BI(n){let e=Gg();return e?Fb(e.sanitize(ya.HTML,n)||""):Nu(n,"HTML")?Fb(bi(n)):jI(TI(),ci(n))}function _a(n){let e=Gg();return e?e.sanitize(ya.URL,n)||"":Nu(n,"URL")?bi(n):qg(ci(n))}function PP(n){let e=Gg();if(e)return Vb(e.sanitize(ya.RESOURCE_URL,n)||"");if(Nu(n,"ResourceURL"))return Vb(bi(n));throw new _(904,!1)}function kP(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?PP:_a}function HI(n,e,t){return kP(e,t)(n)}function Gg(){let n=oe();return n&&n[Yn].sanitizer}var LP=/^>|^->|<!--|-->|--!>|<!-$/g,FP=/(<|>)/g,VP="\u200B$1\u200B";function UP(n){return n.replace(LP,e=>e.replace(FP,VP))}function $I(n){return n.ownerDocument.defaultView}function zI(n){return n instanceof Function?n():n}function jP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}var WI="ng-template";function BP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&jP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Kg(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Kg(n){return n.type===4&&n.value!==WI}function HP(n,e,t){let r=n.type===4&&!t?WI:n.value;return e===r}function $P(n,e,t){let r=4,i=n.attrs,s=i!==null?qP(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!en(r)&&!en(l))return!1;if(o&&en(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!HP(n,l,t)||l===""&&e.length===1){if(en(r))return!1;o=!0}}else if(r&8){if(i===null||!BP(n,i,l,t)){if(en(r))return!1;o=!0}}else{let c=e[++a],u=zP(l,i,Kg(n),t);if(u===-1){if(en(r))return!1;o=!0;continue}if(c!==""){let d;if(u>s?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(en(r))return!1;o=!0}}}}return en(r)||o}function en(n){return(n&1)===0}function zP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return GP(e,n)}function WP(n,e,t=!1){for(let r=0;r<e.length;r++)if($P(n,e[r],t))return!0;return!1}function qP(n){for(let e=0;e<n.length;e++){let t=n[e];if(rI(t))return e}return n.length}function GP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function $b(n,e){return n?":not("+e.trim()+")":e}function KP(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!en(o)&&(e+=$b(s,i),i=""),r=o,s=s||!en(r);t++}return i!==""&&(e+=$b(s,i)),e}function YP(n){return n.map(KP).join(",")}function QP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!en(i))break;i=s}r++}return t.length&&e.push(1,...t),e}var Mn={};function ZP(n,e){return n.createText(e)}function JP(n,e,t){n.setValue(e,t)}function XP(n,e){return n.createComment(UP(e))}function qI(n,e,t){return n.createElement(e,t)}function su(n,e,t,r,i){n.insertBefore(e,t,r,i)}function GI(n,e,t){n.appendChild(e,t)}function zb(n,e,t,r,i){r!==null?su(n,e,t,r,i):GI(n,e,t)}function ek(n,e,t){n.removeChild(null,e,t)}function tk(n,e,t){n.setAttribute(e,"style",t)}function nk(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function KI(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&Ox(n,e,r),i!==null&&nk(n,e,i),s!==null&&tk(n,e,s)}function Yg(n,e,t,r,i,s,o,a,l,c,u){let d=Ht+r,f=d+i,h=rk(d,f),p=typeof c=="function"?c():c;return h[Q]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function rk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Mn);return t}function ik(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Yg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Qg(n,e,t,r,i,s,o,a,l,c,u){let d=e.blueprint.slice();return d[er]=i,d[V]=r|4|128|8|64|1024,(c!==null||n&&n[V]&2048)&&(d[V]|=2048),UC(d),d[at]=d[Fs]=n,d[pt]=t,d[Yn]=o||n&&n[Yn],d[Pe]=a||n&&n[Pe],d[aa]=l||n&&n[aa]||null,d[nn]=s,d[_u]=iP(),d[Kc]=u,d[OC]=c,d[yn]=e.type==2?n[yn]:d,d}function sk(n,e,t){let r=Tn(e,n),i=ik(t),s=n[Yn].rendererFactory,o=Zg(n,Qg(n,i,null,YI(t),r,e,null,s.createRenderer(r,t),null,null,null));return n[e.index]=o}function YI(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function QI(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Zg(n,e){return n[la]?n[bb][tn]=e:n[la]=e,n[bb]=e,e}function O(n=1){ZI(Ge(),oe(),Ei()+n,!1)}function ZI(n,e,t,r){if(!r)if((e[V]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Vc(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Uc(e,s,0,t)}gi(t)}var Ou=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ou||{});function $p(n,e,t,r){let i=ie(null);try{let[s,o,a]=n.inputs[t],l=null;(o&Ou.SignalBased)!==0&&(l=e[s][Ft]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,s):xC(e,l,s,r)}finally{ie(i)}}function JI(n,e,t,r,i){let s=Ei(),o=r&2;try{gi(-1),o&&e.length>Ht&&ZI(n,e,Ht,!1),ge(o?2:0,i),t(r,i)}finally{gi(s),ge(o?3:1,i)}}function Ru(n,e,t){dk(n,e,t),(t.flags&64)===64&&fk(n,e,t)}function Jg(n,e,t=Tn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function ok(n,e,t,r){let s=r.get(cP,AI)||t===bn.ShadowDom,o=n.selectRootElement(e,s);return ak(o),o}function ak(n){lk(n)}var lk=()=>null;function ck(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function XI(n,e,t,r,i,s,o,a){if(!a&&em(e,n,t,r,i)){Vs(e)&&uk(t,e.index);return}if(e.type&3){let l=Tn(e,t);r=ck(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)}else e.type&12}function uk(n,e){let t=En(e,n);t[V]&16||(t[V]|=64)}function dk(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Vs(t)&&sk(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||tu(t,e);let s=t.initialInputs;for(let o=r;o<i;o++){let a=n.data[o],l=ca(e,n,o,t);if(Bs(l,e),s!==null&&mk(e,o-r,l,a,t,s),_n(a)){let c=En(t.index,e);c[pt]=ca(e,n,o,t)}}}function fk(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=Ex();try{gi(s);for(let a=r;a<i;a++){let l=n.data[a],c=e[a];Sp(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&hk(l,c)}}finally{gi(-1),Sp(o)}}function hk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Xg(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];WP(e,s.selectors,!1)&&(r??=[],_n(s)?r.unshift(s):r.push(s))}return r}function pk(n,e,t,r,i,s){let o=Tn(n,e);gk(e[Pe],o,s,n.value,t,r,i)}function gk(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?ci(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function mk(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;a+=2){let l=o[a],c=o[a+1];$p(r,t,l,c)}}function eD(n,e){let t=n[aa],r=t?t.get(Zn,null):null;r&&r.handleError(e)}function em(n,e,t,r,i){let s=n.inputs?.[r],o=n.hostDirectiveInputs?.[r],a=!1;if(o)for(let l=0;l<o.length;l+=2){let c=o[l],u=o[l+1],d=e.data[c];$p(d,t[c],u,i),a=!0}if(s)for(let l of s){let c=t[l],u=e.data[l];$p(u,c,r,i),a=!0}return a}function vk(n,e){let t=En(e,n),r=t[Q];yk(r,t);let i=t[er];i!==null&&t[Kc]===null&&(t[Kc]=RI(i,t[aa])),ge(18),tm(r,t,t[pt]),ge(19,t[pt])}function yk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function tm(n,e,t){Mg(e);try{let r=n.viewQuery;r!==null&&Up(1,r,t);let i=n.template;i!==null&&JI(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Qn]?.finishViewCreation(n),n.staticContentQueries&&xI(n,e),n.staticViewQueries&&Up(2,n.viewQuery,t);let s=n.components;s!==null&&_k(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[V]&=-5,Ag()}}function _k(n,e){for(let t=0;t<e.length;t++)vk(n,e[t])}function tD(n,e,t,r){let i=ie(null);try{let s=e.tView,a=n[V]&4096?4096:16,l=Qg(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];l[fi]=c;let u=n[Qn];return u!==null&&(l[Qn]=u.createEmbeddedView(s)),tm(s,l,t),l}finally{ie(i)}}function zp(n,e){return!e||e.firstChild===null||wI(n)}var wk;function nm(n,e){return wk(n,e)}var Cn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Cn||{});function nD(n){return(n.flags&32)===32}function Ds(n,e,t,r,i){if(r!=null){let s,o=!1;tr(r)?s=r:Or(r)&&(o=!0,r=r[er]);let a=wn(r);n===0&&t!==null?i==null?GI(e,t,a):su(e,t,a,i||null,!0):n===1&&t!==null?su(e,t,a,i||null,!0):n===2?ek(e,a,o):n===3&&e.destroyNode(a),s!=null&&Rk(e,n,s,t,i)}}function Ek(n,e){rD(n,e),e[er]=null,e[nn]=null}function bk(n,e,t,r,i,s){r[er]=i,r[nn]=e,Pu(n,r,t,1,i,s)}function rD(n,e){e[Yn].changeDetectionScheduler?.notify(9),Pu(n,e,e[Pe],2,null,null)}function Ck(n){let e=n[la];if(!e)return up(n[Q],n);for(;e;){let t=null;if(Or(e))t=e[la];else{let r=e[Ct];r&&(t=r)}if(!t){for(;e&&!e[tn]&&e!==n;)Or(e)&&up(e[Q],e),e=e[at];e===null&&(e=n),Or(e)&&up(e[Q],e),t=e&&e[tn]}e=t}}function rm(n,e){let t=n[Os],r=t.indexOf(e);t.splice(r,1)}function im(n,e){if(pa(e))return;let t=e[Pe];t.destroyNode&&Pu(n,e,t,3,null,null),Ck(e)}function up(n,e){if(pa(e))return;let t=ie(null);try{e[V]&=-129,e[V]|=256,e[Bt]&&kh(e[Bt]),Dk(n,e),Ik(n,e),e[Q].type===1&&e[Pe].destroy();let r=e[fi];if(r!==null&&tr(e[at])){r!==e[at]&&rm(r,e);let i=e[Qn];i!==null&&i.detachView(n)}Lp(e)}finally{ie(t)}}function Ik(n,e){let t=n.cleanup,r=e[Yc];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[t[o+1]];t[o].call(a)}r!==null&&(e[Yc]=null);let i=e[Nr];if(i!==null){e[Nr]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[Qc];if(s!==null){e[Qc]=null;for(let o of s)o.destroy()}}function Dk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof mi)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];ge(4,a,l);try{l.call(a)}finally{ge(5,a,l)}}else{ge(4,i,s);try{s.call(i)}finally{ge(5,i,s)}}}}}function Sk(n,e,t){return Tk(n,e.parent,t)}function Tk(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[er];if(Vs(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===bn.None||i===bn.Emulated)return null}return Tn(r,t)}function Mk(n,e,t){return Nk(n,e,t)}function Ak(n,e,t){return n.type&40?Tn(n,t):null}var Nk=Ak,Wb;function xu(n,e,t,r){let i=Sk(n,r,e),s=e[Pe],o=r.parent||e[nn],a=Mk(o,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)zb(s,i,t[l],a,!1);else zb(s,i,t,a,!1);Wb!==void 0&&Wb(s,r,e,t,i)}function ra(n,e){if(e!==null){let t=e.type;if(t&3)return Tn(e,n);if(t&4)return Wp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ra(n,r);{let i=n[e.index];return tr(i)?Wp(-1,i):wn(i)}}else{if(t&128)return ra(n,e.next);if(t&32)return nm(e,n)()||wn(n[e.index]);{let r=iD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=pi(n[yn]);return ra(i,r)}else return ra(n,e.next)}}}return null}function iD(n,e){if(e!==null){let r=n[yn][nn],i=e.projection;return r.projection[i]}return null}function Wp(n,e){let t=Ct+n+1;if(t<e.length){let r=e[t],i=r[Q].firstChild;if(i!==null)return ra(r,i)}return e[hi]}function sm(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(o&&e===0&&(a&&Bs(wn(a),r),t.flags|=2),!nD(t))if(l&8)sm(n,e,t.child,r,i,s,!1),Ds(e,n,i,a,s);else if(l&32){let c=nm(t,r),u;for(;u=c();)Ds(e,n,i,u,s);Ds(e,n,i,a,s)}else l&16?Ok(n,e,r,t,i,s):Ds(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Pu(n,e,t,r,i,s){sm(t,r,n.firstChild,e,i,s,!1)}function Ok(n,e,t,r,i,s){let o=t[yn],l=o[nn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Ds(e,n,i,u,s)}else{let c=l,u=o[at];wI(r)&&(c.flags|=128),sm(n,e,c,u,i,s,!0)}}function Rk(n,e,t,r,i){let s=t[hi],o=wn(t);s!==o&&Ds(e,n,r,s,i);for(let a=Ct;a<t.length;a++){let l=t[a];Pu(l[Q],l,n,e,r,s)}}function xk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Cn.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Cn.Important),n.setStyle(t,r,i,s))}}function ou(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(wn(s)),tr(s)&&Pk(s,r);let o=t.type;if(o&8)ou(n,e,t.child,r);else if(o&32){let a=nm(t,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=iD(e,t);if(Array.isArray(a))r.push(...a);else{let l=pi(e[yn]);ou(l[Q],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Pk(n,e){for(let t=Ct;t<n.length;t++){let r=n[t],i=r[Q].firstChild;i!==null&&ou(r[Q],r,i,e)}n[hi]!==n[er]&&e.push(n[hi])}function sD(n){if(n[Ss]!==null){for(let e of n[Ss])e.impl.addSequence(e);n[Ss].length=0}}var oD=[];function kk(n){return n[Bt]??Lk(n)}function Lk(n){let e=oD.pop()??Object.create(Vk);return e.lView=n,e}function Fk(n){n.lView[Bt]!==n&&(n.lView=null,oD.push(n))}var Vk=H(E({},Qo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ga(n.lView)},consumerOnSignalRead(){this.lView[Bt]=this}});function Uk(n){let e=n[Bt]??Object.create(jk);return e.lView=n,e}var jk=H(E({},Qo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=pi(n.lView);for(;e&&!aD(e[Q]);)e=pi(e);e&&jC(e)},consumerOnSignalRead(){this.lView[Bt]=this}});function aD(n){return n.type!==2}function lD(n){if(n[Qc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Qc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[V]&8192)}}var Bk=100;function cD(n,e=!0,t=0){let i=n[Yn].rendererFactory,s=!1;s||i.begin?.();try{Hk(n,t)}catch(o){throw e&&eD(n,o),o}finally{s||i.end?.()}}function Hk(n,e){let t=qC();try{Ib(!0),qp(n,e);let r=0;for(;Eu(n);){if(r===Bk)throw new _(103,!1);r++,qp(n,1)}}finally{Ib(t)}}function $k(n,e,t,r){if(pa(e))return;let i=e[V],s=!1,o=!1;Mg(e);let a=!0,l=null,c=null;s||(aD(n)?(c=kk(e),l=tc(c)):AE()===null?(a=!1,c=Uk(e),l=tc(c)):e[Bt]&&(kh(e[Bt]),e[Bt]=null));try{UC(e),yx(n.bindingStartIndex),t!==null&&JI(n,e,t,2,r);let u=(i&3)===3;if(!s)if(u){let h=n.preOrderCheckHooks;h!==null&&Vc(e,h,null)}else{let h=n.preOrderHooks;h!==null&&Uc(e,h,0,null),ap(e,0)}if(o||zk(e),lD(e),uD(e,0),n.contentQueries!==null&&xI(n,e),!s)if(u){let h=n.contentCheckHooks;h!==null&&Vc(e,h)}else{let h=n.contentHooks;h!==null&&Uc(e,h,1),ap(e,1)}qk(n,e);let d=n.components;d!==null&&fD(e,d,0);let f=n.viewQuery;if(f!==null&&Up(2,f,r),!s)if(u){let h=n.viewCheckHooks;h!==null&&Vc(e,h)}else{let h=n.viewHooks;h!==null&&Uc(e,h,2),ap(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[op]){for(let h of e[op])h();e[op]=null}s||(sD(e),e[V]&=-73)}catch(u){throw s||ga(e),u}finally{c!==null&&(xh(c,l),a&&Fk(c)),Ag()}}function uD(n,e){for(let t=CI(n);t!==null;t=II(t))for(let r=Ct;r<t.length;r++){let i=t[r];dD(i,e)}}function zk(n){for(let e=CI(n);e!==null;e=II(e)){if(!(e[V]&2))continue;let t=e[Os];for(let r=0;r<t.length;r++){let i=t[r];jC(i)}}}function Wk(n,e,t){ge(18);let r=En(e,n);dD(r,t),ge(19,r[pt])}function dD(n,e){Ig(n)&&qp(n,e)}function qp(n,e){let r=n[Q],i=n[V],s=n[Bt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Ph(s)),o||=!1,s&&(s.dirty=!1),n[V]&=-9217,o)$k(r,n,r.template,n[pt]);else if(i&8192){lD(n),uD(n,1);let a=r.components;a!==null&&fD(n,a,1),sD(n)}}function fD(n,e,t){for(let r=0;r<e.length;r++)Wk(n,e[r],t)}function qk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)gi(~i);else{let s=i,o=t[++r],a=t[++r];wx(o,s);let l=e[s];ge(24,l),a(2,l),ge(25,l)}}}finally{gi(-1)}}function om(n,e){let t=qC()?64:1088;for(n[Yn].changeDetectionScheduler?.notify(e);n;){n[V]|=t;let r=pi(n);if(Jc(n)&&!r)return n;n=r}return null}function hD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function Gk(n,e){let t=Ct+e;if(t<n.length)return n[t]}function pD(n,e,t,r=!0){let i=e[Q];if(Yk(i,e,n,t),r){let o=Wp(t,n),a=e[Pe],l=a.parentNode(n[hi]);l!==null&&bk(i,n[nn],a,e,l,o)}let s=e[Kc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Kk(n,e){let t=au(n,e);return t!==void 0&&im(t[Q],t),t}function au(n,e){if(n.length<=Ct)return;let t=Ct+e,r=n[t];if(r){let i=r[fi];i!==null&&i!==n&&rm(i,r),e>0&&(n[t-1][tn]=r[tn]);let s=qc(n,Ct+e);Ek(r[Q],r);let o=s[Qn];o!==null&&o.detachView(s[Q]),r[at]=null,r[tn]=null,r[V]&=-129}return r}function Yk(n,e,t,r){let i=Ct+r,s=t.length;r>0&&(t[i-1][tn]=e),r<s-Ct?(e[tn]=t[i],bC(t,Ct+r,e)):(t.push(e),e[tn]=null),e[at]=t;let o=e[fi];o!==null&&t!==o&&gD(o,e);let a=e[Qn];a!==null&&a.insertView(n),Ip(e),e[V]|=128}function gD(n,e){let t=n[Os],r=e[at];if(Or(r))n[V]|=2;else{let i=r[at][yn];e[yn]!==i&&(n[V]|=2)}t===null?n[Os]=[e]:t.push(e)}var ua=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[Q];return ou(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[pt]}set context(e){this._lView[pt]=e}get destroyed(){return pa(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[at];if(tr(e)){let t=e[Zc],r=t?t.indexOf(this):-1;r>-1&&(au(e,r),qc(t,r))}this._attachedToViewContainer=!1}im(this._lView[Q],this._lView)}onDestroy(e){BC(this._lView,e)}markForCheck(){om(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[V]&=-129}reattach(){Ip(this._lView),this._lView[V]|=128}detectChanges(){this._lView[V]|=1024,cD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Jc(this._lView),t=this._lView[fi];t!==null&&!e&&rm(t,this._lView),rD(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=e;let t=Jc(this._lView),r=this._lView[fi];r!==null&&!t&&gD(r,this._lView),Ip(this._lView)}};var yi=(()=>{class n{static __NG_ELEMENT_ID__=Jk}return n})(),Qk=yi,Zk=class extends Qk{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=tD(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ua(i)}};function Jk(){return am(lt(),oe())}function am(n,e){return n.type&4?new Zk(e,n,js(n,e)):null}function ku(n,e,t,r,i){let s=n.data[e];if(s===null)s=Xk(n,e,t,r,i),_x()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=mx();s.injectorIndex=o===null?-1:o.injectorIndex}return wi(s,!0),s}function Xk(n,e,t,r,i){let s=zC(),o=Sg(),a=o?s:s&&s.parent,l=n.data[e]=tL(n,a,t,e,r,i);return eL(n,l,s,o),l}function eL(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function tL(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return hx()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Q9=new RegExp(`^(\\d+)*(${lP}|${aP})*(.*)`);var nL=()=>null;function Gp(n,e){return nL(n,e)}var rL=class{},mD=class{},Kp=class{resolveComponentFactory(e){throw Error(`No component factory found for ${bt(e)}.`)}},Lu=class{static NULL=new Kp},Rr=class{},gt=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>iL()}return n})();function iL(){let n=oe(),e=lt(),t=En(e.index,n);return(Or(t)?t:n)[Pe]}var sL=(()=>{class n{static \u0275prov=I({token:n,providedIn:"root",factory:()=>null})}return n})();function Yp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=gb(i,a);else if(s==2){let l=a,c=e[++o];r=gb(r,l+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function C(n,e=Y.Default){let t=oe();if(t===null)return R(n,e);let r=lt();return uI(r,t,ht(n),e)}function vD(){let n="invalid";throw new Error(n)}function lm(n,e,t,r,i){let s=r===null?null:{"":-1},o=i(n,t);if(o!==null){let a,l=null,c=null,u=aL(o);u===null?a=o:[a,l,c]=u,uL(n,e,t,a,s,l,c)}s!==null&&r!==null&&oL(t,r,s)}function oL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new _(-301,!1);r.push(e[i],s)}}function aL(n){let e=null,t=!1;for(let o=0;o<n.length;o++){let a=n[o];if(o===0&&_n(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,s=null;for(let o of n)o.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,s??=new Map,lL(o,r,s,i)),o===e&&(r??=[],r.push(o));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,s]):null}function lL(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function cL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function uL(n,e,t,r,i,s,o){let a=r.length,l=!1;for(let f=0;f<a;f++){let h=r[f];!l&&_n(h)&&(l=!0,cL(n,t,f)),Ap(tu(t,e),n,h.type)}mL(t,n.data.length,a);for(let f=0;f<a;f++){let h=r[f];h.providersResolver&&h.providersResolver(h)}let c=!1,u=!1,d=QI(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let f=0;f<a;f++){let h=r[f];if(t.mergedAttrs=xs(t.mergedAttrs,h.hostAttrs),fL(n,t,e,d,h),gL(d,h,i),o!==null&&o.has(h)){let[m,w]=o.get(h);t.directiveToIndex.set(h.type,[d,m+t.directiveStart,w+t.directiveStart])}else(s===null||!s.has(h))&&t.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),c=!0),!u&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}dL(n,t,s)}function dL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))qb(0,e,i,r),qb(1,e,i,r),Kb(e,r,!1);else{let s=t.get(i);Gb(0,e,s,r),Gb(1,e,s,r),Kb(e,r,!0)}}}function qb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o;n===0?o=e.inputs??={}:o=e.outputs??={},o[s]??=[],o[s].push(r),yD(e,s)}}function Gb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let s in i)if(i.hasOwnProperty(s)){let o=i[s],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[o]??=[],a[o].push(r,s),yD(e,o)}}function yD(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Kb(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:s}=n;if(r===null||!t&&i===null||t&&s===null||Kg(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let o=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let c=i[l];for(let u of c)if(u===e){o??=[],o.push(l,r[a+1]);break}}else if(t&&s.hasOwnProperty(l)){let c=s[l];for(let u=0;u<c.length;u+=2)if(c[u]===e){o??=[],o.push(c[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(o)}function fL(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Ms(i.type,!0)),o=new mi(s,_n(i),C);n.blueprint[r]=o,t[r]=o,hL(n,e,r,QI(n,t,i.hostVars,Mn),i)}function hL(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;pL(o)!=a&&o.push(a),o.push(t,r,s)}}function pL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function gL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;_n(e)&&(t[""]=n)}}function mL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function _D(n,e,t,r,i,s,o,a){let l=e.consts,c=Rs(l,o),u=ku(e,n,2,r,c);return s&&lm(e,t,u,Rs(l,a),i),u.mergedAttrs=xs(u.mergedAttrs,u.attrs),u.attrs!==null&&Yp(u,u.attrs,!1),u.mergedAttrs!==null&&Yp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function wD(n,e){xg(n,e),bg(e)&&n.queries.elementEnd(e)}var lu=class extends Lu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=di(e);return new Ps(t,this.ngModule)}};function vL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],s={propName:t,templateName:e,isSignal:(r&Ou.SignalBased)!==0};return i&&(s.transform=i),s})}function yL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function _L(n,e,t){let r=e instanceof tt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Tp(t,r):t}function wL(n){let e=n.get(Rr,null);if(e===null)throw new _(407,!1);let t=n.get(sL,null),r=n.get(vi,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function EL(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return qI(e,t,t==="svg"?FC:t==="math"?ix:null)}var Ps=class extends mD{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=vL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=yL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=YP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){ge(22);let s=ie(null);try{let o=this.componentDef,a=r?["ng-version","19.2.3"]:QP(this.componentDef.selectors[0]),l=Yg(0,null,null,1,0,null,null,null,null,[a],null),c=_L(o,i||this.ngModule,e),u=wL(c),d=u.rendererFactory.createRenderer(null,o),f=r?ok(d,r,o.encapsulation,c):EL(o,d),h=Qg(null,l,null,512|YI(o),null,null,u,d,c,null,RI(f,c,!0));h[Ht]=f,Mg(h);let p=null;try{let m=_D(Ht,l,h,"#host",()=>[this.componentDef],!0,0);f&&(KI(d,f,m),Bs(f,h)),Ru(l,h,m),Wg(l,m,h),wD(l,m),t!==void 0&&bL(m,this.ngContentSelectors,t),p=En(m.index,h),h[pt]=p[pt],tm(l,h,null)}catch(m){throw p!==null&&Lp(p),Lp(h),m}finally{ge(23),Ag()}return new Qp(this.componentType,h)}finally{ie(s)}}},Qp=class extends rL{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=Cg(t[Q],Ht),this.location=js(this._tNode,t),this.instance=En(this._tNode.index,t)[pt],this.hostView=this.changeDetectorRef=new ua(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,s=em(r,i[Q],i,e,t);this.previousInputValues.set(e,t);let o=En(r.index,i);om(o,1)}get injector(){return new li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function bL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null&&s.length?Array.from(s):null)}}var ar=(()=>{class n{static __NG_ELEMENT_ID__=CL}return n})();function CL(){let n=lt();return bD(n,oe())}var IL=ar,ED=class extends IL{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return js(this._hostTNode,this._hostLView)}get injector(){return new li(this._hostTNode,this._hostLView)}get parentInjector(){let e=Pg(this._hostTNode,this._hostLView);if(iI(e)){let t=eu(e,this._hostLView),r=Xc(e),i=t[Q].data[r+8];return new li(i,t)}else return new li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Yb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Gp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,zp(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!ex(e),a;if(o)a=t;else{let p=t||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=o?e:new Ps(di(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let m=(o?c:this.parentInjector).get(tt,null);m&&(s=m)}let u=di(l.componentType??{}),d=Gp(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,s);return this.insertImpl(h.hostView,a,zp(this._hostTNode,d)),h}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(ox(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[at],c=new ED(l,l[nn],l[at]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return pD(o,i,s,r),e.attachToViewContainerRef(),bC(dp(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Yb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=au(this._lContainer,t);r&&(qc(dp(this._lContainer),t),im(r[Q],r))}detach(e){let t=this._adjustIndex(e,-1),r=au(this._lContainer,t);return r&&qc(dp(this._lContainer),t)!=null?new ua(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Yb(n){return n[Zc]}function dp(n){return n[Zc]||(n[Zc]=[])}function bD(n,e){let t,r=e[n.index];return tr(r)?t=r:(t=hD(r,e,null,n),e[n.index]=t,Zg(e,t)),SL(t,e,n,r),new ED(t,n,e)}function DL(n,e){let t=n[Pe],r=t.createComment(""),i=Tn(e,n),s=t.parentNode(i);return su(t,s,r,t.nextSibling(i),!1),r}var SL=AL,TL=()=>!1;function ML(n,e,t){return TL(n,e,t)}function AL(n,e,t,r){if(n[hi])return;let i;t.type&8?i=wn(r):i=DL(e,t),n[hi]=i}var Zp=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Jp=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)cm(e,t).matches!==null&&this.queries[t].setDirty()}},cu=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=FL(e):this.predicate=e}},Xp=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},eg=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,NL(t,s)),this.matchTNodeWithReadOption(e,t,jc(t,e,s,!1,!1))}else r===yi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,jc(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ve||i===ar||i===yi&&t.type&4)this.addMatch(t.index,-2);else{let s=jc(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function NL(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function OL(n,e){return n.type&11?js(n,e):n.type&4?am(n,e):null}function RL(n,e,t,r){return t===-1?OL(e,n):t===-2?xL(n,e,r):ca(n,n[Q],t,e)}function xL(n,e,t){if(t===Ve)return js(e,n);if(t===yi)return am(e,n);if(t===ar)return bD(e,n)}function CD(n,e,t,r){let i=e[Qn].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(RL(e,u,o[l+1],t.metadata.read))}}i.matches=a}return i.matches}function tg(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=CD(n,e,i,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)r.push(o[a/2]);else{let c=s[a+1],u=e[-l];for(let d=Ct;d<u.length;d++){let f=u[d];f[fi]===f[at]&&tg(f[Q],f,c,r)}if(u[Os]!==null){let d=u[Os];for(let f=0;f<d.length;f++){let h=d[f];tg(h[Q],h,c,r)}}}}}return r}function PL(n,e){return n[Qn].queries[e].queryList}function ID(n,e,t){let r=new kp((t&4)===4);return cx(n,e,r,r.destroy),(e[Qn]??=new Jp).queries.push(new Zp(r))-1}function kL(n,e,t){let r=Ge();return r.firstCreatePass&&(DD(r,new cu(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),ID(r,oe(),e)}function LL(n,e,t,r){let i=Ge();if(i.firstCreatePass){let s=lt();DD(i,new cu(e,t,r),s.index),VL(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return ID(i,oe(),t)}function FL(n){return n.split(",").map(e=>e.trim())}function DD(n,e,t){n.queries===null&&(n.queries=new Xp),n.queries.track(new eg(e,t))}function VL(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function cm(n,e){return n.queries.getByIndex(e)}function UL(n,e){let t=n[Q],r=cm(t,e);return r.crossesNgTemplate?tg(t,n,e,[]):CD(t,n,r,e)}var ks=class{},um=class{};var ng=class extends ks{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new lu(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let s=DC(e);this._bootstrapComponents=zI(s.bootstrap),this._r3Injector=hI(e,t,[{provide:ks,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver},...r],bt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},rg=class extends um{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ng(this.moduleType,e,[])}};var uu=class extends ks{injector;componentFactoryResolver=new lu(this);instance=null;constructor(e){super();let t=new oa([...e.providers,{provide:ks,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver}],e.parent||Eg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Fu(n,e,t=null){return new uu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var jL=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=SC(!1,t.type),i=r.length>0?Fu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=I({token:n,providedIn:"environment",factory:()=>new n(R(tt))})}return n})();function Ue(n){return fa(()=>{let e=SD(n),t=H(E({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===EI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(jL).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||bn.Emulated,styles:n.styles||jt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&sr("NgStandalone"),TD(t);let r=n.dependencies;return t.directiveDefs=Qb(r,!1),t.pipeDefs=Qb(r,!0),t.id=WL(t),t})}function BL(n){return di(n)||HR(n)}function HL(n){return n!==null}function At(n){return fa(()=>({type:n.type,bootstrap:n.bootstrap||jt,declarations:n.declarations||jt,imports:n.imports||jt,exports:n.exports||jt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function $L(n,e){if(n==null)return ui;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a,l;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s,l=i[3]||null):(s=i,o=i,a=Ou.None,l=null),t[s]=[r,a,l],e[s]=o}return t}function zL(n){if(n==null)return ui;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function me(n){return fa(()=>{let e=SD(n);return TD(e),e})}function SD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ui,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||jt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$L(n.inputs,e),outputs:zL(n.outputs),debugInfo:null}}function TD(n){n.features?.forEach(e=>e(n))}function Qb(n,e){if(!n)return null;let t=e?$R:BL;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(HL)}function WL(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function qL(n){return Object.getPrototypeOf(n.prototype).constructor}function mt(n){let e=qL(n.type),t=!0,r=[n];for(;e;){let i;if(_n(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new _(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=fp(n.inputs),o.declaredInputs=fp(n.declaredInputs),o.outputs=fp(n.outputs);let a=i.hostBindings;a&&ZL(n,a);let l=i.viewQuery,c=i.contentQueries;if(l&&YL(n,l),c&&QL(n,c),GL(n,i),wR(n.outputs,i.outputs),_n(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===mt&&(t=!1)}}e=Object.getPrototypeOf(e)}KL(r)}function GL(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function KL(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xs(i.hostAttrs,t=xs(t,i.hostAttrs))}}function fp(n){return n===ui?{}:n===jt?[]:n}function YL(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function QL(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function ZL(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function MD(n){return dm(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function JL(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function dm(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function AD(n,e,t){return n[e]=t}function In(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function ND(n,e,t,r){let i=In(n,e,t);return In(n,e+1,r)||i}function XL(n,e,t,r,i){let s=ND(n,e,t,r);return In(n,e+2,i)||s}function eF(n,e,t,r,i,s,o,a,l){let c=e.consts,u=ku(e,n,4,o||null,a||null);Dg()&&lm(e,t,u,Rs(c,l),Xg),u.mergedAttrs=xs(u.mergedAttrs,u.attrs),xg(e,u);let d=u.tView=Yg(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function tF(n,e,t,r,i,s,o,a,l,c){let u=t+Ht,d=e.firstCreatePass?eF(u,e,n,r,i,s,o,a,l):e.data[u];wi(d,!1);let f=nF(e,n,d,t);Iu()&&xu(e,n,f,d),Bs(f,n);let h=hD(f,n,f,d);return n[u]=h,Zg(n,h),ML(h,d,n),wu(d)&&Ru(e,n,d),l!=null&&Jg(n,d,c),d}function Ce(n,e,t,r,i,s,o,a){let l=oe(),c=Ge(),u=Rs(c.consts,s);return tF(l,c,n,e,t,r,i,u,o,a),Ce}var nF=rF;function rF(n,e,t,r){return Du(!0),e[Pe].createComment("")}var fm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var OD=new S("");var iF=(()=>{class n{static \u0275prov=I({token:n,providedIn:"root",factory:()=>new ig})}return n})(),ig=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Ci(n){return!!n&&typeof n.then=="function"}function RD(n){return!!n&&typeof n.subscribe=="function"}var Vu=new S("");var xD=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=v(Vu,{optional:!0})??[];injector=v(Ne);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=qe(this.injector,i);if(Ci(s))t.push(s);else if(RD(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wa=new S("");function sF(){UE(()=>{throw new _(600,!1)})}function oF(n){return n.isBoundToModule}var aF=10;var Jn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=v(Qx);afterRenderManager=v(OI);zonelessEnabled=v(Su);rootEffectScheduler=v(iF);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new we;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=v(nr).hasPendingTasks.pipe(B(t=>!t));constructor(){v(Hs,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=v(tt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){ge(10);let i=t instanceof mD;if(!this._injector.get(xD).done){let f="";throw new _(405,f)}let o;i?o=t:o=this._injector.get(Lu).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=oF(o)?void 0:this._injector.get(ks),l=r||o.selector,c=o.create(Ne.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(OD,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Bc(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),ge(11,c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ge(12),this.tracingSnapshot!==null?this.tracingSnapshot.run($g.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new _(101,!1);let t=ie(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ie(t),this.afterTick.next(),ge(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Rr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<aF;)ge(14),this.synchronizeOnce(),ge(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)lF(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Eu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Bc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(wa,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Bc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new _(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function lF(n,e,t,r){if(!t&&!Eu(n))return;cD(n,e,t&&!r?0:1)}function rn(n,e,t,r){let i=oe(),s=ma();if(In(i,s,e)){let o=Ge(),a=Ng();pk(a,i,n,e,t,r)}return rn}function cF(n,e,t,r){return In(n,ma(),t)?e+ci(t)+r:Mn}function uF(n,e,t,r,i,s){let o=vx(),a=ND(n,o,t,i);return KC(2),a?e+ci(t)+r+ci(i)+s:Mn}function Lc(n,e){return n<<17|e<<2}function _i(n){return n>>17&32767}function dF(n){return(n&2)==2}function fF(n,e){return n&131071|e<<17}function sg(n){return n|2}function Ls(n){return(n&131068)>>2}function hp(n,e){return n&-131069|e<<2}function hF(n){return(n&1)===1}function og(n){return n|1}function pF(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=_i(o),l=Ls(o);n[r]=t;let c=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||ha(d,u)>0)&&(c=!0)}else u=t;if(i)if(l!==0){let f=_i(n[a+1]);n[r+1]=Lc(f,a),f!==0&&(n[f+1]=hp(n[f+1],r)),n[a+1]=fF(n[a+1],r)}else n[r+1]=Lc(a,0),a!==0&&(n[a+1]=hp(n[a+1],r)),a=r;else n[r+1]=Lc(l,0),a===0?a=r:n[l+1]=hp(n[l+1],r),l=r;c&&(n[r+1]=sg(n[r+1])),Zb(n,u,r,!0),Zb(n,u,r,!1),gF(e,u,n,r,s),o=Lc(a,l),s?e.classBindings=o:e.styleBindings=o}function gF(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&ha(s,e)>=0&&(t[r+1]=og(t[r+1]))}function Zb(n,e,t,r){let i=n[t+1],s=e===null,o=r?_i(i):Ls(i),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],c=n[o+1];mF(l,e)&&(a=!0,n[o+1]=r?og(c):sg(c)),o=r?_i(c):Ls(c)}a&&(n[t+1]=r?sg(i):og(i))}function mF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ha(n,e)>=0:!1}function L(n,e,t){let r=oe(),i=ma();if(In(r,i,e)){let s=Ge(),o=Ng();XI(s,o,r,n,e,r[Pe],t,!1)}return L}function Jb(n,e,t,r,i){em(e,n,t,i?"class":"style",r)}function $s(n,e,t){return PD(n,e,t,!1),$s}function Te(n,e){return PD(n,e,null,!0),Te}function PD(n,e,t,r){let i=oe(),s=Ge(),o=KC(2);if(s.firstUpdatePass&&yF(s,n,o,r),e!==Mn&&In(i,o,e)){let a=s.data[Ei()];CF(s,a,i,i[Pe],n,i[o+1]=IF(e,t),r,o)}}function vF(n,e){return e>=n.expandoStartIndex}function yF(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Ei()],o=vF(n,t);DF(s,r)&&e===null&&!o&&(e=!1),e=_F(i,s,e,r),pF(i,s,e,t,o,r)}}function _F(n,e,t,r){let i=bx(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=pp(null,n,e,t,r),t=da(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=pp(i,n,e,t,r),s===null){let l=wF(n,e,r);l!==void 0&&Array.isArray(l)&&(l=pp(null,n,e,l[1],r),l=da(l,e.attrs,r),EF(n,e,r,l))}else s=bF(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function wF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ls(r)!==0)return n[_i(r)]}function EF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[_i(i)]=r}function bF(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=da(r,o,t)}return da(r,e.attrs,t)}function pp(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=da(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function da(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),jR(n,o,t?!0:e[++s]))}return n===void 0?null:n}function CF(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let l=n.data,c=l[a+1],u=hF(c)?Xb(l,e,t,i,Ls(c),o):void 0;if(!du(u)){du(s)||dF(c)&&(s=Xb(l,null,t,i,a,o));let d=VC(Ei(),t);xk(r,o,d,i,s)}}function Xb(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=t[i+1];f===Mn&&(f=d?jt:void 0);let h=d?ip(f,r):u===r?f:void 0;if(c&&!du(h)&&(h=ip(l,r)),du(h)&&(a=h,o))return a;let p=n[i+1];i=o?_i(p):Ls(p)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=ip(l,r))}return a}function du(n){return n!==void 0}function IF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=bt(bi(n)))),n}function DF(n,e){return(n.flags&(e?8:16))!==0}function kD(n,e){sr("NgControlFlow");let t=oe(),r=ma(),i=t[r]!==Mn?t[r]:-1,s=i!==-1?eC(t,Ht+i):void 0,o=0;if(In(t,r,n)){let a=ie(null);try{if(s!==void 0&&Kk(s,o),n!==-1){let l=Ht+n,c=eC(t,l),u=SF(t[Q],l),d=Gp(c,u.tView.ssrId),f=tD(t,u,e,{dehydratedView:d});pD(c,f,o,zp(u,d))}}finally{ie(a)}}else if(s!==void 0){let a=Gk(s,o);a!==void 0&&(a[pt]=e)}}function eC(n,e){return n[e]}function SF(n,e){return Cg(n,e)}function D(n,e,t,r){let i=oe(),s=Ge(),o=Ht+n,a=i[Pe],l=s.firstCreatePass?_D(o,s,i,e,Xg,Dg(),t,r):s.data[o],c=TF(s,i,l,a,e,n);i[o]=c;let u=wu(l);return wi(l,!0),KI(a,c,l),!nD(l)&&Iu()&&xu(s,i,c,l),(ux()===0||u)&&Bs(c,i),dx(),u&&(Ru(s,i,l),Wg(s,l,i)),r!==null&&Jg(i,l),D}function A(){let n=lt();Sg()?WC():(n=n.parent,wi(n,!1));let e=n;px(e)&&gx(),fx();let t=Ge();return t.firstCreatePass&&wD(t,e),e.classesWithoutHost!=null&&Ax(e)&&Jb(t,e,oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Nx(e)&&Jb(t,e,oe(),e.stylesWithoutHost,!1),A}function J(n,e,t,r){return D(n,e,t,r),A(),J}var TF=(n,e,t,r,i,s)=>(Du(!0),qI(r,i,Sx()));function MF(n,e,t,r,i){let s=e.consts,o=Rs(s,r),a=ku(e,n,8,"ng-container",o);o!==null&&Yp(a,o,!0);let l=Rs(s,i);return Dg()&&lm(e,t,a,l,Xg),a.mergedAttrs=xs(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function Uu(n,e,t){let r=oe(),i=Ge(),s=n+Ht,o=i.firstCreatePass?MF(s,i,r,e,t):i.data[s];wi(o,!0);let a=AF(i,r,o,n);return r[s]=a,Iu()&&xu(i,r,a,o),Bs(a,r),wu(o)&&(Ru(i,r,o),Wg(i,o,r)),t!=null&&Jg(r,o),Uu}function ju(){let n=lt(),e=Ge();return Sg()?WC():(n=n.parent,wi(n,!1)),e.firstCreatePass&&(xg(e,n),bg(n)&&e.queries.elementEnd(n)),ju}var AF=(n,e,t,r)=>(Du(!0),XP(e[Pe],""));function LD(){return oe()}var fu="en-US";var NF=fu;function OF(n){typeof n=="string"&&(NF=n.toLowerCase().replace(/_/g,"-"))}var RF=(n,e,t)=>{};function he(n,e,t,r){let i=oe(),s=Ge(),o=lt();return FD(s,i,i[Pe],o,n,e,r),he}function xF(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[Yc],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function FD(n,e,t,r,i,s,o){let a=wu(r),c=n.firstCreatePass?$C(n):null,u=e[pt],d=HC(e),f=!0;if(r.type&3||o){let h=Tn(r,e),p=o?o(h):h,m=d.length,w=o?ne=>o(wn(ne[r.index])):r.index,T=null;if(!o&&a&&(T=xF(n,e,i,r.index)),T!==null){let ne=T.__ngLastListenerFn__||T;ne.__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,f=!1}else{s=rC(r,e,u,s),RF(p,i,s);let ne=t.listen(p,i,s);d.push(s,ne),c&&c.push(i,w,m,m+1)}}else s=rC(r,e,u,s);if(f){let h=r.outputs?.[i],p=r.hostDirectiveOutputs?.[i];if(p&&p.length)for(let m=0;m<p.length;m+=2){let w=p[m],T=p[m+1];tC(r,n,e,w,T,i,s,d,c)}if(h&&h.length)for(let m of h)tC(r,n,e,m,i,i,s,d,c)}}function tC(n,e,t,r,i,s,o,a,l){let c=t[r],d=e.data[r].outputs[i],h=c[d].subscribe(o),p=a.length;a.push(o,h),l&&l.push(s,n.index,p,-(p+1))}function nC(n,e,t,r){let i=ie(null);try{return ge(6,e,t),t(r)!==!1}catch(s){return eD(n,s),!1}finally{ge(7,e,t),ie(i)}}function rC(n,e,t,r){return function i(s){if(s===Function)return r;let o=Vs(n)?En(n.index,e):e;om(o,5);let a=nC(e,t,r,s),l=i.__ngNextListenerFn__;for(;l;)a=nC(e,t,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function je(n=1){return Ix(n)}function hm(n,e,t,r){LL(n,e,t,r)}function ct(n,e,t){kL(n,e,t)}function Ke(n){let e=oe(),t=Ge(),r=YC();Tg(r+1);let i=cm(t,r);if(n.dirty&&sx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=UL(e,r);n.reset(s,Xx),n.notifyOnChanges()}return!0}return!1}function Ye(){return PL(oe(),YC())}function X(n,e=""){let t=oe(),r=Ge(),i=n+Ht,s=r.firstCreatePass?ku(r,i,1,e,null):r.data[i],o=PF(r,t,s,e,n);t[i]=o,Iu()&&xu(r,t,o,s),wi(s,!1)}var PF=(n,e,t,r,i)=>(Du(!0),ZP(e[Pe],r));function pm(n){return zs("",n,""),pm}function zs(n,e,t){let r=oe(),i=cF(r,n,e,t);return i!==Mn&&VD(r,Ei(),i),zs}function Bu(n,e,t,r,i){let s=oe(),o=uF(s,n,e,t,r,i);return o!==Mn&&VD(s,Ei(),o),Bu}function VD(n,e,t){let r=VC(e,n);JP(n[Pe],r,t)}function Hu(n,e,t){_I(e)&&(e=e());let r=oe(),i=ma();if(In(r,i,e)){let s=Ge(),o=Ng();XI(s,o,r,n,e,r[Pe],t,!1)}return Hu}function $u(n,e){let t=_I(n);return t&&n.set(e),t}function zu(n,e){let t=oe(),r=Ge(),i=lt();return FD(r,t,t[Pe],i,n,e),zu}function kF(n,e,t){let r=Ge();if(r.firstCreatePass){let i=_n(n);ag(t,r.data,r.blueprint,i,!0),ag(e,r.data,r.blueprint,i,!1)}}function ag(n,e,t,r,i){if(n=ht(n),Array.isArray(n))for(let s=0;s<n.length;s++)ag(n[s],e,t,r,i);else{let s=Ge(),o=oe(),a=lt(),l=Ns(n)?n:ht(n.provide),c=AC(n),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ns(n)||!n.multi){let h=new mi(c,i,C),p=mp(l,e,i?u:u+f,d);p===-1?(Ap(tu(a,o),s,l),gp(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(h),o.push(h)):(t[p]=h,o[p]=h)}else{let h=mp(l,e,u+f,d),p=mp(l,e,u,u+f),m=h>=0&&t[h],w=p>=0&&t[p];if(i&&!w||!i&&!m){Ap(tu(a,o),s,l);let T=VF(i?FF:LF,t.length,i,r,c);!i&&w&&(t[p].providerFactory=T),gp(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(T),o.push(T)}else{let T=UD(t[i?p:h],c,!i&&r);gp(s,n,h>-1?h:p,T)}!i&&r&&w&&t[p].componentProviders++}}}function gp(n,e,t,r){let i=Ns(e),s=KR(e);if(i||s){let l=(s?ht(e.useClass):e).prototype.ngOnDestroy;if(l){let c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(t);u===-1?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function UD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function mp(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function LF(n,e,t,r){return lg(this.multi,[])}function FF(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ca(t,t[Q],this.providerFactory.index,r);s=a.slice(0,o),lg(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],lg(i,s);return s}function lg(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function VF(n,e,t,r,i){let s=new mi(n,t,C);return s.multi=[],s.index=e,s.componentProviders=0,UD(s,i,r&&!t),s}function An(n,e=[]){return t=>{t.providersResolver=(r,i)=>kF(r,i?i(n):n,e)}}function jD(n,e,t,r){return UF(oe(),GC(),n,e,t,r)}function BD(n,e,t,r,i,s){return jF(oe(),GC(),n,e,t,r,i,s)}function HD(n,e){let t=n[e];return t===Mn?void 0:t}function UF(n,e,t,r,i,s){let o=e+t;return In(n,o,i)?AD(n,o+1,s?r.call(s,i):r(i)):HD(n,o+1)}function jF(n,e,t,r,i,s,o,a){let l=e+t;return XL(n,l,i,s,o)?AD(n,l+3,a?r.call(a,i,s,o):r(i,s,o)):HD(n,l+3)}var Xn=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},$D=new Xn("19.2.3"),cg=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Wu=(()=>{class n{compileModuleSync(t){return new rg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=DC(t),s=zI(i.declarations).reduce((o,a)=>{let l=di(a);return l&&o.push(new Ps(l)),o},[]);return new cg(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var BF=(()=>{class n{zone=v(le);changeDetectionScheduler=v(vi);applicationRef=v(Jn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HF=new S("",{factory:()=>!1});function zD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new le(H(E({},qD()),{scheduleInRootZone:t})),[{provide:le,useFactory:n},{provide:As,multi:!0,useFactory:()=>{let r=v(BF,{optional:!0});return()=>r.initialize()}},{provide:As,multi:!0,useFactory:()=>{let r=v($F);return()=>{r.initialize()}}},e===!0?{provide:gI,useValue:!0}:[],{provide:mI,useValue:t??pI}]}function WD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=zD({ngZoneFactory:()=>{let i=qD(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&sr("NgZone_CoalesceEvent"),new le(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Sn([{provide:HF,useValue:!0},{provide:Su,useValue:!1},r])}function qD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var $F=(()=>{class n{subscription=new De;initialized=!1;zone=v(le);pendingTasks=v(nr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{le.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zF=(()=>{class n{appRef=v(Jn);taskService=v(nr);ngZone=v(le);zonelessEnabled=v(Su);tracing=v(Hs,{optional:!0});disableScheduling=v(gI,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new De;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ru):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(v(mI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Pp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Ob:vI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ru+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ob(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WF(){return typeof $localize<"u"&&$localize.locale||fu}var gm=new S("",{providedIn:"root",factory:()=>v(gm,Y.Optional|Y.SkipSelf)||WF()});var ug=new S(""),qF=new S("");function ta(n){return!n.moduleRef}function GF(n){let e=ta(n)?n.r3Injector:n.moduleRef.injector,t=e.get(le);return t.run(()=>{ta(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Zn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),ta(n)){let s=()=>e.destroy(),o=n.platformInjector.get(ug);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(ug);o.add(s),n.moduleRef.onDestroy(()=>{Bc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return YF(r,t,()=>{let s=e.get(xD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(gm,fu);if(OF(o||fu),!e.get(qF,!0))return ta(n)?e.get(Jn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ta(n)){let l=e.get(Jn);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return KF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function KF(n,e){let t=n.injector.get(Jn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new _(-403,!1);e.push(n)}function YF(n,e,t){try{let r=t();return Ci(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Hc=null;function QF(n=[],e){return Ne.create({name:e,providers:[{provide:vu,useValue:"platform"},{provide:ug,useValue:new Set([()=>Hc=null])},...n]})}function ZF(n=[]){if(Hc)return Hc;let e=QF(n);return Hc=e,sF(),JF(e),e}function JF(n){let e=n.get(Ug,null);qe(n,()=>{e?.forEach(t=>t())})}function mm(){return!1}var Nt=(()=>{class n{static __NG_ELEMENT_ID__=XF}return n})();function XF(n){return e1(lt(),oe(),(n&16)===16)}function e1(n,e,t){if(Vs(n)&&!t){let r=En(n.index,e);return new ua(r,r)}else if(n.type&175){let r=e[yn];return new ua(r,e)}return null}var dg=class{constructor(){}supports(e){return MD(e)}create(e){return new fg(e)}},t1=(n,e)=>e,fg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||t1}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<iC(r,i,s)?t:r,a=iC(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<c&&(s[f]=h+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!MD(e))throw new _(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,JL(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new hg(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new hu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new hu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},hg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},pg=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},hu=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new pg,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function iC(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var gg=class{constructor(){}supports(e){return e instanceof Map||dm(e)}create(){return new mg}},mg=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||dm(e)))throw new _(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new vg(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},vg=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function sC(){return new vm([new dg])}var vm=(()=>{class n{factories;static \u0275prov=I({token:n,providedIn:"root",factory:sC});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||sC()),deps:[[n,new EC,new Dn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new _(901,!1)}}return n})();function oC(){return new ym([new gg])}var ym=(()=>{class n{static \u0275prov=I({token:n,providedIn:"root",factory:oC});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||oC()),deps:[[n,new EC,new Dn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new _(901,!1)}}return n})();function GD(n){ge(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=ZF(r),s=[zD({}),{provide:vi,useExisting:zF},...t||[]],o=new uu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return GF({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{ge(9)}}function zt(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function _m(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Nn(n){return HE(n)}function Ii(n,e){return LE(n,e?.equal)}var aC=class{[Ft];constructor(e){this[Ft]=e}destroy(){this[Ft].destroy()}};function KD(n){let e=di(n);if(!e)return null;let t=new Ps(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var tS=null;function cr(){return tS}function nS(n){tS??=n}var qu=class{};var Qe=new S(""),Im=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>v(n1),providedIn:"platform"})}return n})(),rS=new S(""),n1=(()=>{class n extends Im{_location;_history;_doc=v(Qe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cr().getBaseHref(this._doc)}onPopState(t){let r=cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Dm(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function YD(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function lr(n){return n&&n[0]!=="?"?`?${n}`:n}var ur=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>v(Sm),providedIn:"root"})}return n})(),iS=new S(""),Sm=(()=>{class n extends ur{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(Qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Dm(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+lr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+lr(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+lr(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(R(Im),R(iS,8))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sS=(()=>{class n extends ur{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Dm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+lr(s))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+lr(s))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(R(Im),R(iS,8))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),qs=(()=>{class n{_subject=new we;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=s1(YD(QD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+lr(r))}normalize(t){return n.stripTrailingSlash(i1(this._basePath,QD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=lr;static joinWithSlash=Dm;static stripTrailingSlash=YD;static \u0275fac=function(r){return new(r||n)(R(ur))};static \u0275prov=I({token:n,factory:()=>r1(),providedIn:"root"})}return n})();function r1(){return new qs(R(ur))}function i1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function QD(n){return n.replace(/\/index.html$/,"")}function s1(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Gu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var wm=/\s+/,ZD=[],Ku=(()=>{class n{_ngEl;_renderer;initialClasses=ZD;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(wm):ZD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(wm):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(wm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(C(Ve),C(gt))};static \u0275dir=me({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Em=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Yu=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Em(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),JD(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);JD(s,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(C(ar),C(yi),C(vm))};static \u0275dir=me({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function JD(n,e){n.context.$implicit=e.item}var sn=(()=>{class n{_viewContainer;_context=new bm;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){XD(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){XD(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(C(ar),C(yi))};static \u0275dir=me({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),bm=class{$implicit=null;ngIf=null};function XD(n,e){if(n&&!n.createEmbeddedView)throw new _(2020,!1)}var oS=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,s]=t.split("."),o=i.indexOf("-")===-1?void 0:Cn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(C(Ve),C(ym),C(gt))};static \u0275dir=me({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),aS=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(C(ar))};static \u0275dir=me({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Mt]})}return n})();var Tm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=At({type:n});static \u0275inj=Tt({})}return n})(),lS="browser",o1="server";function Mm(n){return n===o1}var cS=(()=>{class n{static \u0275prov=I({token:n,providedIn:"root",factory:()=>new Cm(v(Qe),window)})}return n})(),Cm=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=a1(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function a1(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Ws=class{};var uS=n=>n.src,l1=new S("",{providedIn:"root",factory:()=>uS});var eS=/^((\s*\d+w\s*(,|$)){1,})$/;var c1=[1,2],u1=640;var d1=1920,f1=1080;var dS=(()=>{class n{imageLoader=v(l1);config=h1(v(MI));renderer=v(gt);imgElement=v(Ve).nativeElement;injector=v(Ne);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){sr("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");let t=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&eS.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(t){if(t.ngSrc&&!t.ngSrc.isFirstChange()){let r=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(t){let r=t;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){if(!this._renderedSrc){let t={src:this.ngSrc};this._renderedSrc=this.callImageLoader(t)}return this._renderedSrc}getRewrittenSrcset(){let t=eS.test(this.ngSrcset);return this.ngSrcset.split(",").filter(i=>i!=="").map(i=>{i=i.trim();let s=t?parseFloat(i):parseFloat(i)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:s})} ${i}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:t}=this.config,r=t;return this.sizes?.trim()==="100vw"&&(r=t.filter(s=>s>=u1)),r.map(s=>`${this.callImageLoader({src:this.ngSrc,width:s})} ${s}w`).join(", ")}updateSrcAndSrcset(t=!1){t&&(this._renderedSrc=null);let r=this.getRewrittenSrc();this.setHostAttribute("src",r);let i;return this.ngSrcset?i=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(i=this.getAutomaticSrcset()),i&&this.setHostAttribute("srcset",i),i}getFixedSrcset(){return c1.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){let t=!1;return this.sizes||(t=this.width>d1||this.height>f1),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==uS&&!t}generatePlaceholder(t){let{placeholderResolution:r}=this.config;return t===!0?`url(${this.callImageLoader({src:this.ngSrc,width:r,isPlaceholder:!0})})`:typeof t=="string"?`url(${t})`:null}shouldBlurPlaceholder(t){return!t||!t.hasOwnProperty("blur")?!0:!!t.blur}removePlaceholderOnLoad(t){let r=()=>{let o=this.injector.get(Nt);i(),s(),this.placeholder=!1,o.markForCheck()},i=this.renderer.listen(t,"load",r),s=this.renderer.listen(t,"error",r);p1(t,r)}setHostAttribute(t,r){this.renderer.setAttribute(this.imgElement,t,r)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=me({type:n,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(r,i){r&2&&$s("position",i.fill?"absolute":null)("width",i.fill?"100%":null)("height",i.fill?"100%":null)("inset",i.fill?"0":null)("background-size",i.placeholder?"cover":null)("background-position",i.placeholder?"50% 50%":null)("background-repeat",i.placeholder?"no-repeat":null)("background-image",i.placeholder?i.generatePlaceholder(i.placeholder):null)("filter",i.placeholder&&i.shouldBlurPlaceholder(i.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",g1],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",_m],height:[2,"height","height",_m],loading:"loading",priority:[2,"priority","priority",zt],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",zt],fill:[2,"fill","fill",zt],placeholder:[2,"placeholder","placeholder",m1],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[Mt]})}return n})();function h1(n){let e={};return n.breakpoints&&(e.breakpoints=n.breakpoints.sort((t,r)=>t-r)),Object.assign({},Hg,n,e)}function p1(n,e){n.complete&&n.naturalWidth&&e()}function g1(n){return typeof n=="string"?n:bi(n)}function m1(n){return typeof n=="string"&&n!=="true"&&n!=="false"&&n!==""?n:zt(n)}var ba=class{},Zu=class{},Di=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=t.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Om=class{encodeKey(e){return fS(e)}encodeValue(e){return fS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function v1(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}var y1=/%(\d[a-f0-9])/gi,_1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fS(n){return encodeURIComponent(n).replace(y1,(e,t)=>_1[t]??e)}function Qu(n){return`${n}`}var Pr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Om,e.fromString){if(e.fromObject)throw new _(2805,!1);this.map=v1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Qu):[Qu(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Qu(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Qu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Rm=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function w1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function hS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function pS(n){return typeof Blob<"u"&&n instanceof Blob}function gS(n){return typeof FormData<"u"&&n instanceof FormData}function E1(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var mS="Content-Type",vS="Accept",wS="X-Request-URL",ES="text/plain",bS="application/json",b1=`${bS}, ${ES}, */*`,Ea=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let s;if(w1(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Di,this.context??=new Rm,!this.params)this.params=new Pr,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||hS(this.body)||pS(this.body)||gS(this.body)||E1(this.body)?this.body:this.body instanceof Pr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||gS(this.body)?null:pS(this.body)?this.body.type||null:hS(this.body)?null:typeof this.body=="string"?ES:this.body instanceof Pr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?bS:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new n(t,r,o,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}},Gs=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Gs||{}),Ca=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Di,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},xm=class n extends Ca{constructor(e={}){super(e)}type=Gs.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ju=class n extends Ca{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Gs.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Xu=class extends Ca{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},C1=200,I1=204;function Nm(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Ia=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Ea)s=t;else{let l;i.headers instanceof Di?l=i.headers:l=new Di(i.headers);let c;i.params&&(i.params instanceof Pr?c=i.params:c=new Pr({fromObject:i.params})),s=new Ea(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=P(s).pipe(Gn(l=>this.handler.handle(l)));if(t instanceof Ea||i.observe==="events")return o;let a=o.pipe(Le(l=>l instanceof Ju));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(B(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new _(2806,!1);return l.body}));case"blob":return a.pipe(B(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new _(2807,!1);return l.body}));case"text":return a.pipe(B(l=>{if(l.body!==null&&typeof l.body!="string")throw new _(2808,!1);return l.body}));case"json":default:return a.pipe(B(l=>l.body))}case"response":return a;default:throw new _(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Pr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Nm(i,r))}post(t,r,i={}){return this.request("POST",t,Nm(i,r))}put(t,r,i={}){return this.request("PUT",t,Nm(i,r))}static \u0275fac=function(r){return new(r||n)(R(ba))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();var D1=new S("");function S1(n,e){return e(n)}function T1(n,e,t){return(r,i)=>qe(t,()=>e(r,s=>n(s,i)))}var CS=new S(""),M1=new S(""),A1=new S("",{providedIn:"root",factory:()=>!0});var yS=(()=>{class n extends ba{backend;injector;chain=null;pendingTasks=v(nr);contributeToStability=v(A1);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(CS),...this.injector.get(M1,[])]));this.chain=r.reduceRight((i,s)=>T1(i,s,this.injector),S1)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(oi(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(R(Zu),R(tt))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();var N1=/^\)\]\}',?\n/,O1=RegExp(`^${wS}:`,"m");function R1(n){return"responseURL"in n&&n.responseURL?n.responseURL:O1.test(n.getAllResponseHeaders())?n.getResponseHeader(wS):null}var _S=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new _(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?se(r.\u0275loadImpl()):P(null)).pipe(Fe(()=>new $(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((m,w)=>o.setRequestHeader(m,w.join(","))),t.headers.has(vS)||o.setRequestHeader(vS,b1),!t.headers.has(mS)){let m=t.detectContentTypeHeader();m!==null&&o.setRequestHeader(mS,m)}if(t.responseType){let m=t.responseType.toLowerCase();o.responseType=m!=="json"?m:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let m=o.statusText||"OK",w=new Di(o.getAllResponseHeaders()),T=R1(o)||t.url;return l=new xm({headers:w,status:o.status,statusText:m,url:T}),l},u=()=>{let{headers:m,status:w,statusText:T,url:ne}=c(),U=null;w!==I1&&(U=typeof o.response>"u"?o.responseText:o.response),w===0&&(w=U?C1:0);let ye=w>=200&&w<300;if(t.responseType==="json"&&typeof U=="string"){let Zt=U;U=U.replace(N1,"");try{U=U!==""?JSON.parse(U):null}catch(it){U=Zt,ye&&(ye=!1,U={error:it,text:U})}}ye?(s.next(new Ju({body:U,headers:m,status:w,statusText:T,url:ne||void 0})),s.complete()):s.error(new Xu({error:U,headers:m,status:w,statusText:T,url:ne||void 0}))},d=m=>{let{url:w}=c(),T=new Xu({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:w||void 0});s.error(T)},f=!1,h=m=>{f||(s.next(c()),f=!0);let w={type:Gs.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(w.total=m.total),t.responseType==="text"&&o.responseText&&(w.partialText=o.responseText),s.next(w)},p=m=>{let w={type:Gs.UploadProgress,loaded:m.loaded};m.lengthComputable&&(w.total=m.total),s.next(w)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),t.reportProgress&&(o.addEventListener("progress",h),a!==null&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:Gs.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),t.reportProgress&&(o.removeEventListener("progress",h),a!==null&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||n)(R(Ws))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),IS=new S(""),x1="XSRF-TOKEN",P1=new S("",{providedIn:"root",factory:()=>x1}),k1="X-XSRF-TOKEN",L1=new S("",{providedIn:"root",factory:()=>k1}),ed=class{},F1=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(R(Qe),R(ir),R(P1))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function V1(n,e){let t=n.url.toLowerCase();if(!v(IS)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=v(ed).getToken(),i=v(L1);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function DS(...n){let e=[Ia,_S,yS,{provide:ba,useExisting:yS},{provide:Zu,useFactory:()=>v(D1,{optional:!0})??v(_S)},{provide:CS,useValue:V1,multi:!0},{provide:IS,useValue:!0},{provide:ed,useClass:F1}];for(let t of n)e.push(...t.\u0275providers);return Sn(e)}var km=class extends qu{supportsDOMEvents=!0},Lm=class n extends km{static makeCurrent(){nS(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=U1();return t==null?null:j1(t)}resetBaseElement(){Da=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gu(document.cookie,e)}},Da=null;function U1(){return Da=Da||document.querySelector("base"),Da?Da.getAttribute("href"):null}function j1(n){return new URL(n,document.baseURI).pathname}var B1=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Fm=new S(""),OS=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new _(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(R(Fm),R(le))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),nd=class{_doc;constructor(e){this._doc=e}manager},td="ng-app-id";function TS(n){for(let e of n)e.remove()}function MS(n,e){let t=e.createElement("style");return t.textContent=n,t}function H1(n,e,t,r){let i=n.head?.querySelectorAll(`style[${td}="${e}"],link[${td}="${e}"]`);if(i)for(let s of i)s.removeAttribute(td),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function Vm(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var RS=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Mm(s),H1(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,MS);r?.forEach(i=>this.addUsage(i,this.external,Vm))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(TS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])TS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,MS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Vm(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(td,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(R(Qe),R(Vg),R(Bg,8),R(ir))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Pm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},jm=/%COMP%/g;var xS="%COMP%",$1=`_nghost-${xS}`,z1=`_ngcontent-${xS}`,W1=!0,q1=new S("",{providedIn:"root",factory:()=>W1});function G1(n){return z1.replace(jm,n)}function K1(n){return $1.replace(jm,n)}function PS(n,e){return e.map(t=>t.replace(jm,n))}var rd=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,a,l,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Mm(a),this.defaultRenderer=new Sa(t,o,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===bn.ShadowDom&&(r=H(E({},r),{encapsulation:bn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof id?i.applyToHost(t):i instanceof Ta&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case bn.Emulated:s=new id(l,c,r,this.appId,u,o,a,d,f);break;case bn.ShadowDom:return new Um(l,c,t,r,o,a,this.nonce,d,f);default:s=new Ta(l,c,r,u,o,a,d,f);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(R(OS),R(RS),R(Vg),R(q1),R(Qe),R(ir),R(le),R(Bg),R(Hs,8))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Sa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Pm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(AS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(AS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new _(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Pm[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Pm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(t,r,i&Cn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Cn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=cr().getGlobalEventTarget(this.doc,e),!e))throw new _(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function AS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Um=class extends Sa{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,s,o,a,l,c){super(e,s,o,l,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=PS(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Vm(f,s);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ta=class extends Sa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,l,c){super(e,s,o,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?PS(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},id=class extends Ta{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,l,c){let u=i+"-"+r.id;super(e,t,r,s,o,a,l,c,u),this.contentAttr=G1(u),this.hostAttr=K1(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},Y1=(()=>{class n extends nd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(R(Qe))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),NS=["alt","control","meta","shift"],Q1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Z1={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},J1=(()=>{class n extends nd{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cr().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),NS.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=Q1[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),NS.forEach(o=>{if(o!==i){let a=Z1[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(R(Qe))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function kS(n,e){return GD(E({rootComponent:n},X1(e)))}function X1(n){return{appProviders:[...iV,...n?.providers??[]],platformProviders:rV}}function eV(){Lm.makeCurrent()}function tV(){return new Zn}function nV(){return SI(document),document}var rV=[{provide:ir,useValue:lS},{provide:Ug,useValue:eV,multi:!0},{provide:Qe,useFactory:nV,deps:[]}];var iV=[{provide:vu,useValue:"root"},{provide:Zn,useFactory:tV,deps:[]},{provide:Fm,useClass:Y1,multi:!0,deps:[Qe]},{provide:Fm,useClass:J1,multi:!0,deps:[Qe]},rd,RS,OS,{provide:Rr,useExisting:rd},{provide:Ws,useClass:B1,deps:[]},[]];var LS=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(R(Qe))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var q="primary",ja=Symbol("RouteTitle"),Wm=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Xs(n){return new Wm(n)}function oV(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function aV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!On(n[t],e[t]))return!1;return!0}function On(n,e){let t=n?qm(n):void 0,r=e?qm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!qS(n[i],e[i]))return!1;return!0}function qm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function qS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function GS(n){return n.length>0?n[n.length-1]:null}function Fr(n){return Jh(n)?n:Ci(n)?se(Promise.resolve(n)):P(n)}var lV={exact:YS,subset:QS},KS={exact:cV,subset:uV,ignored:()=>!0};function FS(n,e,t){return lV[t.paths](n.root,e.root,t.matrixParams)&&KS[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function cV(n,e){return On(n,e)}function YS(n,e,t){if(!Ti(n.segments,e.segments)||!ad(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!YS(n.children[r],e.children[r],t))return!1;return!0}function uV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qS(n[t],e[t]))}function QS(n,e,t){return ZS(n,e,e.segments,t)}function ZS(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ti(i,t)||e.hasChildren()||!ad(i,t,r))}else if(n.segments.length===t.length){if(!Ti(n.segments,t)||!ad(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!QS(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Ti(n.segments,i)||!ad(n.segments,i,r)||!n.children[q]?!1:ZS(n.children[q],e,s,r)}}function ad(n,e,t){return e.every((r,i)=>KS[t](n[i].parameters,r.parameters))}var fr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ue([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xs(this.queryParams),this._queryParamMap}toString(){return hV.serialize(this)}},ue=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ld(this)}},Si=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Xs(this.parameters),this._parameterMap}toString(){return XS(this)}};function dV(n,e){return Ti(n,e)&&n.every((t,r)=>On(t.parameters,e[r].parameters))}function Ti(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function fV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===q&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==q&&(t=t.concat(e(i,r)))}),t}var Ba=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>new eo,providedIn:"root"})}return n})(),eo=class{parse(e){let t=new Km(e);return new fr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ma(e.root,!0)}`,r=mV(e.queryParams),i=typeof e.fragment=="string"?`#${pV(e.fragment)}`:"";return`${t}${r}${i}`}},hV=new eo;function ld(n){return n.segments.map(e=>XS(e)).join("/")}function Ma(n,e){if(!n.hasChildren())return ld(n);if(e){let t=n.children[q]?Ma(n.children[q],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==q&&r.push(`${i}:${Ma(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=fV(n,(r,i)=>i===q?[Ma(n.children[q],!1)]:[`${i}:${Ma(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[q]!=null?`${ld(n)}/${t[0]}`:`${ld(n)}/(${t.join("//")})`}}function JS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sd(n){return JS(n).replace(/%3B/gi,";")}function pV(n){return encodeURI(n)}function Gm(n){return JS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cd(n){return decodeURIComponent(n)}function VS(n){return cd(n.replace(/\+/g,"%20"))}function XS(n){return`${Gm(n.path)}${gV(n.parameters)}`}function gV(n){return Object.entries(n).map(([e,t])=>`;${Gm(e)}=${Gm(t)}`).join("")}function mV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${sd(t)}=${sd(i)}`).join("&"):`${sd(t)}=${sd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var vV=/^[^\/()?;#]+/;function Bm(n){let e=n.match(vV);return e?e[0]:""}var yV=/^[^\/()?;=#]+/;function _V(n){let e=n.match(yV);return e?e[0]:""}var wV=/^[^=?&#]+/;function EV(n){let e=n.match(wV);return e?e[0]:""}var bV=/^[^&#]+/;function CV(n){let e=n.match(bV);return e?e[0]:""}var Km=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[q]=new ue(e,t)),r}parseSegment(){let e=Bm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new _(4009,!1);return this.capture(e),new Si(cd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=_V(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Bm(this.remaining);i&&(r=i,this.capture(r))}e[cd(t)]=cd(r)}parseQueryParam(e){let t=EV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=CV(this.remaining);o&&(r=o,this.capture(r))}let i=VS(t),s=VS(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Bm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new _(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=q);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[q]:new ue([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new _(4011,!1)}};function eT(n){return n.segments.length>0?new ue([],{[q]:n}):n}function tT(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=tT(i);if(r===q&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new ue(n.segments,e);return IV(t)}function IV(n){if(n.numberOfChildren===1&&n.children[q]){let e=n.children[q];return new ue(n.segments.concat(e.segments),e.children)}return n}function Mi(n){return n instanceof fr}function DV(n,e,t=null,r=null){let i=nT(n);return rT(i,e,t,r)}function nT(n){let e;function t(s){let o={};for(let l of s.children){let c=t(l);o[l.outlet]=c}let a=new ue(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=eT(r);return e??i}function rT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Hm(i,i,i,t,r);let s=SV(e);if(s.toRoot())return Hm(i,i,new ue([],{}),t,r);let o=TV(s,i,n),a=o.processChildren?Na(o.segmentGroup,o.index,s.commands):sT(o.segmentGroup,o.index,s.commands);return Hm(i,o.segmentGroup,a,t,r)}function dd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ra(n){return typeof n=="object"&&n!=null&&n.outlets}function Hm(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;n===e?o=t:o=iT(n,e,t);let a=eT(tT(o));return new fr(a,s,i)}function iT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=iT(s,e,t)}),new ue(n.segments,r)}var fd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&dd(r[0]))throw new _(4003,!1);let i=r.find(Ra);if(i&&i!==GS(r))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function SV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new fd(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new fd(t,e,r)}var Qs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function TV(n,e,t){if(n.isAbsolute)return new Qs(e,!0,0);if(!t)return new Qs(e,!1,NaN);if(t.parent===null)return new Qs(t,!0,0);let r=dd(n.commands[0])?0:1,i=t.segments.length-1+r;return MV(t,i,n.numberOfDoubleDots)}function MV(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new _(4005,!1);i=r.segments.length}return new Qs(r,!1,i-s)}function AV(n){return Ra(n[0])?n[0].outlets:{[q]:n}}function sT(n,e,t){if(n??=new ue([],{}),n.segments.length===0&&n.hasChildren())return Na(n,e,t);let r=NV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new ue(n.segments.slice(0,r.pathIndex),{});return s.children[q]=new ue(n.segments.slice(r.pathIndex),n.children),Na(s,0,i)}else return r.match&&i.length===0?new ue(n.segments,{}):r.match&&!n.hasChildren()?Ym(n,e,t):r.match?Na(n,0,i):Ym(n,e,t)}function Na(n,e,t){if(t.length===0)return new ue(n.segments,{});{let r=AV(t),i={};if(Object.keys(r).some(s=>s!==q)&&n.children[q]&&n.numberOfChildren===1&&n.children[q].segments.length===0){let s=Na(n.children[q],e,t);return new ue(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=sT(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ue(n.segments,i)}}function NV(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Ra(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!jS(l,c,o))return s;r+=2}else{if(!jS(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ym(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Ra(s)){let l=OV(s.outlets);return new ue(r,l)}if(i===0&&dd(t[0])){let l=n.segments[e];r.push(new Si(l.path,US(t[0]))),i++;continue}let o=Ra(s)?s.outlets[q]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&dd(a)?(r.push(new Si(o,US(a))),i+=2):(r.push(new Si(o,{})),i++)}return new ue(r,{})}function OV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ym(new ue([],{}),0,r))}),e}function US(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function jS(n,e,t){return n==t.path&&On(e,t.parameters)}var ud="imperative",Ze=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ze||{}),Wt=class{id;url;constructor(e,t){this.id=e,this.url=t}},to=class extends Wt{type=Ze.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rn=class extends Wt{urlAfterRedirects;type=Ze.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Rt||{}),hd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(hd||{}),dr=class extends Wt{reason;code;type=Ze.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kr=class extends Wt{reason;code;type=Ze.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},xa=class extends Wt{error;target;type=Ze.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pd=class extends Wt{urlAfterRedirects;state;type=Ze.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qm=class extends Wt{urlAfterRedirects;state;type=Ze.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zm=class extends Wt{urlAfterRedirects;state;shouldActivate;type=Ze.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jm=class extends Wt{urlAfterRedirects;state;type=Ze.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xm=class extends Wt{urlAfterRedirects;state;type=Ze.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ev=class{route;type=Ze.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tv=class{route;type=Ze.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},nv=class{snapshot;type=Ze.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rv=class{snapshot;type=Ze.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iv=class{snapshot;type=Ze.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sv=class{snapshot;type=Ze.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gd=class{routerEvent;position;anchor;type=Ze.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Pa=class{},no=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function RV(n,e){return n.providers&&!n._injector&&(n._injector=Fu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function on(n){return n.outlet||q}function xV(n,e){let t=n.filter(r=>on(r)===e);return t.push(...n.filter(r=>on(r)!==e)),t}function Ha(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ov=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ha(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new $a(this.rootInjector)}},$a=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ov(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(R(tt))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),md=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=av(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=av(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=lv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lv(e,this._root).map(t=>t.value)}};function av(n,e){if(n===e.value)return e;for(let t of e.children){let r=av(n,t);if(r)return r}return null}function lv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=lv(n,t);if(r.length)return r.unshift(e),r}return[]}var Ot=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ys(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var vd=class extends md{snapshot;constructor(e,t){super(e),this.snapshot=t,vv(this,e)}toString(){return this.snapshot.toString()}};function oT(n){let e=PV(n),t=new Re([new Si("",{})]),r=new Re({}),i=new Re({}),s=new Re({}),o=new Re(""),a=new Lr(t,r,s,o,i,q,n,e.root);return a.snapshot=e.root,new vd(new Ot(a,[]),e)}function PV(n){let e={},t={},r={},i="",s=new Zs([],e,r,i,t,q,n,null,{});return new _d("",new Ot(s,[]))}var Lr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(B(c=>c[ja]))??P(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(e=>Xs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(e=>Xs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),n.params),data:E(E({},e.data),n.data),resolve:E(E(E(E({},n.data),e.data),i?.data),n._resolvedData)}:r={params:E({},n.params),data:E({},n.data),resolve:E(E({},n.data),n._resolvedData??{})},i&&lT(i)&&(r.resolve[ja]=i.title),r}var Zs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ja]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},_d=class extends md{url;constructor(e,t){super(t),this.url=e,vv(this,t)}toString(){return aT(this._root)}};function vv(n,e){e.value._routerState=n,e.children.forEach(t=>vv(n,t))}function aT(n){let e=n.children.length>0?` { ${n.children.map(aT).join(", ")} } `:"";return`${n.value}${e}`}function $m(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,On(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),On(e.params,t.params)||n.paramsSubject.next(t.params),aV(e.url,t.url)||n.urlSubject.next(t.url),On(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function cv(n,e){let t=On(n.params,e.params)&&dV(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||cv(n.parent,e.parent))}function lT(n){return typeof n.title=="string"||n.title===null}var kV=new S(""),yv=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=q;activateEvents=new fe;deactivateEvents=new fe;attachEvents=new fe;detachEvents=new fe;routerOutletData=Mu(void 0);parentContexts=v($a);location=v(ar);changeDetector=v(Nt);inputBinder=v(Cd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new _(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new uv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=me({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Mt]})}return n})(),uv=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Lr?this.route:e===$a?this.childContexts:e===kV?this.outletData:this.parent.get(e,t)}},Cd=new S(""),BS=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ea([r.queryParams,r.params,r.data]).pipe(Fe(([s,o,a],l)=>(a=E(E(E({},s),o),a),l===0?P(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=KD(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function LV(n,e,t){let r=ka(n,e._root,t?t._root:void 0);return new vd(r,e)}function ka(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=FV(n,e,t);return new Ot(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ka(n,a)),o}}let r=VV(e.value),i=e.children.map(s=>ka(n,s));return new Ot(r,i)}}function FV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ka(n,r,i);return ka(n,r)})}function VV(n){return new Lr(new Re(n.url),new Re(n.params),new Re(n.queryParams),new Re(n.fragment),new Re(n.data),n.outlet,n.component,n)}var La=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},cT="ngNavigationCancelingError";function wd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Mi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=uT(!1,Rt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function uT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[cT]=!0,t.cancellationCode=e,t}function UV(n){return dT(n)&&Mi(n.url)}function dT(n){return!!n&&n[cT]}var jV=(n,e,t,r)=>B(i=>(new dv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),dv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),$m(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ys(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ys(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ys(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ys(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new sv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new rv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if($m(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),$m(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Ed=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Js=class{component;route;constructor(e,t){this.component=e,this.route=t}};function BV(n,e,t){let r=n._root,i=e?e._root:null;return Aa(r,i,t,[r.value])}function HV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function io(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!hC(n)?n:e.get(n):r}function Aa(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ys(e);return n.children.forEach(o=>{$V(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Oa(a,t.getContext(o),i)),i}function $V(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=zV(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Ed(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Aa(n,e,a?a.children:null,r,i):Aa(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Js(a.outlet.component,o))}else o&&Oa(e,a,i),i.canActivateChecks.push(new Ed(r)),s.component?Aa(n,null,a?a.children:null,r,i):Aa(n,null,t,r,i);return i}function zV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ti(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ti(n.url,e.url)||!On(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cv(n,e)||!On(n.queryParams,e.queryParams);case"paramsChange":default:return!cv(n,e)}}function Oa(n,e,t){let r=Ys(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Oa(o,e.children.getContext(s),t):Oa(o,null,t):Oa(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Js(e.outlet.component,i)):t.canDeactivateChecks.push(new Js(null,i)):t.canDeactivateChecks.push(new Js(null,i))}function za(n){return typeof n=="function"}function WV(n){return typeof n=="boolean"}function qV(n){return n&&za(n.canLoad)}function GV(n){return n&&za(n.canActivate)}function KV(n){return n&&za(n.canActivateChild)}function YV(n){return n&&za(n.canDeactivate)}function QV(n){return n&&za(n.canMatch)}function fT(n){return n instanceof qn||n?.name==="EmptyError"}var od=Symbol("INITIAL_VALUE");function ro(){return Fe(n=>ea(n.map(e=>e.pipe(Vt(1),np(od)))).pipe(B(e=>{for(let t of e)if(t!==!0){if(t===od)return od;if(t===!1||ZV(t))return t}return!0}),Le(e=>e!==od),Vt(1)))}function ZV(n){return Mi(n)||n instanceof La}function JV(n,e){return xe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?P(H(E({},t),{guardsResult:!0})):XV(o,r,i,n).pipe(xe(a=>a&&WV(a)?eU(r,s,n,e):P(a)),B(a=>H(E({},t),{guardsResult:a})))})}function XV(n,e,t,r){return se(n).pipe(xe(i=>sU(i.component,i.route,t,e,r)),Kn(i=>i!==!0,!0))}function eU(n,e,t,r){return se(e).pipe(Gn(i=>ws(nU(i.route.parent,r),tU(i.route,r),iU(n,i.path,t),rU(n,i.route,t))),Kn(i=>i!==!0,!0))}function tU(n,e){return n!==null&&e&&e(new iv(n)),P(!0)}function nU(n,e){return n!==null&&e&&e(new nv(n)),P(!0)}function rU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return P(!0);let i=r.map(s=>Mc(()=>{let o=Ha(e)??t,a=io(s,o),l=GV(a)?a.canActivate(e,n):qe(o,()=>a(e,n));return Fr(l).pipe(Kn())}));return P(i).pipe(ro())}function iU(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>HV(o)).filter(o=>o!==null).map(o=>Mc(()=>{let a=o.guards.map(l=>{let c=Ha(o.node)??t,u=io(l,c),d=KV(u)?u.canActivateChild(r,n):qe(c,()=>u(r,n));return Fr(d).pipe(Kn())});return P(a).pipe(ro())}));return P(s).pipe(ro())}function sU(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return P(!0);let o=s.map(a=>{let l=Ha(e)??i,c=io(a,l),u=YV(c)?c.canDeactivate(n,e,t,r):qe(l,()=>c(n,e,t,r));return Fr(u).pipe(Kn())});return P(o).pipe(ro())}function oU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return P(!0);let s=i.map(o=>{let a=io(o,n),l=qV(a)?a.canLoad(e,t):qe(n,()=>a(e,t));return Fr(l)});return P(s).pipe(ro(),hT(r))}function hT(n){return zh(Ee(e=>{if(typeof e!="boolean")throw wd(n,e)}),B(e=>e===!0))}function aU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return P(!0);let s=i.map(o=>{let a=io(o,n),l=QV(a)?a.canMatch(e,t):qe(n,()=>a(e,t));return Fr(l)});return P(s).pipe(ro(),hT(r))}var Fa=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Va=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ks(n){return ys(new Fa(n))}function lU(n){return ys(new _(4e3,!1))}function cU(n){return ys(uT(!1,Rt.GuardRejected))}var fv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return P(r);if(i.numberOfChildren>1||!i.children[q])return lU(`${e.redirectTo}`);i=i.children[q]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:p,title:m}=i,w=qe(s,()=>a({params:h,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:m}));if(w instanceof fr)throw new Va(w);t=w}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Va(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new fr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new ue(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new _(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},hv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uU(n,e,t,r,i){let s=pT(n,e,t);return s.matched?(r=RV(e,r),aU(r,e,t,i).pipe(B(o=>o===!0?s:E({},hv)))):P(s)}function pT(n,e,t){if(e.path==="**")return dU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?E({},hv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||oV)(t,n,e);if(!i)return E({},hv);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?E(E({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function dU(n){return{matched:!0,parameters:n.length>0?GS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function HS(n,e,t,r){return t.length>0&&pU(n,t,r)?{segmentGroup:new ue(e,hU(r,new ue(t,n.children))),slicedSegments:[]}:t.length===0&&gU(n,t,r)?{segmentGroup:new ue(n.segments,fU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ue(n.segments,n.children),slicedSegments:t}}function fU(n,e,t,r){let i={};for(let s of t)if(Id(n,e,s)&&!r[on(s)]){let o=new ue([],{});i[on(s)]=o}return E(E({},r),i)}function hU(n,e){let t={};t[q]=e;for(let r of n)if(r.path===""&&on(r)!==q){let i=new ue([],{});t[on(r)]=i}return t}function pU(n,e,t){return t.some(r=>Id(n,e,r)&&on(r)!==q)}function gU(n,e,t){return t.some(r=>Id(n,e,r))}function Id(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function mU(n,e,t){return e.length===0&&!n.children[t]}var pv=class{};function vU(n,e,t,r,i,s,o="emptyOnly"){return new gv(n,e,t,r,i,o,s).recognize()}var yU=31,gv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new fv(this.urlSerializer,this.urlTree)}noMatchError(e){return new _(4002,`'${e.segmentGroup}'`)}recognize(){let e=HS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(B(({children:t,rootSnapshot:r})=>{let i=new Ot(r,t),s=new _d("",i),o=DV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Zs([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,q,t).pipe(B(r=>({children:r,rootSnapshot:t})),Mr(r=>{if(r instanceof Va)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fa?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(B(o=>o instanceof Ot?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return se(s).pipe(Gn(o=>{let a=r.children[o],l=xV(t,o);return this.processSegmentGroup(e,l,a,o,i)}),tp((o,a)=>(o.push(...a),o)),Ar(null),ep(),xe(o=>{if(o===null)return Ks(r);let a=gT(o);return _U(a),P(a)}))}processSegment(e,t,r,i,s,o,a){return se(t).pipe(Gn(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,s,o,a).pipe(Mr(c=>{if(c instanceof Fa)return P(null);throw c}))),Kn(l=>!!l),Mr(l=>{if(fT(l))return mU(r,i,s)?P(new pv):Ks(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,l){return on(r)!==o&&(o===q||!Id(i,s,r))?Ks(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,l):Ks(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=pT(t,i,s);if(!l)return Ks(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yU&&(this.allowRedirects=!1));let h=new Zs(s,c,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,$S(i),on(i),i.component??i._loadedComponent??null,i,zS(i)),p=yd(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,m).pipe(xe(w=>this.processSegment(e,r,t,w.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=uU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Fe(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Fe(({routes:c})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=l,p=new Zs(f,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,$S(r),on(r),r.component??r._loadedComponent??null,r,zS(r)),m=yd(p,o,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:w,slicedSegments:T}=HS(t,f,h,c);if(T.length===0&&w.hasChildren())return this.processChildren(u,c,w,p).pipe(B(U=>new Ot(p,U)));if(c.length===0&&T.length===0)return P(new Ot(p,[]));let ne=on(r)===s;return this.processSegment(u,c,w,T,ne?q:s,!0,p).pipe(B(U=>new Ot(p,U instanceof Ot?[U]:[])))}))):Ks(t)))}getChildConfig(e,t,r){return t.children?P({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?P({routes:t._loadedRoutes,injector:t._loadedInjector}):oU(e,t,r,this.urlSerializer).pipe(xe(i=>i?this.configLoader.loadChildren(e,t).pipe(Ee(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):cU(t))):P({routes:[],injector:e})}};function _U(n){n.sort((e,t)=>e.value.outlet===q?-1:t.value.outlet===q?1:e.value.outlet.localeCompare(t.value.outlet))}function wU(n){let e=n.value.routeConfig;return e&&e.path===""}function gT(n){let e=[],t=new Set;for(let r of n){if(!wU(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=gT(r.children);e.push(new Ot(r.value,i))}return e.filter(r=>!t.has(r))}function $S(n){return n.data||{}}function zS(n){return n.resolve||{}}function EU(n,e,t,r,i,s){return xe(o=>vU(n,e,t,r,o.extractedUrl,i,s).pipe(B(({state:a,tree:l})=>H(E({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function bU(n,e){return xe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return P(t);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of mT(l))o.add(c);let a=0;return se(o).pipe(Gn(l=>s.has(l)?CU(l,r,n,e):(l.data=yd(l,l.parent,n).resolve,P(void 0))),Ee(()=>a++),Es(1),xe(l=>a===o.size?P(t):wt))})}function mT(n){let e=n.children.map(t=>mT(t)).flat();return[n,...e]}function CU(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!lT(i)&&(s[ja]=i.title),IU(s,n,e,r).pipe(B(o=>(n._resolvedData=o,n.data=yd(n,n.parent,t).resolve,null)))}function IU(n,e,t,r){let i=qm(n);if(i.length===0)return P({});let s={};return se(i).pipe(xe(o=>DU(n[o],e,t,r).pipe(Kn(),Ee(a=>{if(a instanceof La)throw wd(new eo,a);s[o]=a}))),Es(1),B(()=>s),Mr(o=>fT(o)?wt:ys(o)))}function DU(n,e,t,r){let i=Ha(e)??r,s=io(n,i),o=s.resolve?s.resolve(e,t):qe(i,()=>s(e,t));return Fr(o)}function zm(n){return Fe(e=>{let t=n(e);return t?se(t).pipe(B(()=>e)):P(e)})}var vT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===q);return r}getResolvedTitleForRoute(t){return t.data[ja]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>v(SU),providedIn:"root"})}return n})(),SU=(()=>{class n extends vT{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(R(LS))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wa=new S("",{providedIn:"root",factory:()=>({})}),TU=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ue({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&J(0,"router-outlet")},dependencies:[yv],encapsulation:2})}return n})();function _v(n){let e=n.children&&n.children.map(_v),t=e?H(E({},n),{children:e}):E({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==q&&(t.component=TU),t}var Ua=new S(""),wv=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=v(Wu);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return P(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Fr(t.loadComponent()).pipe(B(yT),Ee(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),oi(()=>{this.componentLoaders.delete(t)})),i=new hs(r,()=>new we).pipe(fs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return P({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=MU(r,this.compiler,t,this.onLoadEndListener).pipe(oi(()=>{this.childrenLoaders.delete(r)})),o=new hs(s,()=>new we).pipe(fs());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function MU(n,e,t,r){return Fr(n.loadChildren()).pipe(B(yT),xe(i=>i instanceof um||Array.isArray(i)?P(i):se(e.compileModuleAsync(i))),B(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(Ua,[],{optional:!0,self:!0}).flat()),{routes:o.map(_v),injector:s}}))}function AU(n){return n&&typeof n=="object"&&"default"in n}function yT(n){return AU(n)?n.default:n}var Ev=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>v(NU),providedIn:"root"})}return n})(),NU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_T=new S(""),wT=new S("");function OU(n,e,t){let r=n.get(wT),i=n.get(Qe);return n.get(le).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),RU(n))),{onViewTransitionCreated:l}=r;return l&&qe(n,()=>l({transition:a,from:e,to:t})),o})}function RU(n){return new Promise(e=>{zg({read:()=>setTimeout(e)},{injector:n})})}var ET=new S(""),bv=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new we;transitionAbortSubject=new we;configLoader=v(wv);environmentInjector=v(tt);destroyRef=v(Us);urlSerializer=v(Ba);rootContexts=v($a);location=v(qs);inputBindingEnabled=v(Cd,{optional:!0})!==null;titleStrategy=v(vT);options=v(Wa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=v(Ev);createViewTransition=v(_T,{optional:!0});navigationErrorHandler=v(ET,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>P(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ev(i)),r=i=>this.events.next(new tv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(H(E({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Re(null),this.transitions.pipe(Le(r=>r!==null),Fe(r=>{let i=!1,s=!1;return P(r).pipe(Fe(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Rt.SupersededByNewNavigation),wt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?H(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let c="";return this.events.next(new kr(o.id,this.urlSerializer.serialize(o.rawUrl),c,hd.IgnoredSameUrlNavigation)),o.resolve(!1),wt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return P(o).pipe(Fe(c=>(this.events.next(new to(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?wt:Promise.resolve(c))),EU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ee(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=H(E({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new pd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:f,extras:h}=o,p=new to(c,this.urlSerializer.serialize(u),d,f);this.events.next(p);let m=oT(this.rootComponentType).snapshot;return this.currentTransition=r=H(E({},o),{targetSnapshot:m,urlAfterRedirects:u,extras:H(E({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,P(r)}else{let c="";return this.events.next(new kr(o.id,this.urlSerializer.serialize(o.extractedUrl),c,hd.IgnoredByUrlHandlingStrategy)),o.resolve(!1),wt}}),Ee(o=>{let a=new Qm(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),B(o=>(this.currentTransition=r=H(E({},o),{guards:BV(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),JV(this.environmentInjector,o=>this.events.next(o)),Ee(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw wd(this.urlSerializer,o.guardsResult);let a=new Zm(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Le(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Rt.GuardRejected),!1)),zm(o=>{if(o.guards.canActivateChecks.length!==0)return P(o).pipe(Ee(a=>{let l=new Jm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Fe(a=>{let l=!1;return P(a).pipe(bU(this.paramsInheritanceStrategy,this.environmentInjector),Ee({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Rt.NoDataFromResolver)}}))}),Ee(a=>{let l=new Xm(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),zm(o=>{let a=l=>{let c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ee(u=>{l.component=u}),B(()=>{})));for(let u of l.children)c.push(...a(u));return c};return ea(a(o.targetSnapshot.root)).pipe(Ar(null),Vt(1))}),zm(()=>this.afterPreactivation()),Fe(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return l?se(l).pipe(B(()=>r)):P(r)}),B(o=>{let a=LV(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=H(E({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Ee(()=>{this.events.next(new Pa)}),jV(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Vt(1),Ee({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),rp(this.transitionAbortSubject.pipe(Ee(o=>{throw o}))),oi(()=>{!i&&!s&&this.cancelNavigationTransition(r,"",Rt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Mr(o=>{if(this.destroyed)return r.resolve(!1),wt;if(s=!0,dT(o))this.events.next(new dr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),UV(o)?this.events.next(new no(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new xa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let l=qe(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof La){let{message:c,cancellationCode:u}=wd(this.urlSerializer,l);this.events.next(new dr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new no(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return wt}))}))}cancelNavigationTransition(t,r,i){let s=new dr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xU(n){return n!==ud}var PU=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>v(kU),providedIn:"root"})}return n})(),mv=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},kU=(()=>{class n extends mv{static \u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})();static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>v(LU),providedIn:"root"})}return n})(),LU=(()=>{class n extends bT{location=v(qs);urlSerializer=v(Ba);options=v(Wa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=v(Ev);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new fr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=oT(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof to)this.stateMemento=this.createStateMemento();else if(t instanceof kr)this.rawUrlTree=r.initialUrl;else if(t instanceof pd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Pa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof dr&&(t.code===Rt.GuardRejected||t.code===Rt.NoDataFromResolver)?this.restoreHistory(r):t instanceof xa?this.restoreHistory(r,!0):t instanceof Rn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof fr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=E(E({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})();static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function CT(n,e){n.events.pipe(Le(t=>t instanceof Rn||t instanceof dr||t instanceof xa||t instanceof kr),B(t=>t instanceof Rn||t instanceof kr?0:(t instanceof dr?t.code===Rt.Redirect||t.code===Rt.SupersededByNewNavigation:!1)?2:1),Le(t=>t!==2),Vt(1)).subscribe(()=>{e()})}var FU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ut=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=v(fm);stateManager=v(bT);options=v(Wa,{optional:!0})||{};pendingTasks=v(nr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=v(bv);urlSerializer=v(Ba);location=v(qs);urlHandlingStrategy=v(Ev);_events=new we;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=v(PU);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=v(Ua,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!v(Cd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new De;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof dr&&r.code!==Rt.Redirect&&r.code!==Rt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Rn)this.navigated=!0;else if(r instanceof no){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||xU(i.source)},o);this.scheduleNavigation(a,ud,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}jU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ud,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=E({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(_v),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=nT(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return rT(d,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Mi(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ud,null,r)}navigate(t,r={skipLocationChange:!1}){return UU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=E({},FU):r===!1?i=E({},VU):i=r,Mi(t))return FS(this.currentUrlTree,t,i);let s=this.parseUrl(t);return FS(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,f)=>{a=d,l=f});let u=this.pendingTasks.add();return CT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new _(4008,!1)}function jU(n){return!(n instanceof Pa)&&!(n instanceof no)}var Dd=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new we;constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Rn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Mi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:HI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Mi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(C(ut),C(Lr),kg("tabindex"),C(gt),C(Ve),C(ur))};static \u0275dir=me({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&he("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&rn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",zt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",zt],replaceUrl:[2,"replaceUrl","replaceUrl",zt],routerLink:"routerLink"},features:[Mt]})}return n})();var bd=class{};var BU=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Le(t=>t instanceof Rn),Gn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Fu(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return se(i).pipe(_s())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=P(null);let s=i.pipe(xe(o=>o===null?P(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return se([s,o]).pipe(_s())}else return s})}static \u0275fac=function(r){return new(r||n)(R(ut),R(Wu),R(tt),R(bd),R(wv))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IT=new S(""),HU=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof to?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Rn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof kr&&t.code===hd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){vD()};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function DT(n,...e){return Sn([{provide:Ua,multi:!0,useValue:n},[],{provide:Lr,useFactory:ST,deps:[ut]},{provide:wa,multi:!0,useFactory:TT},e.map(t=>t.\u0275providers)])}function ST(n){return n.routerState.root}function qa(n,e){return{\u0275kind:n,\u0275providers:e}}function TT(){let n=v(Ne);return e=>{let t=n.get(Jn);if(e!==t.components[0])return;let r=n.get(ut),i=n.get(MT);n.get(Cv)===1&&r.initialNavigation(),n.get(AT,null,Y.Optional)?.setUpPreloading(),n.get(IT,null,Y.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var MT=new S("",{factory:()=>new we}),Cv=new S("",{providedIn:"root",factory:()=>1});function $U(){return qa(2,[{provide:Cv,useValue:0},{provide:Vu,multi:!0,deps:[Ne],useFactory:e=>{let t=e.get(rS,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(ut),s=e.get(MT);CT(i,()=>{r(!0)}),e.get(bv).afterPreactivation=()=>(r(!0),s.closed?P(void 0):s),i.initialNavigation()}))}}])}function zU(){return qa(3,[{provide:Vu,multi:!0,useFactory:()=>{let e=v(ut);return()=>{e.setUpLocationChangeListener()}}},{provide:Cv,useValue:2}])}var AT=new S("");function WU(n){return qa(0,[{provide:AT,useExisting:BU},{provide:bd,useExisting:n}])}function qU(){return qa(8,[BS,{provide:Cd,useExisting:BS}])}function GU(n){let e=[{provide:_T,useValue:OU},{provide:wT,useValue:E({skipNextTransition:!!n?.skipInitialTransition},n)}];return qa(9,e)}var KU=[qs,{provide:Ba,useClass:eo},ut,$a,{provide:Lr,useFactory:ST,deps:[ut]},wv,[]],Sd=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[KU,[],{provide:Ua,multi:!0,useValue:t},[],r?.errorHandler?{provide:ET,useValue:r.errorHandler}:[],{provide:Wa,useValue:r||{}},r?.useHash?QU():ZU(),YU(),r?.preloadingStrategy?WU(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?JU(r):[],r?.bindToComponentInputs?qU().\u0275providers:[],r?.enableViewTransitions?GU().\u0275providers:[],XU()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ua,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=At({type:n});static \u0275inj=Tt({})}return n})();function YU(){return{provide:IT,useFactory:()=>{let n=v(cS),e=v(le),t=v(Wa),r=v(bv),i=v(Ba);return t.scrollOffset&&n.setOffset(t.scrollOffset),new HU(i,r,n,e,t)}}}function QU(){return{provide:ur,useClass:sS}}function ZU(){return{provide:ur,useClass:Sm}}function JU(n){return[n.initialNavigation==="disabled"?zU().\u0275providers:[],n.initialNavigation==="enabledBlocking"?$U().\u0275providers:[]]}var WS=new S("");function XU(){return[{provide:WS,useFactory:TT},{provide:wa,multi:!0,useExisting:WS}]}var G=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(G||{}),xn="*";function NT(n,e){return{type:G.Trigger,name:n,definitions:e,options:{}}}function OT(n,e=null){return{type:G.Animate,styles:e,timings:n}}function RT(n,e=null){return{type:G.Sequence,steps:n,options:e}}function so(n){return{type:G.Style,styles:n,offset:null}}function xT(n,e,t=null){return{type:G.Transition,expr:n,animation:e,options:t}}var Vr=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Ga=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Md="!";function PT(n){return new _(3e3,!1)}function ej(){return new _(3100,!1)}function tj(){return new _(3101,!1)}function nj(n){return new _(3001,!1)}function rj(n){return new _(3003,!1)}function ij(n){return new _(3004,!1)}function sj(n,e){return new _(3005,!1)}function oj(){return new _(3006,!1)}function aj(){return new _(3007,!1)}function lj(n,e){return new _(3008,!1)}function cj(n){return new _(3002,!1)}function uj(n,e,t,r,i){return new _(3010,!1)}function dj(){return new _(3011,!1)}function fj(){return new _(3012,!1)}function hj(){return new _(3200,!1)}function pj(){return new _(3202,!1)}function gj(){return new _(3013,!1)}function mj(n){return new _(3014,!1)}function vj(n){return new _(3015,!1)}function yj(n){return new _(3016,!1)}function _j(n,e){return new _(3404,!1)}function wj(n){return new _(3502,!1)}function Ej(n){return new _(3503,!1)}function bj(){return new _(3300,!1)}function Cj(n){return new _(3504,!1)}function Ij(n){return new _(3301,!1)}function Dj(n,e){return new _(3302,!1)}function Sj(n){return new _(3303,!1)}function Tj(n,e){return new _(3400,!1)}function Mj(n){return new _(3401,!1)}function Aj(n){return new _(3402,!1)}function Nj(n,e){return new _(3505,!1)}function Ur(n){switch(n.length){case 0:return new Vr;case 1:return n[0];default:return new Ga(n)}}function KT(n,e,t=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((f,h)=>{let p=h,m=f;if(h!=="offset")switch(p=n.normalizePropertyName(p,i),m){case Md:m=t.get(h);break;case xn:m=r.get(h);break;default:m=n.normalizeStyleValue(h,p,m,i);break}d.set(p,m)}),u||s.push(d),a=d,o=c}),i.length)throw wj(i);return s}function Wv(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Iv(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Iv(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Iv(t,"destroy",n)));break}}function Iv(n,e,t){let r=t.totalTime,i=!!t.disabled,s=qv(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),o=n._data;return o!=null&&(s._data=o),s}function qv(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Pt(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function kT(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var Oj=typeof document>"u"?null:document.documentElement;function Gv(n){let e=n.parentNode||n.host||null;return e===Oj?null:e}function Rj(n){return n.substring(1,6)=="ebkit"}var Ai=null,LT=!1;function xj(n){Ai||(Ai=Pj()||{},LT=Ai.style?"WebkitAppearance"in Ai.style:!1);let e=!0;return Ai.style&&!Rj(n)&&(e=n in Ai.style,!e&&LT&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ai.style)),e}function Pj(){return typeof document<"u"?document.body:null}function YT(n,e){for(;e;){if(e===n)return!0;e=Gv(e)}return!1}function QT(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var Kv=(()=>{class n{validateStyleProperty(t){return xj(t)}containsElement(t,r){return YT(t,r)}getParentElement(t){return Gv(t)}query(t,r,i){return QT(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Vr(i,s)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Ri=class{static NOOP=new Kv},xi=class{};var kj=1e3,ZT="{{",Lj="}}",JT="ng-enter",Nv="ng-leave",Ad="ng-trigger",Pd=".ng-trigger",FT="ng-animating",Ov=".ng-animating";function hr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Rv(parseFloat(e[1]),e[2])}function Rv(n,e){switch(e){case"s":return n*kj;default:return n}}function kd(n,e,t){return n.hasOwnProperty("duration")?n:Fj(n,e,t)}function Fj(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(PT(n)),{duration:0,delay:0,easing:""};i=Rv(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Rv(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(ej()),a=!0),s<0&&(e.push(tj()),a=!0),a&&e.splice(l,0,PT(n))}return{duration:i,delay:s,easing:o}}function Vj(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Pn(n,e,t){e.forEach((r,i)=>{let s=Yv(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function Oi(n,e){e.forEach((t,r)=>{let i=Yv(r);n.style[i]=""})}function Ka(n){return Array.isArray(n)?n.length==1?n[0]:RT(n):n}function Uj(n,e,t){let r=e.params||{},i=XT(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(nj(s))})}var xv=new RegExp(`${ZT}\\s*(.+?)\\s*${Lj}`,"g");function XT(n){let e=[];if(typeof n=="string"){let t;for(;t=xv.exec(n);)e.push(t[1]);xv.lastIndex=0}return e}function Qa(n,e,t){let r=`${n}`,i=r.replace(xv,(s,o)=>{let a=e[o];return a==null&&(t.push(rj(o)),a=""),a.toString()});return i==r?n:i}var jj=/-+([a-z0-9])/g;function Yv(n){return n.replace(jj,(...e)=>e[1].toUpperCase())}function Bj(n,e){return n===0||e===0}function Hj(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,Qv(n,a)))}}return e}function xt(n,e,t){switch(e.type){case G.Trigger:return n.visitTrigger(e,t);case G.State:return n.visitState(e,t);case G.Transition:return n.visitTransition(e,t);case G.Sequence:return n.visitSequence(e,t);case G.Group:return n.visitGroup(e,t);case G.Animate:return n.visitAnimate(e,t);case G.Keyframes:return n.visitKeyframes(e,t);case G.Style:return n.visitStyle(e,t);case G.Reference:return n.visitReference(e,t);case G.AnimateChild:return n.visitAnimateChild(e,t);case G.AnimateRef:return n.visitAnimateRef(e,t);case G.Query:return n.visitQuery(e,t);case G.Stagger:return n.visitStagger(e,t);default:throw ij(e.type)}}function Qv(n,e){return window.getComputedStyle(n)[e]}var $j=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Ld=class extends xi{normalizePropertyName(e,t){return Yv(e)}normalizeStyleValue(e,t,r,i){let s="",o=r.toString().trim();if($j.has(t)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(sj(e,r))}return o+s}};var Fd="*";function zj(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>Wj(r,t,e)):t.push(n),t}function Wj(n,e,t){if(n[0]==":"){let l=qj(n,t);if(typeof l=="function"){e.push(l);return}n=l}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(vj(n)),e;let i=r[1],s=r[2],o=r[3];e.push(VT(i,o));let a=i==Fd&&o==Fd;s[0]=="<"&&!a&&e.push(VT(o,i))}function qj(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(yj(n)),"* => *"}}var Nd=new Set(["true","1"]),Od=new Set(["false","0"]);function VT(n,e){let t=Nd.has(n)||Od.has(n),r=Nd.has(e)||Od.has(e);return(i,s)=>{let o=n==Fd||n==i,a=e==Fd||e==s;return!o&&t&&typeof i=="boolean"&&(o=i?Nd.has(n):Od.has(n)),!a&&r&&typeof s=="boolean"&&(a=s?Nd.has(e):Od.has(e)),o&&a}}var e0=":self",Gj=new RegExp(`s*${e0}s*,?`,"g");function t0(n,e,t,r){return new Pv(n).build(e,t,r)}var UT="",Pv=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new kv(t);return this._resetContextStyleTimingState(i),xt(this,Ka(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=UT,e.collectedStyles=new Map,e.collectedStyles.set(UT,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(oj()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==G.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==G.Transition){let l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(aj())}),{type:G.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{XT(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(lj(e.name,[...s.values()]))}return{type:G.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=xt(this,Ka(e.animation),t),i=zj(e.expr,t.errors);return{type:G.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ni(e.options)}}visitSequence(e,t){return{type:G.Sequence,steps:e.steps.map(r=>xt(this,r,t)),options:Ni(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,s=e.steps.map(o=>{t.currentTime=r;let a=xt(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:G.Group,steps:s,options:Ni(e.options)}}visitAnimate(e,t){let r=Zj(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:so({});if(s.type==G.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};r.easing&&(c.easing=r.easing),o=so(c)}t.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:G.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===xn?r.push(a):t.errors.push(cj(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(ZT)>=0){s=!0;break}}}),{type:G.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(t.errors.push(uj(l,u.startTime,u.endTime,s,i)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),t.options&&Uj(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:G.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(dj()),r;let i=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(T=>{let ne=this._makeStyleAst(T,t),U=ne.offset!=null?ne.offset:Qj(ne.styles),ye=0;return U!=null&&(s++,ye=ne.offset=U),l=l||ye<0||ye>1,a=a||ye<c,c=ye,o.push(ye),ne});l&&t.errors.push(fj()),a&&t.errors.push(hj());let d=e.steps.length,f=0;s>0&&s<d?t.errors.push(pj()):s==0&&(f=i/(d-1));let h=d-1,p=t.currentTime,m=t.currentAnimateTimings,w=m.duration;return u.forEach((T,ne)=>{let U=f>0?ne==h?1:f*ne:o[ne],ye=U*w;t.currentTime=p+m.delay+ye,m.duration=ye,this._validateStyleAst(T,t),T.offset=U,r.styles.push(T)}),r}visitReference(e,t){return{type:G.Reference,animation:xt(this,Ka(e.animation),t),options:Ni(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:G.AnimateChild,options:Ni(e.options)}}visitAnimateRef(e,t){return{type:G.AnimateRef,animation:this.visitReference(e.animation,t),options:Ni(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=Kj(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Pt(t.collectedStyles,t.currentQuerySelector,new Map);let a=xt(this,Ka(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:G.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ni(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(gj());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:kd(e.timings,t.errors,!0);return{type:G.Stagger,animation:xt(this,Ka(e.animation),t),timings:r,options:null}}};function Kj(n){let e=!!n.split(/\s*,\s*/).find(t=>t==e0);return e&&(n=n.replace(Gj,"")),n=n.replace(/@\*/g,Pd).replace(/@\w+/g,t=>Pd+"-"+t.slice(1)).replace(/:animating/g,Ov),[n,e]}function Yj(n){return n?E({},n):null}var kv=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function Qj(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Zj(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=kd(n,e).duration;return Dv(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Dv(0,0,"");return s.dynamic=!0,s.strValue=t,s}let i=kd(t,e);return Dv(i.duration,i.delay,i.easing)}function Ni(n){return n?(n=E({},n),n.params&&(n.params=Yj(n.params))):n={},n}function Dv(n,e,t){return{duration:n,delay:e,easing:t}}function Zv(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Za=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Jj=1,Xj=":enter",eB=new RegExp(Xj,"g"),tB=":leave",nB=new RegExp(tB,"g");function n0(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return new Lv().buildKeyframes(n,e,t,r,i,s,o,a,l,c)}var Lv=class{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new Za;let d=new Fv(e,t,c,i,s,u,[]);d.options=l;let f=l.delay?hr(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,l),xt(this,r,d);let h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let m=h.length-1;m>=0;m--){let w=h[m];if(w.element===t){p=w;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return h.length?h.map(p=>p.buildKeyframes()):[Zv(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:hr(Qa(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime,o=r.duration!=null?hr(r.duration):null,a=r.delay!=null?hr(r.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),xt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==G.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Vd);let o=hr(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>xt(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,s=e.options&&e.options.delay?hr(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),xt(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Qa(r,t.params,t.errors):r;return kd(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==G.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?hr(i.delay):0;s&&(t.previousNode.type===G.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Vd);let o=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;let d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),xt(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;o=Math.max(o,f)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let u=t.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;xt(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Vd={},Fv=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Vd;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=l||new Ud(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=hr(r.duration)),r.delay!=null&&(i.delay=hr(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Qa(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,s=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Vd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new Vv(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(eB,"."+this._enterClassName),e=e.replace(nB,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&a.length==0&&o.push(mj(t)),a}},Ud=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Jj,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||xn),this._currentKeyframe.set(t,xn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let s=i&&i.params||{},o=rB(e,this._globalTimelineStyles);for(let[a,l]of o){let c=Qa(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??xn),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===Md?e.add(d):u===xn&&t.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});let s=[...e.values()],o=[...t.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Zv(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},Vv=class extends Ud{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=r+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",jT(a)),s.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let f=new Map(e[d]),h=f.get("offset"),p=t+h*r;f.set("offset",jT(p/o)),s.push(f)}r=o,t=0,i="",e=s}return Zv(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function jT(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function rB(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)t.set(s,xn)}else for(let[s,o]of i)t.set(s,o)}),t}function BT(n,e,t,r,i,s,o,a,l,c,u,d,f){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}var Sv={},jd=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return iB(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,u){let d=[],f=this.ast.options&&this.ast.options.params||Sv,h=a&&a.params||Sv,p=this.buildStyles(r,h,d),m=l&&l.params||Sv,w=this.buildStyles(i,m,d),T=new Set,ne=new Map,U=new Map,ye=i==="void",Zt={params:r0(m,f),delay:this.ast.options?.delay},it=u?[]:n0(e,t,this.ast.animation,s,o,p,w,Zt,c,d),ze=0;return it.forEach(st=>{ze=Math.max(st.duration+st.delay,ze)}),d.length?BT(t,this._triggerName,r,i,ye,p,w,[],[],ne,U,ze,d):(it.forEach(st=>{let Jt=st.element,Cr=Pt(ne,Jt,new Set);st.preStyleProps.forEach(Xr=>Cr.add(Xr));let wE=Pt(U,Jt,new Set);st.postStyleProps.forEach(Xr=>wE.add(Xr)),Jt!==t&&T.add(Jt)}),BT(t,this._triggerName,r,i,ye,p,w,it,[...T.values()],ne,U,ze))}};function iB(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}function r0(n,e){let t=E({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var Uv=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=r0(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Qa(o,i,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}};function sB(n,e,t){return new jv(n,e,t)}var jv=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new Uv(i.style,s,r))}),HT(this.states,"true","1"),HT(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new jd(e,i,this.states))}),this.fallbackTransition=oB(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function oB(n,e,t){let r=[(o,a)=>!0],i={type:G.Sequence,steps:[],options:null},s={type:G.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new jd(n,s,e)}function HT(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var aB=new Za,Bv=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],s=t0(this._driver,t,r,i);if(r.length)throw Ej(r);this._animations.set(e,s)}_buildPlayer(e,t,r){let i=e.element,s=KT(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=n0(this._driver,t,s,JT,Nv,new Map,new Map,r,aB,i),o.forEach(u=>{let d=Pt(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(bj()),o=[]),i.length)throw Cj(i);a.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,xn))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Ur(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Ij(e);return t}listen(e,t,r,i){let s=qv(t,"","","");return Wv(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},$T="ng-animate-queued",lB=".ng-animate-queued",Tv="ng-animate-disabled",cB=".ng-animate-disabled",uB="ng-star-inserted",dB=".ng-star-inserted",fB=[],i0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},an="__ng_removed",Ja=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=gB(i),r){let s=e,{value:o}=s,a=Ah(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Ya="void",Mv=new Ja(Ya),Hv=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,qt(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw Dj(r,t);if(r==null||r.length==0)throw Sj(t);if(!mB(r))throw Tj(r,t);let s=Pt(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);let a=Pt(this._engine.statesByElement,e,new Map);return a.has(t)||(qt(e,Ad),qt(e,Ad+"-"+t),a.set(t,Mv)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Mj(e);return t}trigger(e,t,r,i=!0){let s=this._getTrigger(t),o=new Xa(this.id,t,e),a=this._engine.statesByElement.get(e);a||(qt(e,Ad),qt(e,Ad+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new Ja(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=Mv),!(c.value===Ya)&&l.value===c.value){if(!_B(l.params,c.params)){let m=[],w=s.matchStyles(l.value,l.params,m),T=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Oi(e,w),Pn(e,T)})}return}let f=Pt(this._engine.playersByElement,e,[]);f.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let h=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!h){if(!i)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(qt(e,$T),o.onStart(()=>{oo(e,$T)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let w=this._engine.playersByElement.get(e);if(w){let T=w.indexOf(o);T>=0&&w.splice(T,1)}}),this.players.push(o),f.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Pd,!0);r.forEach(i=>{if(i[an])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,Ya,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Ur(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=r.get(o)||Mv,u=new Ja(Ya),d=new Xa(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let s=e[an];(!s||s===i0)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){qt(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=qv(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,Wv(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},$v=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new Hv(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}}return t}trigger(e,t,r,i){if(Rd(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Rd(t))return;let s=t[an];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),qt(e,Tv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),oo(e,Tv))}removeNode(e,t,r){if(Rd(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[an]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Rd(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Pd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Ov,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ur(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[an];if(t&&t.setForRemoval){if(e[an]=i0,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Tv)&&this.markElementAsDisabled(e,!1),this.driver.query(e,cB,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];qt(i,uB)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ur(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw Aj(e)}_flushAnimations(e,t){let r=new Za,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(N=>{u.add(N);let x=this.driver.query(N,lB,!0);for(let k=0;k<x.length;k++)u.add(x[k])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=qT(f,this.collectedEnterElements),p=new Map,m=0;h.forEach((N,x)=>{let k=JT+m++;p.set(x,k),N.forEach(ae=>qt(ae,k))});let w=[],T=new Set,ne=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){let x=this.collectedLeaveElements[N],k=x[an];k&&k.setForRemoval&&(w.push(x),T.add(x),k.hasAnimation?this.driver.query(x,dB,!0).forEach(ae=>T.add(ae)):ne.add(x))}let U=new Map,ye=qT(f,Array.from(T));ye.forEach((N,x)=>{let k=Nv+m++;U.set(x,k),N.forEach(ae=>qt(ae,k))}),e.push(()=>{h.forEach((N,x)=>{let k=p.get(x);N.forEach(ae=>oo(ae,k))}),ye.forEach((N,x)=>{let k=U.get(x);N.forEach(ae=>oo(ae,k))}),w.forEach(N=>{this.processLeaveNode(N)})});let Zt=[],it=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(t).forEach(k=>{let ae=k.player,We=k.element;if(Zt.push(ae),this.collectedEnterElements.length){let ot=We[an];if(ot&&ot.setForMove){if(ot.previousTriggersValues&&ot.previousTriggersValues.has(k.triggerName)){let ei=ot.previousTriggersValues.get(k.triggerName),Lt=this.statesByElement.get(k.element);if(Lt&&Lt.has(k.triggerName)){let Ql=Lt.get(k.triggerName);Ql.value=ei,Lt.set(k.triggerName,Ql)}}ae.destroy();return}}let mn=!d||!this.driver.containsElement(d,We),St=U.get(We),Ir=p.get(We),be=this._buildInstruction(k,r,Ir,St,mn);if(be.errors&&be.errors.length){it.push(be);return}if(mn){ae.onStart(()=>Oi(We,be.fromStyles)),ae.onDestroy(()=>Pn(We,be.toStyles)),i.push(ae);return}if(k.isFallbackTransition){ae.onStart(()=>Oi(We,be.fromStyles)),ae.onDestroy(()=>Pn(We,be.toStyles)),i.push(ae);return}let CE=[];be.timelines.forEach(ot=>{ot.stretchStartingKeyframe=!0,this.disabledNodes.has(ot.element)||CE.push(ot)}),be.timelines=CE,r.append(We,be.timelines);let VO={instruction:be,player:ae,element:We};o.push(VO),be.queriedElements.forEach(ot=>Pt(a,ot,[]).push(ae)),be.preStyleProps.forEach((ot,ei)=>{if(ot.size){let Lt=l.get(ei);Lt||l.set(ei,Lt=new Set),ot.forEach((Ql,Mh)=>Lt.add(Mh))}}),be.postStyleProps.forEach((ot,ei)=>{let Lt=c.get(ei);Lt||c.set(ei,Lt=new Set),ot.forEach((Ql,Mh)=>Lt.add(Mh))})});if(it.length){let N=[];it.forEach(x=>{N.push(Nj(x.triggerName,x.errors))}),Zt.forEach(x=>x.destroy()),this.reportError(N)}let ze=new Map,st=new Map;o.forEach(N=>{let x=N.element;r.has(x)&&(st.set(x,x),this._beforeAnimationBuild(N.player.namespaceId,N.instruction,ze))}),i.forEach(N=>{let x=N.element;this._getPreviousPlayers(x,!1,N.namespaceId,N.triggerName,null).forEach(ae=>{Pt(ze,x,[]).push(ae),ae.destroy()})});let Jt=w.filter(N=>GT(N,l,c)),Cr=new Map;WT(Cr,this.driver,ne,c,xn).forEach(N=>{GT(N,l,c)&&Jt.push(N)});let Xr=new Map;h.forEach((N,x)=>{WT(Xr,this.driver,new Set(N),l,Md)}),Jt.forEach(N=>{let x=Cr.get(N),k=Xr.get(N);Cr.set(N,new Map([...x?.entries()??[],...k?.entries()??[]]))});let Th=[],EE=[],bE={};o.forEach(N=>{let{element:x,player:k,instruction:ae}=N;if(r.has(x)){if(u.has(x)){k.onDestroy(()=>Pn(x,ae.toStyles)),k.disabled=!0,k.overrideTotalTime(ae.totalTime),i.push(k);return}let We=bE;if(st.size>1){let St=x,Ir=[];for(;St=St.parentNode;){let be=st.get(St);if(be){We=be;break}Ir.push(St)}Ir.forEach(be=>st.set(be,We))}let mn=this._buildAnimation(k.namespaceId,ae,ze,s,Xr,Cr);if(k.setRealPlayer(mn),We===bE)Th.push(k);else{let St=this.playersByElement.get(We);St&&St.length&&(k.parentPlayer=Ur(St)),i.push(k)}}else Oi(x,ae.fromStyles),k.onDestroy(()=>Pn(x,ae.toStyles)),EE.push(k),u.has(x)&&i.push(k)}),EE.forEach(N=>{let x=s.get(N.element);if(x&&x.length){let k=Ur(x);N.setRealPlayer(k)}}),i.forEach(N=>{N.parentPlayer?N.syncPlayerEvents(N.parentPlayer):N.destroy()});for(let N=0;N<w.length;N++){let x=w[N],k=x[an];if(oo(x,Nv),k&&k.hasAnimation)continue;let ae=[];if(a.size){let mn=a.get(x);mn&&mn.length&&ae.push(...mn);let St=this.driver.query(x,Ov,!0);for(let Ir=0;Ir<St.length;Ir++){let be=a.get(St[Ir]);be&&be.length&&ae.push(...be)}}let We=ae.filter(mn=>!mn.destroyed);We.length?vB(this,x,We):this.processLeaveNode(x)}return w.length=0,Th.forEach(N=>{this.players.push(N),N.onDone(()=>{N.destroy();let x=this.players.indexOf(N);this.players.splice(x,1)}),N.play()}),Th}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Ya;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){let i=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let c=l.element,u=c!==s,d=Pt(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(h=>{let p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}Oi(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){let a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,f=t.timelines.map(p=>{let m=p.element;u.add(m);let w=m[an];if(w&&w.removedBeforeQueried)return new Vr(p.duration,p.delay);let T=m!==l,ne=yB((r.get(m)||fB).map(ze=>ze.getRealPlayer())).filter(ze=>{let st=ze;return st.element?st.element===m:!1}),U=s.get(m),ye=o.get(m),Zt=KT(this._normalizer,p.keyframes,U,ye),it=this._buildPlayer(p,Zt,ne);if(p.subTimeline&&i&&d.add(m),T){let ze=new Xa(e,a,m);ze.setRealPlayer(it),c.push(ze)}return it});c.forEach(p=>{Pt(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>pB(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>qt(p,FT));let h=Ur(f);return h.onDestroy(()=>{u.forEach(p=>oo(p,FT)),Pn(l,t.toStyles)}),d.forEach(p=>{Pt(i,p,[]).push(h)}),h}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Vr(e.duration,e.delay)}},Xa=class{namespaceId;triggerName;element;_player=new Vr;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>Wv(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Pt(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function pB(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function gB(n){return n??null}function Rd(n){return n&&n.nodeType===1}function mB(n){return n=="start"||n=="done"}function zT(n,e){let t=n.style.display;return n.style.display=e??"none",t}function WT(n,e,t,r,i){let s=[];t.forEach(l=>s.push(zT(l)));let o=[];r.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let f=e.computeStyle(c,d,i);u.set(d,f),(!f||f.length==0)&&(c[an]=hB,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>zT(l,s[a++])),o}function qT(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:i.has(c)?l=r:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==r&&t.get(l).push(a)}),t}function qt(n,e){n.classList?.add(e)}function oo(n,e){n.classList?.remove(e)}function vB(n,e,t){Ur(t).onDone(()=>n.processLeaveNode(e))}function yB(n){let e=[];return s0(n,e),e}function s0(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof Ga?s0(r.players,e):e.push(r)}}function _B(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function GT(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}var ao=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new $v(e.body,t,r),this._timelineEngine=new Bv(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],u=t0(this._driver,s,l,c);if(l.length)throw _j(i,l);a=sB(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[s,o]=kT(r),a=i;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if(r.charAt(0)=="@"){let[o,a]=kT(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function wB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Av(e[0]),e.length>1&&(r=Av(e[e.length-1]))):e instanceof Map&&(t=Av(e)),t||r?new EB(n,t,r):null}var EB=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Pn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pn(this._element,this._initialStyles),this._endStyles&&(Pn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Oi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Oi(this._element,this._endStyles),this._endStyles=null),Pn(this._element,this._initialStyles),this._state=3)}}return n})();function Av(n){let e=null;return n.forEach((t,r)=>{bB(r)&&(e=e||new Map,e.set(r,t))}),e}function bB(n){return n==="display"||n==="position"}var Bd=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Qv(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Hd=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return YT(e,t)}getParentElement(e){return Gv(e)}query(e,t,r){return QT(e,t,r)}computeStyle(e,t,r){return Qv(e,t)}animate(e,t,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(h=>h instanceof Bd);Bj(r,i)&&u.forEach(h=>{h.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=Vj(t).map(h=>new Map(h));d=Hj(e,d,c);let f=wB(e,d);return new Bd(e,d,l,f)}};var xd="@",o0="@.disabled",$d=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==xd&&t==o0?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},zv=class extends $d{factory;constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==xd?t.charAt(1)=="."&&t==o0?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==xd){let s=CB(e),o=t.slice(1),a="";return o.charAt(0)!=xd&&([o,a]=IB(o)),this.engine.listen(this.namespaceId,s,o,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,r,l)})}return this.delegate.listen(e,t,r,i)}};function CB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function IB(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var zd=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,s)=>{s?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new $d(r,i,this.engine,d),c.set(i,u)}return u}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new zv(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var SB=(()=>{class n extends ao{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(R(Qe),R(Ri),R(xi))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function TB(){return new Ld}function MB(n,e,t){return new zd(n,e,t)}var a0=[{provide:xi,useFactory:TB},{provide:ao,useClass:SB},{provide:Rr,useFactory:MB,deps:[rd,ao,le]}],W7=[{provide:Ri,useClass:Kv},{provide:jg,useValue:"NoopAnimations"},...a0],AB=[{provide:Ri,useFactory:()=>new Hd},{provide:jg,useFactory:()=>"BrowserAnimations"},...a0];function l0(){return sr("NgEagerAnimations"),[...AB]}var c0=()=>{};var Xv={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var b=function(n,e){if(!n)throw Pi(e)},Pi=function(n){return new Error("Firebase Database ("+Xv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};var d0=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},NB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),r.push(t[u],t[d],t[f],t[h])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(d0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):NB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let c=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new ey;let f=s<<2|a>>4;if(r.push(f),c!==64){let h=a<<4&240|c>>2;if(r.push(h),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ey=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ny=function(n){let e=d0(n);return uo.encodeByteArray(e,!0)},el=function(n){return ny(n).replace(/\./g,"")},lo=function(n){try{return uo.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function f0(n){return h0(void 0,n)}function h0(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!OB(t)||(n[t]=h0(n[t],e[t]));return n}function OB(n){return n!=="__proto__"}function p0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var RB=()=>p0().__FIREBASE_DEFAULTS__,xB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},PB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&lo(n[1]);return e&&JSON.parse(e)},ry=()=>{try{return c0()||RB()||xB()||PB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},iy=n=>{var e,t;return(t=(e=ry())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},g0=n=>{let e=iy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},sy=()=>{var n;return(n=ry())===null||n===void 0?void 0:n.config},oy=n=>{var e;return(e=ry())===null||e===void 0?void 0:e[`_${n}`]};var Gt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function m0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[el(JSON.stringify(t)),el(JSON.stringify(o)),""].join(".")}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tl(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function v0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y0(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qd(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _0(){let n=dt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kn(){return Xv.NODE_CLIENT===!0||Xv.NODE_ADMIN===!0}function Gd(){try{return typeof indexedDB=="object"}catch{return!1}}function w0(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var kB="FirebaseError",ln=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=kB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cn.prototype.create)}},cn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?LB(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ln(i,a,r)}};function LB(n,e){return n.replace(FB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var FB=/\{\$([^}]+)}/g;function co(n){return JSON.parse(n)}function He(n){return JSON.stringify(n)}var E0=function(n){let e={},t={},r={},i="";try{let s=n.split(".");e=co(lo(s[0])||""),t=co(lo(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};var b0=function(n){let e=E0(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},C0=function(n){let e=E0(n).claims;return typeof e=="object"&&e.admin===!0};function un(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ki(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function nl(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function rl(n,e,t){let r={};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Ln(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(u0(s)&&u0(o)){if(!Ln(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function u0(n){return n!==null&&typeof n=="object"}function Li(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fo(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ho(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}var Wd=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);let f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);let r=t-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){let e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function I0(n,e){let t=new ty(n,e);return t.subscribe.bind(t)}var ty=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");VB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Jv),i.error===void 0&&(i.error=Jv),i.complete===void 0&&(i.complete=Jv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function VB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jv(){}function il(n,e){return`${n} failed: ${e} argument `}var D0=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,b(r<n.length,"Surrogate pair missing trail surrogate.");let o=n.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},sl=function(n){let e=0;for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};var Y7=4*60*60*1e3;function Je(n){return n&&n._delegate?n._delegate:n}var vt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Fi="[DEFAULT]";var Kd=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Gt;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jB(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return g(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function UB(n){return n===Fi?void 0:n}function jB(n){return n.instantiationMode==="EAGER"}var ol=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Kd(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var BB=[],pe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(pe||{}),HB={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},$B=pe.INFO,zB={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},WB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=zB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Fn=class{constructor(e){this.name=e,this._logLevel=$B,this._logHandler=WB,this._userLogHandler=null,BB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var qB=(n,e)=>e.some(t=>n instanceof t),S0,T0;function GB(){return S0||(S0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KB(){return T0||(T0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var M0=new WeakMap,ly=new WeakMap,A0=new WeakMap,ay=new WeakMap,uy=new WeakMap;function YB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Vn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&M0.set(t,n)}).catch(()=>{}),uy.set(e,n),e}function QB(n){if(ly.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});ly.set(n,e)}var cy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ly.get(n);if(e==="objectStoreNames")return n.objectStoreNames||A0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function N0(n){cy=n(cy)}function ZB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Yd(this),e,...t);return A0.set(r,e.sort?e.sort():[e]),Vn(r)}:KB().includes(n)?function(...e){return n.apply(Yd(this),e),Vn(M0.get(this))}:function(...e){return Vn(n.apply(Yd(this),e))}}function JB(n){return typeof n=="function"?ZB(n):(n instanceof IDBTransaction&&QB(n),qB(n,GB())?new Proxy(n,cy):n)}function Vn(n){if(n instanceof IDBRequest)return YB(n);if(ay.has(n))return ay.get(n);let e=JB(n);return e!==n&&(ay.set(n,e),uy.set(e,n)),e}var Yd=n=>uy.get(n);function R0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=Vn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Vn(o.result),l.oldVersion,l.newVersion,Vn(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var XB=["get","getKey","getAll","getAllKeys","count"],e2=["put","add","delete","clear"],dy=new Map;function O0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dy.get(e))return dy.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=e2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XB.includes(t)))return;let s=function(o,...a){return g(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[t](...a),i&&l.done]))[0]})};return dy.set(e,s),s}N0(n=>H(E({},n),{get:(e,t,r)=>O0(e,t)||n.get(e,t,r),has:(e,t)=>!!O0(e,t)||n.has(e,t)}));var hy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(t2(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function t2(n){let e=n.getComponent();return e?.type==="VERSION"}var py="@firebase/app",x0="0.11.3";var pr=new Fn("@firebase/app"),n2="@firebase/app-compat",r2="@firebase/analytics-compat",i2="@firebase/analytics",s2="@firebase/app-check-compat",o2="@firebase/app-check",a2="@firebase/auth",l2="@firebase/auth-compat",c2="@firebase/database",u2="@firebase/data-connect",d2="@firebase/database-compat",f2="@firebase/functions",h2="@firebase/functions-compat",p2="@firebase/installations",g2="@firebase/installations-compat",m2="@firebase/messaging",v2="@firebase/messaging-compat",y2="@firebase/performance",_2="@firebase/performance-compat",w2="@firebase/remote-config",E2="@firebase/remote-config-compat",b2="@firebase/storage",C2="@firebase/storage-compat",I2="@firebase/firestore",D2="@firebase/vertexai",S2="@firebase/firestore-compat",T2="firebase",M2="11.5.0";var gy="[DEFAULT]",A2={[py]:"fire-core",[n2]:"fire-core-compat",[i2]:"fire-analytics",[r2]:"fire-analytics-compat",[o2]:"fire-app-check",[s2]:"fire-app-check-compat",[a2]:"fire-auth",[l2]:"fire-auth-compat",[c2]:"fire-rtdb",[u2]:"fire-data-connect",[d2]:"fire-rtdb-compat",[f2]:"fire-fn",[h2]:"fire-fn-compat",[p2]:"fire-iid",[g2]:"fire-iid-compat",[m2]:"fire-fcm",[v2]:"fire-fcm-compat",[y2]:"fire-perf",[_2]:"fire-perf-compat",[w2]:"fire-rc",[E2]:"fire-rc-compat",[b2]:"fire-gcs",[C2]:"fire-gcs-compat",[I2]:"fire-fst",[S2]:"fire-fst-compat",[D2]:"fire-vertex","fire-js":"fire-js",[T2]:"fire-js-all"};var al=new Map,N2=new Map,my=new Map;function P0(n,e){try{n.container.addComponent(e)}catch(t){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function dn(n){let e=n.name;if(my.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;my.set(e,n);for(let t of al.values())P0(t,n);for(let t of N2.values())P0(t,n);return!0}function po(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function It(n){return n==null?!1:n.settings!==void 0}var O2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new cn("app","Firebase",O2);var vy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}};var Br=M2;function wy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:gy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jr.create("bad-app-name",{appName:String(i)});if(t||(t=sy()),!t)throw jr.create("no-options");let s=al.get(i);if(s){if(Ln(t,s.options)&&Ln(r,s.config))return s;throw jr.create("duplicate-app",{appName:i})}let o=new ol(i);for(let l of my.values())o.addComponent(l);let a=new vy(t,r,o);return al.set(i,a),a}function Vi(n=gy){let e=al.get(n);if(!e&&n===gy&&sy())return wy();if(!e)throw jr.create("no-app",{appName:n});return e}function Qd(){return Array.from(al.values())}function Oe(n,e,t){var r;let i=(r=A2[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(a.join(" "));return}dn(new vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var R2="firebase-heartbeat-database",x2=1,ll="firebase-heartbeat-store",fy=null;function V0(){return fy||(fy=R0(R2,x2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ll)}catch(t){console.warn(t)}}}}).catch(n=>{throw jr.create("idb-open",{originalErrorMessage:n.message})})),fy}function P2(n){return g(this,null,function*(){try{let t=(yield V0()).transaction(ll),r=yield t.objectStore(ll).get(U0(n));return yield t.done,r}catch(e){if(e instanceof ln)pr.warn(e.message);else{let t=jr.create("idb-get",{originalErrorMessage:e?.message});pr.warn(t.message)}}})}function k0(n,e){return g(this,null,function*(){try{let r=(yield V0()).transaction(ll,"readwrite");yield r.objectStore(ll).put(e,U0(n)),yield r.done}catch(t){if(t instanceof ln)pr.warn(t.message);else{let r=jr.create("idb-set",{originalErrorMessage:t?.message});pr.warn(r.message)}}})}function U0(n){return`${n.name}!${n.options.appId}`}var k2=1024,L2=30,yy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new _y(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return g(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=L0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>L2){let o=V2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pr.warn(r)}})}getHeartbeatsHeader(){return g(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=L0(),{heartbeatsToSend:r,unsentEntries:i}=F2(this._heartbeatsCache.heartbeats),s=el(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return pr.warn(t),""}})}};function L0(){return new Date().toISOString().substring(0,10)}function F2(n,e=k2){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),F0(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),F0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var _y=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return Gd()?w0().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield P2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return g(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return k0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return g(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return k0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function F0(n){return el(JSON.stringify({version:2,heartbeats:n})).length}function V2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function U2(n){dn(new vt("platform-logger",e=>new hy(e),"PRIVATE")),dn(new vt("heartbeat",e=>new yy(e),"PRIVATE")),Oe(py,x0,n),Oe(py,x0,"esm2017"),Oe("fire-js","")}U2("");var j2="firebase",B2="11.5.0";Oe(j2,B2,"app");function Ey(n){n===void 0&&(yu(Ey),n=v(Ne));let e=n.get(Tu);return t=>new $(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:l=>{r.next(l),o()},complete:()=>{r.complete(),o()},error:l=>{r.error(l),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var ji=new Xn("ANGULARFIRE2_VERSION");function Jd(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var cl=(n,e)=>{let t=e?[e]:Qd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},go=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(go||{}),j0=mm()&&typeof Zone<"u"?go.WARN:go.SILENT;var Zd=class{zone;delegate;constructor(e,t=Qh){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},Bi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=v(le);this.outsideAngular=t.runOutsideAngular(()=>new Zd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Zd(typeof Zone>"u"?void 0:Zone.current,vs))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),B0=!1;function H2(n,e){!B0&&(j0>go.SILENT||mm())&&(B0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),j0>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function $2(n){let e=v(le,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Ui(n){let e=v(le,{optional:!0});return e?e.run(()=>n()):n()}var z2=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),qe(t,()=>Ui(()=>n.apply(void 0,r)))),$e=(n,e,t)=>(t||=e?go.WARN:go.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=v(Bi),o=v(Tu),a=v(tt)}catch{return H2(n,t),n.apply(this,i)}for(let c=0;c<arguments.length;c++)typeof i[c]=="function"&&(e&&(r||=Ui(()=>o.add())),i[c]=z2(i[c],r,a));let l=$2(()=>n.apply(this,i));return e?l instanceof $?l.pipe(Tr(s.outsideAngular),Sr(s.insideAngular),Ey(a)):l instanceof Promise?Ui(()=>new Promise((c,u)=>{o.run(()=>l).then(d=>qe(a,()=>Ui(()=>c(d))),d=>qe(a,()=>Ui(()=>u(d))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:Ui(()=>l):l instanceof $?l.pipe(Tr(s.outsideAngular),Sr(s.insideAngular)):Ui(()=>l)});var Hi=class{constructor(e){return e}},ul=class{constructor(){return Qd()}};function W2(n){return n&&n.length===1?n[0]:new Hi(Vi())}var by=new S("angularfire2._apps"),q2={provide:Hi,useFactory:W2,deps:[[new Dn,by]]},G2={provide:ul,deps:[[new Dn,by]]};function K2(n){return(e,t)=>{let r=t.get(ir);Oe("angularfire",ji.full,"core"),Oe("angularfire",ji.full,"app"),Oe("angular",$D.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Hi(i)}}function H0(n,...e){return Sn([q2,G2,{provide:by,useFactory:K2(n),multi:!0,deps:[le,Ne,Bi,...e]}])}var $0=$e(wy,!0);var J0=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(C(gt),C(Ve))};static \u0275dir=me({type:n})}return n})(),Ay=(()=>{class n extends J0{static \u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})();static \u0275dir=me({type:n,features:[mt]})}return n})(),Wi=new S("");var Y2={provide:Wi,useExisting:$t(()=>Un),multi:!0};function Q2(){let n=cr()?cr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Z2=new S(""),Un=(()=>{class n extends J0{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Q2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(C(gt),C(Ve),C(Z2,8))};static \u0275dir=me({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&he("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[An([Y2]),mt]})}return n})();function Ny(n){return n==null||Oy(n)===0}function Oy(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var cf=new S(""),Ry=new S(""),J2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Xe=class{static min(e){return X2(e)}static max(e){return eH(e)}static required(e){return X0(e)}static requiredTrue(e){return tH(e)}static email(e){return nH(e)}static minLength(e){return rH(e)}static maxLength(e){return iH(e)}static pattern(e){return sH(e)}static nullValidator(e){return ef()}static compose(e){return sM(e)}static composeAsync(e){return aM(e)}};function X2(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function eH(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function X0(n){return Ny(n.value)?{required:!0}:null}function tH(n){return n.value===!0?null:{required:!0}}function nH(n){return Ny(n.value)||J2.test(n.value)?null:{email:!0}}function rH(n){return e=>{let t=e.value?.length??Oy(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function iH(n){return e=>{let t=e.value?.length??Oy(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function sH(n){if(!n)return ef;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Ny(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function ef(n){return null}function eM(n){return n!=null}function tM(n){return Ci(n)?se(n):n}function nM(n){let e={};return n.forEach(t=>{e=t!=null?E(E({},e),t):e}),Object.keys(e).length===0?null:e}function rM(n,e){return e.map(t=>t(n))}function oH(n){return!n.validate}function iM(n){return n.map(e=>oH(e)?e:t=>e.validate(t))}function sM(n){if(!n)return null;let e=n.filter(eM);return e.length==0?null:function(t){return nM(rM(t,e))}}function oM(n){return n!=null?sM(iM(n)):null}function aM(n){if(!n)return null;let e=n.filter(eM);return e.length==0?null:function(t){let r=rM(t,e).map(tM);return Xh(r).pipe(B(nM))}}function lM(n){return n!=null?aM(iM(n)):null}function z0(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cM(n){return n._rawValidators}function uM(n){return n._rawAsyncValidators}function Cy(n){return n?Array.isArray(n)?n:[n]:[]}function tf(n,e){return Array.isArray(n)?n.includes(e):n===e}function W0(n,e){let t=Cy(e);return Cy(n).forEach(i=>{tf(t,i)||t.push(i)}),t}function q0(n,e){return Cy(e).filter(t=>!tf(n,t))}var nf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},$i=class extends nf{name;get formDirective(){return null}get path(){return null}},zi=class extends nf{_parent=null;name=null;valueAccessor=null},rf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},aH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},cJ=H(E({},aH),{"[class.ng-submitted]":"isSubmitted"}),$r=(()=>{class n extends rf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(C(zi,2))};static \u0275dir=me({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Te("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[mt]})}return n})(),_o=(()=>{class n extends rf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(C($i,10))};static \u0275dir=me({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Te("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[mt]})}return n})();var dl="VALID",Xd="INVALID",mo="PENDING",fl="DISABLED",Hr=class{},sf=class extends Hr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},hl=class extends Hr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},pl=class extends Hr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},vo=class extends Hr{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Iy=class extends Hr{source;constructor(e){super(),this.source=e}},Dy=class extends Hr{source;constructor(e){super(),this.source=e}};function xy(n){return(uf(n)?n.validators:n)||null}function lH(n){return Array.isArray(n)?oM(n):n||null}function Py(n,e){return(uf(e)?e.asyncValidators:n)||null}function cH(n){return Array.isArray(n)?lM(n):n||null}function uf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function dM(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new _(1e3,"");if(!r[t])throw new _(1001,"")}function fM(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new _(1002,"")})}var yo=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Nn(this.statusReactive)}set status(e){Nn(()=>this.statusReactive.set(e))}_status=Ii(()=>this.statusReactive());statusReactive=rr(void 0);get valid(){return this.status===dl}get invalid(){return this.status===Xd}get pending(){return this.status==mo}get disabled(){return this.status===fl}get enabled(){return this.status!==fl}errors;get pristine(){return Nn(this.pristineReactive)}set pristine(e){Nn(()=>this.pristineReactive.set(e))}_pristine=Ii(()=>this.pristineReactive());pristineReactive=rr(!0);get dirty(){return!this.pristine}get touched(){return Nn(this.touchedReactive)}set touched(e){Nn(()=>this.touchedReactive.set(e))}_touched=Ii(()=>this.touchedReactive());touchedReactive=rr(!1);get untouched(){return!this.touched}_events=new we;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(W0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(W0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(q0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(q0(e,this._rawAsyncValidators))}hasValidator(e){return tf(this._rawValidators,e)}hasAsyncValidator(e){return tf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(H(E({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new pl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new pl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(H(E({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new hl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new hl(!0,r))}markAsPending(e={}){this.status=mo;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vo(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(H(E({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=fl,this.errors=null,this._forEachChild(i=>{i.disable(H(E({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sf(this.value,r)),this._events.next(new vo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(H(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=dl,this._forEachChild(r=>{r.enable(H(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(H(E({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dl||this.status===mo)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sf(this.value,t)),this._events.next(new vo(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(H(E({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fl:dl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=mo,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=tM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new vo(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new fe,this.statusChanges=new fe}_calculateStatus(){return this._allControlsDisabled()?fl:this.errors?Xd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mo)?mo:this._anyControlsHaveStatus(Xd)?Xd:dl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new hl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new pl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=lH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=cH(this._rawAsyncValidators)}},of=class extends yo{constructor(e,t,r){super(xy(t),Py(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){fM(this,!0,e),Object.keys(e).forEach(r=>{dM(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Sy=class extends of{};var df=new S("",{providedIn:"root",factory:()=>ff}),ff="always";function hM(n,e){return[...e.path,n]}function Ty(n,e,t=ff){ky(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),dH(n,e),hH(n,e),fH(n,e),uH(n,e)}function G0(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),lf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function af(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function uH(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function ky(n,e){let t=cM(n);e.validator!==null?n.setValidators(z0(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=uM(n);e.asyncValidator!==null?n.setAsyncValidators(z0(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();af(e._rawValidators,i),af(e._rawAsyncValidators,i)}function lf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=cM(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=uM(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return af(e._rawValidators,r),af(e._rawAsyncValidators,r),t}function dH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&pM(n,e)})}function fH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&pM(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function pM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hH(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function pH(n,e){n==null,ky(n,e)}function gH(n,e){return lf(n,e)}function gM(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function mH(n){return Object.getPrototypeOf(n.constructor)===Ay}function vH(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function mM(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Un?t=s:mH(s)?r=s:i=s}),i||r||t||null}function yH(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function K0(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Y0(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var gl=class extends yo{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(xy(t),Py(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Y0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){K0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){K0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Y0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var _H=n=>n instanceof gl;var wH={provide:zi,useExisting:$t(()=>Ly)},Q0=Promise.resolve(),Ly=(()=>{class n extends zi{_changeDetectorRef;callSetDisabledState;control=new gl;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new fe;constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=mM(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),gM(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ty(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Q0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&zt(r);Q0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?hM(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(C($i,9),C(cf,10),C(Ry,10),C(Wi,10),C(Nt,8),C(df,8))};static \u0275dir=me({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[An([wH]),mt,Mt]})}return n})();var wo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=me({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),EH={provide:Wi,useExisting:$t(()=>Fy),multi:!0},Fy=(()=>{class n extends Ay{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})();static \u0275dir=me({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&he("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[An([EH]),mt]})}return n})();var bH={provide:Wi,useExisting:$t(()=>Vy),multi:!0},Vy=(()=>{class n extends Ay{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})();static \u0275dir=me({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&he("change",function(o){return i.onChange(o.target.value)})("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[An([bH]),mt]})}return n})(),vM=new S("");var CH={provide:$i,useExisting:$t(()=>qi)},qi=(()=>{class n extends $i{callSetDisabledState;get submitted(){return Nn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Ii(()=>this._submittedReactive());_submittedReactive=rr(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new fe;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Ty(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){G0(t.control||null,t,!1),yH(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),vH(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Iy(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Dy(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(G0(r||null,t),_H(i)&&(Ty(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);pH(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&gH(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ky(this.form,this),this._oldForm&&lf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(C(cf,10),C(Ry,10),C(df,8))};static \u0275dir=me({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&he("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[An([CH]),mt,Mt]})}return n})();var IH={provide:zi,useExisting:$t(()=>Gi)},Gi=(()=>{class n extends zi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new fe;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=mM(this,s)}ngOnChanges(t){this._added||this._setUpControl(),gM(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return hM(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(C($i,13),C(cf,10),C(Ry,10),C(Wi,10),C(vM,8))};static \u0275dir=me({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[An([IH]),mt,Mt]})}return n})();var DH=(()=>{class n{_validator=ef;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ef,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=me({type:n,features:[Mt]})}return n})();var SH={provide:cf,useExisting:$t(()=>Ki),multi:!0};var Ki=(()=>{class n extends DH{required;inputName="required";normalizeInput=zt;createValidator=t=>X0;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=xr(n)))(i||n)}})();static \u0275dir=me({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&rn("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[An([SH]),mt]})}return n})();var yM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=At({type:n});static \u0275inj=Tt({})}return n})(),My=class extends yo{constructor(e,t,r){super(xy(t),Py(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){fM(this,!1,e),e.forEach((r,i)=>{dM(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Z0(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Eo=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return Z0(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new of(i,s)}record(t,r=null){let i=this._reduceControls(t);return new Sy(i,r)}control(t,r,i){let s={};return this.useNonNullable?(Z0(r)?s=r:(s.validators=r,s.asyncValidators=i),new gl(t,H(E({},s),{nonNullable:!0}))):new gl(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new My(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof gl)return t;if(t instanceof yo)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _M=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:df,useValue:t.callSetDisabledState??ff}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=At({type:n});static \u0275inj=Tt({imports:[yM]})}return n})(),bo=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:df,useValue:t.callSetDisabledState??ff}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=At({type:n});static \u0275inj=Tt({imports:[yM]})}return n})();var TH=new Map,MH={activated:!1,tokenObservers:[]},AH={initialized:!1,enabled:!1};function fn(n){return TH.get(n)||Object.assign({},MH)}function CM(){return AH}var NH="https://content-firebaseappcheck.googleapis.com/v1";var OH="exchangeDebugToken",wM={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},yJ=24*60*60*1e3;var By=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return g(this,null,function*(){this.stop();try{this.pending=new Gt,this.pending.promise.catch(t=>{}),yield RH(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Gt,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function RH(n){return new Promise(e=>{setTimeout(e,n)})}var xH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},zr=new cn("appCheck","AppCheck",xH);function IM(n){if(!fn(n).activated)throw zr.create("use-before-activation",{appName:n.name})}function DM(r,i){return g(this,arguments,function*({url:n,body:e},t){let s={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){let h=yield o.getHeartbeatsHeader();h&&(s["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(n,a)}catch(h){throw zr.create("fetch-network-error",{originalErrorMessage:h?.message})}if(l.status!==200)throw zr.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(h){throw zr.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw zr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function SM(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${NH}/projects/${t}/apps/${r}:${OH}?key=${i}`,body:{debug_token:e}}}var PH="firebase-app-check-database",kH=1,Hy="firebase-app-check-store";var pf=null;function LH(){return pf||(pf=new Promise((n,e)=>{try{let t=indexedDB.open(PH,kH);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(zr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Hy,{keyPath:"compositeKey"})}}}catch(t){e(zr.create("storage-open",{originalErrorMessage:t?.message}))}}),pf)}function FH(n,e){return VH(UH(n),e)}function VH(n,e){return g(this,null,function*(){let r=(yield LH()).transaction(Hy,"readwrite"),s=r.objectStore(Hy).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(zr.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function UH(n){return`${n.options.appId}-${n.name}`}var ml=new Fn("@firebase/app-check");function Uy(n,e){return Gd()?FH(n,e).catch(t=>{ml.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function TM(){return CM().enabled}function MM(){return g(this,null,function*(){let n=CM();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var jH={error:"UNKNOWN_ERROR"};function BH(n){return uo.encodeString(JSON.stringify(n),!1)}function $y(n,e=!1,t=!1){return g(this,null,function*(){let r=n.app;IM(r);let i=fn(r),s=i.token,o;if(s&&!vl(s)&&(i.token=void 0,s=void 0),!s){let c=yield i.cachedTokenPromise;c&&(vl(c)?s=c:yield Uy(r,void 0))}if(!e&&s&&vl(s))return{token:s.token};let a=!1;if(TM())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=DM(SM(r,yield MM()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let c=yield i.exchangeTokenPromise;return yield Uy(r,c),i.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?ml.warn(c.message):t&&ml.error(c),jy(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=yield fn(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?ml.warn(c.message):t&&ml.error(c),o=c}let l;return s?o?vl(s)?l={token:s.token,internalError:o}:l=jy(o):(l={token:s.token},i.token=s,yield Uy(r,s)):l=jy(o),a&&WH(r,l),l})}function HH(n){return g(this,null,function*(){let e=n.app;IM(e);let{provider:t}=fn(e);if(TM()){let r=yield MM(),{token:i}=yield DM(SM(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function $H(n,e,t,r){let{app:i}=n,s=fn(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&vl(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),EM(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>EM(n))}function AM(n,e){let t=fn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function EM(n){let{app:e}=n,t=fn(e),r=t.tokenRefresher;r||(r=zH(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function zH(n){let{app:e}=n;return new By(()=>g(this,null,function*(){let t=fn(e),r;if(t.token?r=yield $y(n,!0):r=yield $y(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=fn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},wM.RETRIAL_MIN_WAIT,wM.RETRIAL_MAX_WAIT)}function WH(n,e){let t=fn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function vl(n){return n.expireTimeMillis-Date.now()>0}function jy(n){return{token:BH(jH),error:n}}var zy=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=fn(this.app);for(let t of e)AM(this.app,t.next);return Promise.resolve()}};function qH(n,e){return new zy(n,e)}function GH(n){return{getToken:e=>$y(n,e),getLimitedUseToken:()=>HH(n),addTokenListener:e=>$H(n,"INTERNAL",e),removeTokenListener:e=>AM(n.app,e)}}var KH="@firebase/app-check",YH="0.8.13";var QH="app-check",bM="app-check-internal";function ZH(){dn(new vt(QH,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return qH(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bM).initialize()})),dn(new vt(bM,n=>{let e=n.getProvider("app-check").getImmediate();return GH(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Oe(KH,YH)}ZH();var JH="app-check";var gf=class{constructor(){return cl(JH)}};var XH=["localhost","0.0.0.0","127.0.0.1"],OJ=typeof window<"u"&&XH.includes(window.location.hostname);function WM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var qM=WM,GM=new cn("auth","Firebase",WM());var Ef=new Fn("@firebase/auth");function e$(n,...e){Ef.logLevel<=pe.WARN&&Ef.warn(`Auth (${Br}): ${n}`,...e)}function vf(n,...e){Ef.logLevel<=pe.ERROR&&Ef.error(`Auth (${Br}): ${n}`,...e)}function Bn(n,...e){throw g_(n,...e)}function Yi(n,...e){return g_(n,...e)}function KM(n,e,t){let r=Object.assign(Object.assign({},qM()),{[e]:t});return new cn("auth","Firebase",r).create(e,{appName:n.name})}function vr(n){return KM(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return GM.create(n,...e)}function F(n,e,...t){if(!n)throw g_(e,...t)}function gr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw vf(e),new Error(e)}function qr(n,e){n||gr(e)}function Ky(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function t$(){return NM()==="http:"||NM()==="https:"}function NM(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function n$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t$()||y0()||"connection"in navigator)?navigator.onLine:!0}function r$(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Qi=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,qr(t>e,"Short delay should be less than long delay!"),this.isMobile=tl()||qd()}get(){return n$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function m_(n,e){qr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var bf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var i$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var s$=new Qi(3e4,6e4);function Gr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function yr(s,o,a,l){return g(this,arguments,function*(n,e,t,r,i={}){return YM(n,i,()=>g(this,null,function*(){let c={},u={};r&&(e==="GET"?u=r:c={body:JSON.stringify(r)});let d=Li(Object.assign({key:n.config.apiKey},u)).slice(1),f=yield n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);let h=Object.assign({method:e,headers:f},c);return v0()||(h.referrerPolicy="no-referrer"),bf.fetch()(QM(n,n.config.apiHost,t,d),h)}))})}function YM(n,e,t){return g(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},i$),e);try{let i=new Yy(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw mf(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mf(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw mf(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw mf(n,"user-disabled",o);let u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw KM(n,u,c);Bn(n,u)}}catch(i){if(i instanceof ln)throw i;Bn(n,"network-request-failed",{message:String(i)})}})}function Dl(s,o,a,l){return g(this,arguments,function*(n,e,t,r,i={}){let c=yield yr(n,e,t,r,i);return"mfaPendingCredential"in c&&Bn(n,"multi-factor-auth-required",{_serverResponse:c}),c})}function QM(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?m_(n.config,i):`${n.config.apiScheme}://${i}`}function o$(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Yy=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Yi(this.auth,"network-request-failed")),s$.get())})}};function mf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Yi(n,e,r);return i.customData._tokenResponse=t,i}function OM(n){return n!==void 0&&n.enterprise!==void 0}var Qy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return o$(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function a$(n,e){return g(this,null,function*(){return yr(n,"GET","/v2/recaptchaConfig",Gr(n,e))})}function l$(n,e){return g(this,null,function*(){return yr(n,"POST","/v1/accounts:delete",e)})}function ZM(n,e){return g(this,null,function*(){return yr(n,"POST","/v1/accounts:lookup",e)})}function _l(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Rf(n,e=!1){return Je(n).getIdToken(e)}function v_(n,e=!1){return g(this,null,function*(){let t=Je(n),r=yield t.getIdToken(e),i=y_(r);F(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:_l(Wy(i.auth_time)),issuedAtTime:_l(Wy(i.iat)),expirationTime:_l(Wy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Wy(n){return Number(n)*1e3}function y_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{let i=lo(t);return i?JSON.parse(i):(vf("Failed to decode base64 JWT payload"),null)}catch(i){return vf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function RM(n){let e=y_(n);return F(e,"internal-error"),F(typeof e.exp<"u","internal-error"),F(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Co(n,e,t=!1){return g(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof ln&&c$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function c$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Zy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),t)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var El=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Cf(n){return g(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Co(n,ZM(t,{idToken:r}));F(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?JM(s.providerUserInfo):[],a=u$(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!a?.length,u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new El(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})}function __(n){return g(this,null,function*(){let e=Je(n);yield Cf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function u$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JM(n){return n.map(e=>{var{providerId:t}=e,r=Zh(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function d$(n,e){return g(this,null,function*(){let t=yield YM(n,{},()=>g(this,null,function*(){let r=Li({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=QM(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bf.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function f$(n,e){return g(this,null,function*(){return yr(n,"POST","/v2/accounts:revokeToken",Gr(n,e))})}var wl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){F(e.idToken,"internal-error"),F(typeof e.idToken<"u","internal-error"),F(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){F(e.length!==0,"internal-error");let t=RM(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return g(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(F(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return g(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield d$(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(F(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(F(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(F(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return gr("not implemented")}};function Wr(n,e){F(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Io=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Zh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new El(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return g(this,null,function*(){let t=yield Co(this,this.stsTokenManager.getToken(this.auth,e));return F(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return v_(this,e)}reload(){return __(this)}_assign(e){this!==e&&(F(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){F(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return g(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Cf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(It(this.auth.app))return Promise.reject(vr(this.auth));let e=yield this.getIdToken();return yield Co(this,l$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;let d=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(i=t.email)!==null&&i!==void 0?i:void 0,h=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=t.photoURL)!==null&&o!==void 0?o:void 0,m=(a=t.tenantId)!==null&&a!==void 0?a:void 0,w=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,T=(c=t.createdAt)!==null&&c!==void 0?c:void 0,ne=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:U,emailVerified:ye,isAnonymous:Zt,providerData:it,stsTokenManager:ze}=t;F(U&&ze,e,"internal-error");let st=wl.fromJSON(this.name,ze);F(typeof U=="string",e,"internal-error"),Wr(d,e.name),Wr(f,e.name),F(typeof ye=="boolean",e,"internal-error"),F(typeof Zt=="boolean",e,"internal-error"),Wr(h,e.name),Wr(p,e.name),Wr(m,e.name),Wr(w,e.name),Wr(T,e.name),Wr(ne,e.name);let Jt=new n({uid:U,auth:e,email:f,emailVerified:ye,displayName:d,isAnonymous:Zt,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:st,createdAt:T,lastLoginAt:ne});return it&&Array.isArray(it)&&(Jt.providerData=it.map(Cr=>Object.assign({},Cr))),w&&(Jt._redirectEventId=w),Jt}static _fromIdTokenResponse(e,t,r=!1){return g(this,null,function*(){let i=new wl;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Cf(s),s})}static _fromGetAccountInfoResponse(e,t,r){return g(this,null,function*(){let i=t.users[0];F(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?JM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new wl;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new El(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var xM=new Map;function mr(n){qr(n instanceof Function,"Expected a class definition");let e=xM.get(n);return e?(qr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xM.set(n,e),e)}var h$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(t,r){return g(this,null,function*(){this.storage[t]=r})}_get(t){return g(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return g(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Jy=h$;function yf(n,e,t){return`firebase:${n}:${e}:${t}`}var If=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=yf(this.userKey,i.apiKey,s),this.fullPersistenceKey=yf("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return g(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Io._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return g(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(this,null,function*(){if(!t.length)return new n(mr(Jy),e,r);let i=(yield Promise.all(t.map(c=>g(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||mr(Jy),o=yf(r,e.config.apiKey,e.name),a=null;for(let c of t)try{let u=yield c._get(o);if(u){let d=Io._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}let l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,r):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(c=>g(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new n(s,e,r))})}};function PM(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iA(e))return"Blackberry";if(sA(e))return"Webos";if(eA(e))return"Safari";if((e.includes("chrome/")||tA(e))&&!e.includes("edge/"))return"Chrome";if(rA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function XM(n=dt()){return/firefox\//i.test(n)}function eA(n=dt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tA(n=dt()){return/crios\//i.test(n)}function nA(n=dt()){return/iemobile/i.test(n)}function rA(n=dt()){return/android/i.test(n)}function iA(n=dt()){return/blackberry/i.test(n)}function sA(n=dt()){return/webos/i.test(n)}function w_(n=dt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function p$(n=dt()){var e;return w_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function g$(){return _0()&&document.documentMode===10}function oA(n=dt()){return w_(n)||rA(n)||sA(n)||iA(n)||/windows phone/i.test(n)||nA(n)}function aA(n,e=[]){let t;switch(n){case"Browser":t=PM(dt());break;case"Worker":t=`${PM(dt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Br}/${r}`}var Xy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return g(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function m$(t){return g(this,arguments,function*(n,e={}){return yr(n,"GET","/v2/passwordPolicy",Gr(n,e))})}var v$=6,e_=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:v$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var t_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Df(this),this.idTokenSubscription=new Df(this),this.beforeStateQueue=new Xy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mr(t)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield If.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return g(this,null,function*(){try{let t=yield ZM(this,{idToken:e}),r=yield Io._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return g(this,null,function*(){var t;if(It(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return F(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return g(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return g(this,null,function*(){try{yield Cf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=r$()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return g(this,null,function*(){if(It(this.app))return Promise.reject(vr(this));let t=e?Je(e):null;return t&&F(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return g(this,null,function*(){if(!this._deleted)return e&&F(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return It(this.app)?Promise.reject(vr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return It(this.app)?Promise.reject(vr(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(mr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let e=yield m$(this),t=new e_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return g(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield f$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return g(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return g(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&mr(e)||this._popupRedirectResolver;F(t,this,"argument-error"),this.redirectPersistenceManager=yield If.create(this,[mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return g(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return g(this,null,function*(){if(e===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(F(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return g(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return F(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return g(this,null,function*(){var e;if(It(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&e$(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Ji(n){return Je(n)}var Df=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=I0(t=>this.observer=t)}get next(){return F(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var xf={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function y$(n){xf=n}function lA(n){return xf.loadJS(n)}function _$(){return xf.recaptchaEnterpriseScript}function w$(){return xf.gapiScript}function cA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var n_=class{constructor(){this.enterprise=new r_}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},r_=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var E$="recaptcha-enterprise",uA="NO_RECAPTCHA",i_=class{constructor(e){this.type=E$,this.auth=Ji(e)}verify(e="verify",t=!1){return g(this,null,function*(){function r(s){return g(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>g(this,null,function*(){a$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new Qy(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function i(s,o,a){let l=window.grecaptcha;OM(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(uA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new n_().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&OM(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=_$();l.length!==0&&(l+=a),lA(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function yl(n,e,t,r=!1,i=!1){return g(this,null,function*(){let s=new i_(n),o;if(i)o=uA;else try{o=yield s.verify(t)}catch{o=yield s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function s_(n,e,t,r,i){return g(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield yl(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>g(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield yl(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield yl(n,e,t);return r(n,a).catch(l=>g(this,null,function*(){var c;if(((c=n._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let u=yield yl(n,e,t,!1,!0);return r(n,u)}return Promise.reject(l)}))}else{let a=yield yl(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function E_(n,e){let t=po(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Ln(s,e??{}))return i;Bn(i,"already-initialized")}return t.initialize({options:e})}function b$(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(mr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function b_(n,e,t){let r=Ji(n);F(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=dA(e),{host:o,port:a}=C$(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){F(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),F(Ln(c,r.config.emulator)&&Ln(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,i||I$()}function dA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function C$(n){let e=dA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:kM(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:kM(o)}}}function kM(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function I$(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var bl=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,t){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}};function D$(n,e){return g(this,null,function*(){return yr(n,"POST","/v1/accounts:signUp",e)})}function S$(n,e){return g(this,null,function*(){return Dl(n,"POST","/v1/accounts:signInWithPassword",Gr(n,e))})}function T$(n,e){return g(this,null,function*(){return Dl(n,"POST","/v1/accounts:signInWithEmailLink",Gr(n,e))})}function M$(n,e){return g(this,null,function*(){return Dl(n,"POST","/v1/accounts:signInWithEmailLink",Gr(n,e))})}var Cl=class n extends bl{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return g(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s_(e,t,"signInWithPassword",S$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return T$(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}})}_linkToIdToken(e,t){return g(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return s_(e,r,"signUpPassword",D$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return M$(e,{idToken:t,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function qy(n,e){return g(this,null,function*(){return Dl(n,"POST","/v1/accounts:signInWithIdp",Gr(n,e))})}function A$(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N$(n){let e=fo(ho(n)).link,t=e?fo(ho(e)).deep_link_id:null,r=fo(ho(n)).deep_link_id;return(r?fo(ho(r)).link:null)||r||t||e||n}var Sf=class n{constructor(e){var t,r,i,s,o,a;let l=fo(ho(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=A$((i=l.mode)!==null&&i!==void 0?i:null);F(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=N$(e);try{return new n(t)}catch{return null}}};var fA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Cl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Sf.parseLink(r);return F(i,"argument-error"),Cl._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Tf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var o_=class extends Tf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function O$(n,e){return g(this,null,function*(){return Dl(n,"POST","/v1/accounts:signUp",Gr(n,e))})}var Do=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(this,null,function*(){let s=yield Io._fromIdTokenResponse(e,r,i),o=LM(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return g(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=LM(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function LM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var a_=class n extends ln{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function hA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?a_._fromErrorAndOperation(n,s,e,r):s})}function R$(n,e,t=!1){return g(this,null,function*(){let r=yield Co(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Do._forOperation(n,"link",r)})}function x$(n,e,t=!1){return g(this,null,function*(){let{auth:r}=n;if(It(r.app))return Promise.reject(vr(r));let i="reauthenticate";try{let s=yield Co(n,hA(r,i,e,n),t);F(s.idToken,r,"internal-error");let o=y_(s.idToken);F(o,r,"internal-error");let{sub:a}=o;return F(n.uid===a,r,"user-mismatch"),Do._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Bn(r,"user-mismatch"),s}})}function pA(n,e,t=!1){return g(this,null,function*(){if(It(n.app))return Promise.reject(vr(n));let r="signIn",i=yield hA(n,r,e),s=yield Do._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function C_(n,e){return g(this,null,function*(){return pA(Ji(n),e)})}function gA(n){return g(this,null,function*(){let e=Ji(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function I_(n,e,t){return g(this,null,function*(){if(It(n.app))return Promise.reject(vr(n));let r=Ji(n),o=yield s_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O$,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&gA(n),l}),a=yield Do._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function D_(n,e,t){return It(n.app)?Promise.reject(vr(n)):C_(Je(n),fA.credential(e,t)).catch(r=>g(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&gA(n),r}))}function P$(n,e){return g(this,null,function*(){return yr(n,"POST","/v1/accounts:update",e)})}function S_(r,i){return g(this,arguments,function*(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let s=Je(n),a={idToken:yield s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=yield Co(s,P$(s.auth,a));s.displayName=l.displayName||null,s.photoURL=l.photoUrl||null;let c=s.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=s.displayName,c.photoURL=s.photoURL),yield s._updateTokensIfNecessary(l)})}function Sl(n,e,t,r){return Je(n).onIdTokenChanged(e,t,r)}function T_(n,e,t){return Je(n).beforeAuthStateChanged(e,t)}function M_(n){return Je(n).signOut()}var Mf="__sak";var Af=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mf,"1"),this.storage.removeItem(Mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var k$=1e3,L$=10,F$=(()=>{class n extends Af{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);g$()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,L$):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},k$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return g(this,null,function*(){yield ti(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return g(this,null,function*(){let r=yield ti(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return g(this,null,function*(){yield ti(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),mA=F$;var V$=(()=>{class n extends Af{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),A_=V$;function U$(n){return Promise.all(n.map(e=>g(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var j$=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return g(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(u=>g(this,null,function*(){return u(r.origin,o)})),c=yield U$(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function vA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var l_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return g(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=vA("",20);i.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function jn(){return window}function B$(n){jn().location.href=n}function yA(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}function H$(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function $$(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function z$(){return yA()?self:null}var _A="firebaseLocalStorageDb",W$=1,Nf="firebaseLocalStorage",wA="fbase_key",Zi=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Pf(n,e){return n.transaction([Nf],e?"readwrite":"readonly").objectStore(Nf)}function q$(){let n=indexedDB.deleteDatabase(_A);return new Zi(n).toPromise()}function c_(){let n=indexedDB.open(_A,W$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Nf,{keyPath:wA})}catch(i){t(i)}}),n.addEventListener("success",()=>g(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Nf)?e(r):(r.close(),yield q$(),e(yield c_()))}))})}function FM(n,e,t){return g(this,null,function*(){let r=Pf(n,!0).put({[wA]:e,value:t});return new Zi(r).toPromise()})}function G$(n,e){return g(this,null,function*(){let t=Pf(n,!1).get(e),r=yield new Zi(t).toPromise();return r===void 0?null:r.value})}function VM(n,e){let t=Pf(n,!0).delete(e);return new Zi(t).toPromise()}var K$=800,Y$=3,Q$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield c_(),this.db)})}_withRetries(t){return g(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>Y$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return yA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=j$._getInstance(z$()),this.receiver._subscribe("keyChanged",(t,r)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var t,r;if(this.activeServiceWorker=yield H$(),!this.activeServiceWorker)return;this.sender=new l_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||$$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let t=yield c_();return yield FM(t,Mf,"1"),yield VM(t,Mf),!0}catch{}return!1})}_withPendingWrite(t){return g(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>FM(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return g(this,null,function*(){let r=yield this._withRetries(i=>G$(i,t));return this.localCache[t]=r,r})}_remove(t){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>VM(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return g(this,null,function*(){let t=yield this._withRetries(s=>{let o=Pf(s,!1).getAll();return new Zi(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),K$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),EA=Q$;var UJ=cA("rcb"),jJ=new Qi(3e4,6e4);function Z$(n,e){return e?mr(e):(F(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Il=class extends bl{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qy(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function J$(n){return pA(n.auth,new Il(n),n.bypassAuthState)}function X$(n){let{auth:e,user:t}=n;return F(t,e,"internal-error"),x$(t,new Il(n),n.bypassAuthState)}function ez(n){return g(this,null,function*(){let{auth:e,user:t}=n;return F(t,e,"internal-error"),R$(t,new Il(n),n.bypassAuthState)})}var u_=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>g(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return g(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J$;case"linkViaPopup":case"linkViaRedirect":return ez;case"reauthViaPopup":case"reauthViaRedirect":return X$;default:Bn(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var BJ=new Qi(2e3,1e4);var tz="pendingRedirect",_f=new Map,d_=class n extends u_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return g(this,null,function*(){let e=_f.get(this.auth._key());if(!e){try{let r=(yield nz(this.resolver,this.auth))?yield ti(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}_f.set(this.auth._key(),e)}return this.bypassAuthState||_f.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return g(this,null,function*(){if(e.type==="signInViaRedirect")return ti(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,ti(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function nz(n,e){return g(this,null,function*(){let t=sz(e),r=iz(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function rz(n,e){_f.set(n._key(),e)}function iz(n){return mr(n._redirectPersistence)}function sz(n){return yf(tz,n.config.apiKey,n.name)}function oz(n,e,t=!1){return g(this,null,function*(){if(It(n.app))return Promise.reject(vr(n));let r=Ji(n),i=Z$(r,e),o=yield new d_(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var az=10*60*1e3,f_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lz(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!bA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Yi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=az&&this.cachedEventUids.clear(),this.cachedEventUids.has(UM(e))}saveEventToCache(e){this.cachedEventUids.add(UM(e)),this.lastProcessedEventTime=Date.now()}};function UM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function lz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bA(n);default:return!1}}function cz(t){return g(this,arguments,function*(n,e={}){return yr(n,"GET","/v1/projects",e)})}var uz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dz=/^https?/;function fz(n){return g(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield cz(n);for(let t of e)try{if(hz(t))return}catch{}Bn(n,"unauthorized-domain")})}function hz(n){let e=Ky(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!dz.test(t))return!1;if(uz.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var pz=new Qi(3e4,6e4);function jM(){let n=jn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gz(n){return new Promise((e,t)=>{var r,i,s;function o(){jM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jM(),t(Yi(n,"network-request-failed"))},timeout:pz.get()})}if(!((i=(r=jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=jn().gapi)===null||s===void 0)&&s.load)o();else{let a=cA("iframefcb");return jn()[a]=()=>{gapi.load?o():t(Yi(n,"network-request-failed"))},lA(`${w$()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw wf=null,e})}var wf=null;function mz(n){return wf=wf||gz(n),wf}var vz=new Qi(5e3,15e3),yz="__/auth/iframe",_z="emulator/auth/iframe",wz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ez=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bz(n){let e=n.config;F(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?m_(e,_z):`https://${n.config.authDomain}/${yz}`,r={apiKey:e.apiKey,appName:n.name,v:Br},i=Ez.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Li(r).slice(1)}`}function Cz(n){return g(this,null,function*(){let e=yield mz(n),t=jn().gapi;return F(t,n,"internal-error"),e.open({where:document.body,url:bz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wz,dontclear:!0},r=>new Promise((i,s)=>g(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Yi(n,"network-request-failed"),a=jn().setTimeout(()=>{s(o)},vz.get());function l(){jn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var Iz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dz=500,Sz=600,Tz="_blank",Mz="http://localhost",Of=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Az(n,e,t,r=Dz,i=Sz){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},Iz),{width:r.toString(),height:i.toString(),top:s,left:o}),c=dt().toLowerCase();t&&(a=tA(c)?Tz:t),XM(c)&&(e=e||Mz,l.scrollbars="yes");let u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(p$(c)&&a!=="_self")return Nz(e||"",a),new Of(null);let d=window.open(e||"",a,u);F(d,n,"popup-blocked");try{d.focus()}catch{}return new Of(d)}function Nz(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Oz="__/auth/handler",Rz="emulator/auth/handler",xz=encodeURIComponent("fac");function BM(n,e,t,r,i,s){return g(this,null,function*(){F(n.config.authDomain,n,"auth-domain-config-required"),F(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Br,eventId:i};if(e instanceof Tf){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",nl(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof o_){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield n._getAppCheckToken(),c=l?`#${xz}=${encodeURIComponent(l)}`:"";return`${Pz(n)}?${Li(a).slice(1)}${c}`})}function Pz({config:n}){return n.emulator?m_(n,Rz):`https://${n.authDomain}/${Oz}`}var Gy="webStorageSupport",h_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A_,this._completeRedirectFn=oz,this._overrideRedirectResult=rz}_openPopup(e,t,r,i){return g(this,null,function*(){var s;qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield BM(e,t,r,Ky(),i);return Az(e,o,vA())})}_openRedirect(e,t,r,i){return g(this,null,function*(){yield this._originValidation(e);let s=yield BM(e,t,r,Ky(),i);return B$(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(qr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return g(this,null,function*(){let t=yield Cz(e),r=new f_(e);return t.register("authEvent",i=>(F(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gy,{type:Gy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Gy];o!==void 0&&t(!!o),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oA()||eA()||w_()}},CA=h_;var HM="@firebase/auth",$M="1.9.1";var p_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){F(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function kz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lz(n){dn(new vt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;F(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aA(n)},c=new t_(r,i,s,l);return b$(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),dn(new vt("auth-internal",e=>{let t=Ji(e.getProvider("auth").getImmediate());return(r=>new p_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(HM,$M,kz(n)),Oe(HM,$M,"esm2017")}var Fz=5*60,Vz=oy("authIdTokenMaxAge")||Fz,zM=null,Uz=n=>e=>g(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Vz)return;let i=t?.token;zM!==i&&(zM=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function N_(n=Vi()){let e=po(n,"auth");if(e.isInitialized())return e.getImmediate();let t=E_(n,{popupRedirectResolver:CA,persistence:[EA,mA,A_]}),r=oy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Uz(s.toString());T_(t,o,()=>o(t.currentUser)),Sl(t,a=>o(a))}}let i=iy("auth");return i&&b_(t,`http://${i}`),t}function jz(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}y$({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Yi("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",jz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lz("Browser");function O_(n){return new $(function(e){var t=Sl(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function DA(n){return O_(n).pipe(Fe(function(e){return e?se(Rf(e)):P(null)}))}var SA="auth",Xi=class{constructor(e){return e}},R_=class{constructor(){return cl(SA)}};var x_=new S("angularfire2.auth-instances");function SW(n,e){let t=Jd(SA,n,e);return t&&new Xi(t)}function TW(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Xi(r)}}var MW={provide:R_,deps:[[new Dn,x_]]},AW={provide:Xi,useFactory:SW,deps:[[new Dn,x_],Hi]};function TA(n,...e){return Oe("angularfire",ji.full,"auth"),Sn([AW,MW,{provide:x_,useFactory:TW(n),multi:!0,deps:[le,Ne,Bi,ul,[new Dn,gf],...e]}])}var MA=$e(DA,!0),AA=$e(O_,!0);var NA=$e(I_,!0,2);var OA=$e(N_,!0);var RA=$e(D_,!0,2);var xA=$e(M_,!0,2);var PA=$e(S_,!0,2);var kA="@firebase/database",LA="1.0.14";var jw="";function NW(n){jw=n}var B_=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),He(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:co(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var H_=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var pN=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){let e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new B_(e)}}catch{}return new H_},ts=pN("localStorage"),$_=pN("sessionStorage");var Mo=new Fn("@firebase/database"),OW=function(){let n=1;return function(){return n++}}(),gN=function(n){let e=D0(n),t=new Wd;t.update(e);let r=t.digest();return uo.encodeByteArray(r)},zl=function(...n){let e="";for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=zl.apply(null,r):typeof r=="object"?e+=He(r):e+=r,e+=" "}return e},ns=null,FA=!0,RW=function(n,e){b(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(Mo.logLevel=pe.VERBOSE,ns=Mo.log.bind(Mo),e&&$_.set("logging_enabled",!0)):typeof n=="function"?ns=n:(ns=null,$_.remove("logging_enabled"))},nt=function(...n){if(FA===!0&&(FA=!1,ns===null&&$_.get("logging_enabled")===!0&&RW(!0)),ns){let e=zl.apply(null,n);ns(e)}},Wl=function(n){return function(...e){nt(n,...e)}},z_=function(...n){let e="FIREBASE INTERNAL ERROR: "+zl(...n);Mo.error(e)},_r=function(...n){let e=`FIREBASE FATAL ERROR: ${zl(...n)}`;throw Mo.error(e),new Error(e)},yt=function(...n){let e="FIREBASE WARNING: "+zl(...n);Mo.warn(e)},xW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Bw=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},PW=function(n){if(kn()||document.readyState==="complete")n();else{let e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Oo="[MIN_NAME]",rs="[MAX_NAME]",ss=function(n,e){if(n===e)return 0;if(n===Oo||e===rs)return-1;if(e===Oo||n===rs)return 1;{let t=VA(n),r=VA(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},kW=function(n,e){return n===e?0:n<e?-1:1},Tl=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+He(e))},Hw=function(n){if(typeof n!="object"||n===null)return He(n);let e=[];for(let r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=He(e[r]),t+=":",t+=Hw(n[e[r]]);return t+="}",t},mN=function(n,e){let t=n.length;if(t<=e)return[n];let r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function rt(n,e){for(let t in n)n.hasOwnProperty(t)&&e(t,n[t])}var vN=function(n){b(!Bw(n),"Invalid JSON number");let e=11,t=52,r=(1<<e-1)-1,i,s,o,a,l;n===0?(s=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(s=0,o=Math.round(n/Math.pow(2,1-r-t))));let c=[];for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},LW=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},FW=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function VW(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");let r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}var UW=new RegExp("^-?(0*)\\d{1,10}$"),jW=-2147483648,BW=2147483647,VA=function(n){if(UW.test(n)){let e=Number(n);if(e>=jW&&e<=BW)return e}return null},jo=function(n){try{n()}catch(e){setTimeout(()=>{let t=e.stack||"";throw yt("Exception was thrown by user callback.",t),e},Math.floor(0))}},HW=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Rl=function(n,e){let t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var W_=class{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,It(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){yt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var q_=class{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(nt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yt(e)}},xl=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}n.OWNER="owner";return n})(),Lf="5",yN="v",_N="s",wN="r",EN="f",bN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CN="ls",IN="p",G_="ac",DN="websocket",SN="long_polling";var Ff=class{constructor(e,t,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ts.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ts.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}};function $W(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function TN(n,e,t){b(typeof e=="string","typeof type must == string"),b(typeof t=="object","typeof params must == object");let r;if(e===DN)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===SN)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);$W(n)&&(t.ns=n.namespace);let i=[];return rt(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var K_=class{constructor(){this.counters_={}}incrementCounter(e,t=1){un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return f0(this.counters_)}};var P_={},k_={};function $w(n){let e=n.toString();return P_[e]||(P_[e]=new K_),P_[e]}function zW(n,e){let t=n.toString();return k_[t]||(k_[t]=e()),k_[t]}var Y_=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&jo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var UA="start",WW="close",qW="pLPCommand",GW="pRTLPCB",MN="id",AN="pw",NN="ser",KW="cb",YW="seg",QW="ts",ZW="d",JW="dframe",ON=1870,RN=30,XW=ON-RN,e3=25e3,t3=3e4,Q_=class n{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wl(e),this.stats_=$w(t),this.urlFn=l=>(this.appCheckToken&&(l[G_]=this.appCheckToken),TN(t,SN,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Y_(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(t3)),PW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Z_((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===UA)this.id=a,this.password=l;else if(o===WW)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[UA]="t",r[NN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[KW]=this.scriptTagHolder.uniqueCallbackIdentifier),r[yN]=Lf,this.transportSessionId&&(r[_N]=this.transportSessionId),this.lastSessionId&&(r[CN]=this.lastSessionId),this.applicationId&&(r[IN]=this.applicationId),this.appCheckToken&&(r[G_]=this.appCheckToken),typeof location<"u"&&location.hostname&&bN.test(location.hostname)&&(r[wN]=EN);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){n.forceAllow_=!0}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){return kn()?!1:n.forceAllow_?!0:!n.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!LW()&&!FW()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=He(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let r=ny(t),i=mN(r,XW);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(kn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[JW]="t",r[MN]=e,r[AN]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=He(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},Z_=class n{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,kn())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=OW(),window[qW+this.uniqueCallbackIdentifier]=e,window[GW+this.uniqueCallbackIdentifier]=t,this.myIFrame=n.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){nt("frame writing exception"),a.stack&&nt(a.stack),nt(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nt("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[MN]=this.myID,e[AN]=this.myPW,e[NN]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+RN+r.length<=ON;){let o=this.pendingSegs.shift();r=r+"&"+YW+i+"="+o.seg+"&"+QW+i+"="+o.ts+"&"+ZW+i+"="+o.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(e3)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){kn()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{nt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var n3=16384,r3=45e3,Vf=null;typeof MozWebSocket<"u"?Vf=MozWebSocket:typeof WebSocket<"u"&&(Vf=WebSocket);var Ml=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wl(this.connId),this.stats_=$w(r),this.connURL=n.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){let a={};return a[yN]=Lf,!kn()&&typeof location<"u"&&location.hostname&&bN.test(location.hostname)&&(a[wN]=EN),r&&(a[_N]=r),i&&(a[CN]=i),s&&(a[G_]=s),o&&(a[IN]=o),TN(t,DN,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ts.set("previous_websocket_failure",!0);try{let i;if(kn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Lf}/${jw}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Vf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&Vf!==null&&!n.forceDisallow_}static previouslyFailed(){return ts.isInMemoryStorage||ts.get("previous_websocket_failure")===!0}markConnectionHealthy(){ts.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=co(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(b(this.frames===null,"We already have a frame buffer"),t.length<=6){let r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;let r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();let r=He(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=mN(r,n3);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(r3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4;return n})(),i3=(()=>{class n{static get ALL_TRANSPORTS(){return[Q_,Ml]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){let r=Ml&&Ml.isAvailable(),i=r&&!Ml.previouslyFailed();if(t.webSocketOnly&&(r||yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ml];else{let s=this.transports_=[];for(let o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}n.globalTransportInitialized_=!1;return n})(),s3=6e4,o3=5e3,a3=10*1024,l3=100*1024,L_="t",jA="d",c3="s",BA="r",u3="e",HA="o",$A="a",zA="n",WA="p",d3="h",J_=class{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wl("c:"+this.id+":"),this.transportManager_=new i3(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Rl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>l3?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>a3?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){let t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(L_ in e){let t=e[L_];t===$A?this.upgradeIfSecondaryHealthy_():t===BA?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===HA&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=Tl("t",e),r=Tl("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:WA,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$A,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=Tl("t",e),r=Tl("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=Tl(L_,e);if(jA in e){let r=e[jA];if(t===d3){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===zA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===c3?this.onConnectionShutdown_(r):t===BA?this.onReset_(r):t===u3?z_("Server Error: "+r):t===HA?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):z_("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Lf!==r&&yt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Rl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(s3))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Rl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(o3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:WA,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ts.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Uf=class{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}};var jf=class{constructor(e){this.allowedEvents_=e,this.listeners_={},b(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});let i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){b(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}};var Bf=class n extends jf{static getInstance(){return new n}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!tl()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return b(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var qA=32,GA=768,de=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function ce(){return new de("")}function ee(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Qr(n){return n.pieces_.length-n.pieceNum_}function _e(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new de(n.pieces_,e)}function zw(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function f3(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Fl(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function xN(n){if(n.pieceNum_>=n.pieces_.length)return null;let e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new de(e,0)}function Me(n,e){let t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof de)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new de(t,0)}function re(n){return n.pieceNum_>=n.pieces_.length}function Dt(n,e){let t=ee(n),r=ee(e);if(t===null)return e;if(t===r)return Dt(_e(n),_e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function h3(n,e){let t=Fl(n,0),r=Fl(e,0);for(let i=0;i<t.length&&i<r.length;i++){let s=ss(t[i],r[i]);if(s!==0)return s}return t.length===r.length?0:t.length<r.length?-1:1}function Ww(n,e){if(Qr(n)!==Qr(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Kt(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Qr(n)>Qr(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}var X_=class{constructor(e,t){this.errorPrefix_=t,this.parts_=Fl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=sl(this.parts_[r]);PN(this)}};function p3(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=sl(e),PN(n)}function g3(n){let e=n.parts_.pop();n.byteLength_-=sl(e),n.parts_.length>0&&(n.byteLength_-=1)}function PN(n){if(n.byteLength_>GA)throw new Error(n.errorPrefix_+"has a key path longer than "+GA+" bytes ("+n.byteLength_+").");if(n.parts_.length>qA)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qA+") or object contains a cycle "+es(n))}function es(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var ew=class n extends jf{static getInstance(){return new n}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return b(e==="visible","Unknown event type: "+e),[this.visible_]}};var Al=1e3,m3=60*5*1e3,KA=30*1e3,v3=1.3,y3=3e4,_3="server_kill",YA=3,qw=(()=>{class n extends Uf{constructor(t,r,i,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Wl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Al,this.maxReconnectDelay_=m3,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!kn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ew.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Bf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){let s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(He(o)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();let r=new Gt,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(t,r,i,s){this.initConnection_();let o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),b(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){let r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){let r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,u=l.s;n.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&un(t,"w")){let i=ki(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();yt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||C0(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=KA)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let t=this.authToken_,r=b0(t)?"auth":"gauth",i={cred:t};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===t&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{let r=t.s,i=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){let i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),b(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);let o={p:t},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(t){let r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){let r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+He(t));let r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):z_("Unrecognized action received from server: "+He(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Al,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Al,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>y3&&(this.reconnectDelay_=Al),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*v3)}this.onConnectStatus_(!1)}establishConnection_(){return g(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){b(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?nt("getToken() completed but was canceled"):(nt("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new J_(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,p=>{yt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(_3)},o))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&yt(f),c())}}})}interrupt(t){nt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){nt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],nl(this.interruptReasons_)&&(this.reconnectDelay_=Al,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){let r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){let r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;r?i=r.map(o=>Hw(o)).join("$"):i="default";let s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){let i=new de(t).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){nt("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=YA&&(this.reconnectDelay_=KA,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){nt("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=YA&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let t of this.listens.values())for(let r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){let t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){let t={},r="js";kn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),t["sdk."+r+"."+jw.replace(/\./g,"-")]=1,tl()?t["framework.cordova"]=1:qd()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){let t=Bf.getInstance().currentlyOnline();return nl(this.interruptReasons_)&&t}}n.nextPersistentConnectionId_=0,n.nextConnectionId_=0;return n})(),te=class n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new n(e,t)}};var Ro=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let r=new te(Oo,e),i=new te(Oo,t);return this.compare(r,i)!==0}minPost(){return te.MIN}};var kf,Hf=class extends Ro{static get __EMPTY_NODE(){return kf}static set __EMPTY_NODE(e){kf=e}compare(e,t){return ss(e.name,t.name)}isDefinedOn(e){throw Pi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return te.MIN}maxPost(){return new te(rs,kf)}makePost(e,t){return b(typeof e=="string","KeyIndex indexValue must always be a string."),new te(e,kf)}toString(){return".key"}},Ao=new Hf;var To=class{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},hn=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??Yt.EMPTY_NODE,this.right=o??Yt.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this,o=i(t,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(t,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Yt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(t,i.key)===0){if(i.right.isEmpty())return Yt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){let t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){let t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})(),tw=class{copy(e,t,r,i,s){return this}insert(e,t,r){return new hn(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Yt=class n{constructor(e,t=n.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new n(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,hn.BLACK,null,null))}remove(e){return new n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,hn.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new To(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new To(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new To(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new To(this.root_,null,this.comparator_,!0,e)}};Yt.EMPTY_NODE=new tw;function w3(n,e){return ss(n.name,e.name)}function Gw(n,e){return ss(n,e)}var nw;function E3(n){nw=n}var kN=function(n){return typeof n=="number"?"number:"+vN(n):"string:"+n},LN=function(n){if(n.isLeafNode()){let e=n.val();b(typeof e=="string"||typeof e=="number"||typeof e=="object"&&un(e,".sv"),"Priority must be a string or number.")}else b(n===nw||n.isEmpty(),"priority of unexpected type.");b(n===nw||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var QA,xo=(()=>{class n{static set __childrenNodeConstructor(t){QA=t}static get __childrenNodeConstructor(){return QA}constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,b(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),LN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return re(t)?this:ee(t)===".priority"?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){let i=ee(t);return i===null?r:r.isEmpty()&&i!==".priority"?this:(b(i!==".priority"||Qr(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+kN(this.priorityNode_.val())+":");let r=typeof this.value_;t+=r+":",r==="number"?t+=vN(this.value_):t+=this.value_,this.lazyHash_=gN(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(b(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){let r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return b(s>=0,"Unknown leaf type: "+r),b(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){let r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}n.VALUE_TYPE_ORDER=["object","boolean","number","string"];return n})(),FN,VN;function b3(n){FN=n}function C3(n){VN=n}var rw=class extends Ro{compare(e,t){let r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?ss(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return te.MIN}maxPost(){return new te(rs,new xo("[PRIORITY-POST]",VN))}makePost(e,t){let r=FN(e);return new te(t,new xo("[PRIORITY-POST]",r))}toString(){return".priority"}},Ae=new rw;var I3=Math.log(2),iw=class{constructor(e){let t=s=>parseInt(Math.log(s)/I3,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},$f=function(n,e,t,r){n.sort(e);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=n[l],f=t?t(d):d,new hn(f,d.node,hn.BLACK,null,null);{let h=parseInt(u/2,10)+l,p=i(l,h),m=i(h+1,c);return d=n[h],f=t?t(d):d,new hn(f,d.node,hn.BLACK,p,m)}},s=function(l){let c=null,u=null,d=n.length,f=function(p,m){let w=d-p,T=d;d-=p;let ne=i(w+1,T),U=n[w],ye=t?t(U):U;h(new hn(ye,U.node,m,null,ne))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),w=Math.pow(2,l.count-(p+1));m?f(w,hn.BLACK):(f(w,hn.BLACK),f(w,hn.RED))}return u},o=new iw(n.length),a=s(o);return new Yt(r||e,a)};var F_,So={},Po=class n{static get Default(){return b(So&&Ae,"ChildrenNode.ts has not been loaded"),F_=F_||new n({".priority":So},{".priority":Ae}),F_}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){let t=ki(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Yt?t:null}hasIndex(e){return un(this.indexSet_,e.toString())}addIndex(e,t){b(e!==Ao,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=t.getIterator(te.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=$f(r,e.getCompare()):a=So;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new n(u,c)}addToIndexes(e,t){let r=rl(this.indexes_,(i,s)=>{let o=ki(this.indexSet_,s);if(b(o,"Missing index implementation for "+s),i===So)if(o.isDefinedOn(e.node)){let a=[],l=t.getIterator(te.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),$f(a,o.getCompare())}else return So;else{let a=t.get(e.name),l=i;return a&&(l=l.remove(new te(e.name,a))),l.insert(e,e.node)}});return new n(r,this.indexSet_)}removeFromIndexes(e,t){let r=rl(this.indexes_,i=>{if(i===So)return i;{let s=t.get(e.name);return s?i.remove(new te(e.name,s)):i}});return new n(r,this.indexSet_)}};var Nl,K=(()=>{class n{static get EMPTY_NODE(){return Nl||(Nl=new n(new Yt(Gw),null,Po.Default))}constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&LN(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nl}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{let r=this.children_.get(t);return r===null?Nl:r}}getChild(t){let r=ee(t);return r===null?this:this.getImmediateChild(r).getChild(_e(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(b(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{let i=new te(t,r),s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?Nl:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){let i=ee(t);if(i===null)return r;{b(ee(t)!==".priority"||Qr(t)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(_e(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Ae,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+kN(this.getPriority().val())+":"),this.forEachChild(Ae,(r,i)=>{let s=i.hash();s!==""&&(t+=":"+r+":"+s)}),this.lazyHash_=t===""?"":gN(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new te(t,r));return o?o.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(t){let r=this.getFirstChildName(t);return r?new te(r,this.children_.get(r)):null}getLastChildName(t){let r=this.resolveIndex_(t);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(t){let r=this.getLastChildName(t);return r?new te(r,this.children_.get(r)):null}forEachChild(t,r){let i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{let s=this.children_.getIteratorFrom(t.name,te.Wrap),o=s.peek();for(;o!=null&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{let s=this.children_.getReverseIteratorFrom(t.name,te.Wrap),o=s.peek();for(;o!=null&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ql?-1:0}withIndex(t){if(t===Ao||this.indexMap_.hasIndex(t))return this;{let r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Ao||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{let r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ae),s=r.getIterator(Ae),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(t){return t===Ao?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})(),sw=class extends K{constructor(){super(new Yt(Gw),K.EMPTY_NODE,Po.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return K.EMPTY_NODE}isEmpty(){return!1}},ql=new sw;Object.defineProperties(te,{MIN:{value:new te(Oo,K.EMPTY_NODE)},MAX:{value:new te(rs,ql)}});Hf.__EMPTY_NODE=K.EMPTY_NODE;xo.__childrenNodeConstructor=K;E3(ql);C3(ql);var D3=!0;function et(n,e=null){if(n===null)return K.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),b(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){let t=n;return new xo(t,et(e))}if(!(n instanceof Array)&&D3){let t=[],r=!1;if(rt(n,(o,a)=>{if(o.substring(0,1)!=="."){let l=et(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),t.push(new te(o,l)))}}),t.length===0)return K.EMPTY_NODE;let s=$f(t,w3,o=>o.name,Gw);if(r){let o=$f(t,Ae.getCompare());return new K(s,et(e),new Po({".priority":o},{".priority":Ae}))}else return new K(s,et(e),Po.Default)}else{let t=K.EMPTY_NODE;return rt(n,(r,i)=>{if(un(n,r)&&r.substring(0,1)!=="."){let s=et(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(et(e))}}b3(et);var ow=class extends Ro{constructor(e){super(),this.indexPath_=e,b(!re(e)&&ee(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?ss(e.name,t.name):s}makePost(e,t){let r=et(e),i=K.EMPTY_NODE.updateChild(this.indexPath_,r);return new te(t,i)}maxPost(){let e=K.EMPTY_NODE.updateChild(this.indexPath_,ql);return new te(rs,e)}toString(){return Fl(this.indexPath_,0).join("/")}};var aw=class extends Ro{compare(e,t){let r=e.node.compareTo(t.node);return r===0?ss(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return te.MIN}maxPost(){return te.MAX}makePost(e,t){let r=et(e);return new te(t,r)}toString(){return".value"}},S3=new aw;function UN(n){return{type:"value",snapshotNode:n}}function ko(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Vl(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Ul(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function T3(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}var jl=class{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){b(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(Vl(t,a)):b(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ko(t,r)):o.trackChildChange(Ul(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Ae,(i,s)=>{t.hasChild(i)||r.trackChildChange(Vl(i,s))}),t.isLeafNode()||t.forEachChild(Ae,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Ul(i,s,o))}else r.trackChildChange(ko(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?K.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var zf=class n{constructor(e){this.indexedFilter_=new jl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=n.getStartPost_(e),this.endPost_=n.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,o){return this.matches(new te(t,r))||(r=K.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=K.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(K.EMPTY_NODE);let s=this;return t.forEachChild(Ae,(o,a)=>{s.matches(new te(o,a))||(i=i.updateImmediateChild(o,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}};var lw=class{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{let r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new zf(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new te(t,r))||(r=K.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=K.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=t.withIndex(this.index_),i=i.updatePriority(K.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();let a=e;b(a.numChildren()===this.limit_,"");let l=new te(t,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){let d=a.getImmediateChild(t),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===t||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:o(f,l);if(u&&!r.isEmpty()&&h>=0)return s?.trackChildChange(Ul(t,r,d)),a.updateImmediateChild(t,r);{s?.trackChildChange(Vl(t,d));let m=a.updateImmediateChild(t,K.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s?.trackChildChange(ko(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Vl(c.name,c.node)),s.trackChildChange(ko(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(c.name,K.EMPTY_NODE)):e}};var cw=class n{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ae}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Oo}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ae}copy(){let e=new n;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function M3(n){return n.loadsAllData()?new jl(n.getIndex()):n.hasLimit()?new lw(n):new zf(n)}function ZA(n){let e={};if(n.isDefault())return e;let t;if(n.index_===Ae?t="$priority":n.index_===S3?t="$value":n.index_===Ao?t="$key":(b(n.index_ instanceof ow,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=He(t),n.startSet_){let r=n.startAfterSet_?"startAfter":"startAt";e[r]=He(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+He(n.indexStartName_))}if(n.endSet_){let r=n.endBeforeSet_?"endBefore":"endAt";e[r]=He(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+He(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function JA(n){let e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Ae&&(e.i=n.index_.toString()),e}var uw=class n extends Uf{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(b(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Wl("p:rest:"),this.listens_={}}listen(e,t,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=n.getListenId_(e,r),a={};this.listens_[o]=a;let l=ZA(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),ki(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,t){let r=n.getListenId_(e,t);delete this.listens_[r]}get(e){let t=ZA(e._queryParams),r=e._path.toString(),i=new Gt;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Li(t);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=co(a.responseText)}catch{yt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&yt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var dw=class{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}};function Wf(){return{value:null,children:new Map}}function jN(n,e,t){if(re(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{let r=ee(e);n.children.has(r)||n.children.set(r,Wf());let i=n.children.get(r);e=_e(e),jN(i,e,t)}}function fw(n,e,t){n.value!==null?t(e,n.value):A3(n,(r,i)=>{let s=new de(e.toString()+"/"+r);fw(i,s,t)})}function A3(n,e){n.children.forEach((t,r)=>{e(r,t)})}var hw=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&rt(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}};var XA=10*1e3,N3=30*1e3,O3=5*60*1e3,pw=class{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new hw(e);let r=XA+(N3-XA)*Math.random();Rl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),t={},r=!1;rt(e,(i,s)=>{s>0&&un(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Rl(this.reportStats_.bind(this),Math.floor(Math.random()*2*O3))}};var Hn=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Hn||{});function Kw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yw(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Qw(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var gw=class n{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Hn.ACK_USER_WRITE,this.source=Kw()}operationForChild(e){if(re(this.path)){if(this.affectedTree.value!=null)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new de(e));return new n(ce(),t,this.revert)}}else return b(ee(this.path)===e,"operationForChild called for unrelated child."),new n(_e(this.path),this.affectedTree,this.revert)}};var qf=class n{constructor(e,t){this.source=e,this.path=t,this.type=Hn.LISTEN_COMPLETE}operationForChild(e){return re(this.path)?new n(this.source,ce()):new n(this.source,_e(this.path))}};var Lo=class n{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Hn.OVERWRITE}operationForChild(e){return re(this.path)?new n(this.source,ce(),this.snap.getImmediateChild(e)):new n(this.source,_e(this.path),this.snap)}};var Bl=class n{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Hn.MERGE}operationForChild(e){if(re(this.path)){let t=this.children.subtree(new de(e));return t.isEmpty()?null:t.value?new Lo(this.source,ce(),t.value):new n(this.source,ce(),t)}else return b(ee(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new n(this.source,_e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var wr=class{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(re(e))return this.isFullyInitialized()&&!this.filtered_;let t=ee(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var mw=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function R3(n,e,t,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(T3(o.childName,o.snapshotNode))}),Ol(n,i,"child_removed",e,r,t),Ol(n,i,"child_added",e,r,t),Ol(n,i,"child_moved",s,r,t),Ol(n,i,"child_changed",e,r,t),Ol(n,i,"value",e,r,t),i}function Ol(n,e,t,r,i,s){let o=r.filter(a=>a.type===t);o.sort((a,l)=>P3(n,a,l)),o.forEach(a=>{let l=x3(n,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function x3(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function P3(n,e,t){if(e.childName==null||t.childName==null)throw Pi("Should only compare child_ events.");let r=new te(e.childName,e.snapshotNode),i=new te(t.childName,t.snapshotNode);return n.index_.compare(r,i)}function rh(n,e){return{eventCache:n,serverCache:e}}function Pl(n,e,t,r){return rh(new wr(e,t,r),n.serverCache)}function BN(n,e,t,r){return rh(n.eventCache,new wr(e,t,r))}function vw(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function is(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var V_,k3=()=>(V_||(V_=new Yt(kW)),V_),_t=class n{static fromObject(e){let t=new n(null);return rt(e,(r,i)=>{t=t.set(new de(r),i)}),t}constructor(e,t=k3()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:ce(),value:this.value};if(re(e))return null;{let r=ee(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(_e(e),t);return s!=null?{path:Me(new de(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(re(e))return this;{let t=ee(e),r=this.children.get(t);return r!==null?r.subtree(_e(e)):new n(null)}}set(e,t){if(re(e))return new n(t,this.children);{let r=ee(e),s=(this.children.get(r)||new n(null)).set(_e(e),t),o=this.children.insert(r,s);return new n(this.value,o)}}remove(e){if(re(e))return this.children.isEmpty()?new n(null):new n(null,this.children);{let t=ee(e),r=this.children.get(t);if(r){let i=r.remove(_e(e)),s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new n(null):new n(this.value,s)}else return this}}get(e){if(re(e))return this.value;{let t=ee(e),r=this.children.get(t);return r?r.get(_e(e)):null}}setTree(e,t){if(re(e))return t;{let r=ee(e),s=(this.children.get(r)||new n(null)).setTree(_e(e),t),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new n(this.value,o)}}fold(e){return this.fold_(ce(),e)}fold_(e,t){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Me(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,ce(),t)}findOnPath_(e,t,r){let i=this.value?r(t,this.value):!1;if(i)return i;if(re(e))return null;{let s=ee(e),o=this.children.get(s);return o?o.findOnPath_(_e(e),Me(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ce(),t)}foreachOnPath_(e,t,r){if(re(e))return this;{this.value&&r(t,this.value);let i=ee(e),s=this.children.get(i);return s?s.foreachOnPath_(_e(e),Me(t,i),r):new n(null)}}foreach(e){this.foreach_(ce(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Me(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}};var pn=class n{constructor(e){this.writeTree_=e}static empty(){return new n(new _t(null))}};function kl(n,e,t){if(re(e))return new pn(new _t(t));{let r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Dt(i,e);return s=s.updateChild(o,t),new pn(n.writeTree_.set(i,s))}else{let i=new _t(t),s=n.writeTree_.setTree(e,i);return new pn(s)}}}function yw(n,e,t){let r=n;return rt(t,(i,s)=>{r=kl(r,Me(e,i),s)}),r}function eN(n,e){if(re(e))return pn.empty();{let t=n.writeTree_.setTree(e,new _t(null));return new pn(t)}}function _w(n,e){return os(n,e)!=null}function os(n,e){let t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Dt(t.path,e)):null}function tN(n){let e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Ae,(r,i)=>{e.push(new te(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new te(r,i.value))}),e}function Yr(n,e){if(re(e))return n;{let t=os(n,e);return t!=null?new pn(new _t(t)):new pn(n.writeTree_.subtree(e))}}function ww(n){return n.writeTree_.isEmpty()}function Fo(n,e){return HN(ce(),n.writeTree_,e)}function HN(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(b(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=HN(Me(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(Me(n,".priority"),r)),t}}function Zw(n,e){return qN(e,n)}function L3(n,e,t,r,i){b(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=kl(n.visibleWrites,e,t)),n.lastWriteId=r}function F3(n,e,t,r){b(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=yw(n.visibleWrites,e,t),n.lastWriteId=r}function V3(n,e){for(let t=0;t<n.allWrites.length;t++){let r=n.allWrites[t];if(r.writeId===e)return r}return null}function U3(n,e){let t=n.allWrites.findIndex(a=>a.writeId===e);b(t>=0,"removeWrite called with nonexistent writeId.");let r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){let a=n.allWrites[o];a.visible&&(o>=t&&j3(a,r.path)?i=!1:Kt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return B3(n),!0;if(r.snap)n.visibleWrites=eN(n.visibleWrites,r.path);else{let a=r.children;rt(a,l=>{n.visibleWrites=eN(n.visibleWrites,Me(r.path,l))})}return!0}else return!1}function j3(n,e){if(n.snap)return Kt(n.path,e);for(let t in n.children)if(n.children.hasOwnProperty(t)&&Kt(Me(n.path,t),e))return!0;return!1}function B3(n){n.visibleWrites=$N(n.allWrites,H3,ce()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function H3(n){return n.visible}function $N(n,e,t){let r=pn.empty();for(let i=0;i<n.length;++i){let s=n[i];if(e(s)){let o=s.path,a;if(s.snap)Kt(t,o)?(a=Dt(t,o),r=kl(r,a,s.snap)):Kt(o,t)&&(a=Dt(o,t),r=kl(r,ce(),s.snap.getChild(a)));else if(s.children){if(Kt(t,o))a=Dt(t,o),r=yw(r,a,s.children);else if(Kt(o,t))if(a=Dt(o,t),re(a))r=yw(r,ce(),s.children);else{let l=ki(s.children,ee(a));if(l){let c=l.getChild(_e(a));r=kl(r,ce(),c)}}}else throw Pi("WriteRecord should have .snap or .children")}}return r}function zN(n,e,t,r,i){if(!r&&!i){let s=os(n.visibleWrites,e);if(s!=null)return s;{let o=Yr(n.visibleWrites,e);if(ww(o))return t;if(t==null&&!_w(o,ce()))return null;{let a=t||K.EMPTY_NODE;return Fo(o,a)}}}else{let s=Yr(n.visibleWrites,e);if(!i&&ww(s))return t;if(!i&&t==null&&!_w(s,ce()))return null;{let o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Kt(c.path,e)||Kt(e,c.path))},a=$N(n.allWrites,o,e),l=t||K.EMPTY_NODE;return Fo(a,l)}}}function $3(n,e,t){let r=K.EMPTY_NODE,i=os(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ae,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){let s=Yr(n.visibleWrites,e);return t.forEachChild(Ae,(o,a)=>{let l=Fo(Yr(s,new de(o)),a);r=r.updateImmediateChild(o,l)}),tN(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=Yr(n.visibleWrites,e);return tN(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function z3(n,e,t,r,i){b(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=Me(e,t);if(_w(n.visibleWrites,s))return null;{let o=Yr(n.visibleWrites,s);return ww(o)?i.getChild(t):Fo(o,i.getChild(t))}}function W3(n,e,t,r){let i=Me(e,t),s=os(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){let o=Yr(n.visibleWrites,i);return Fo(o,r.getNode().getImmediateChild(t))}else return null}function q3(n,e){return os(n.visibleWrites,e)}function G3(n,e,t,r,i,s,o){let a,l=Yr(n.visibleWrites,e),c=os(l,ce());if(c!=null)a=c;else if(t!=null)a=Fo(l,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function K3(){return{visibleWrites:pn.empty(),allWrites:[],lastWriteId:-1}}function Gf(n,e,t,r){return zN(n.writeTree,n.treePath,e,t,r)}function Jw(n,e){return $3(n.writeTree,n.treePath,e)}function nN(n,e,t,r){return z3(n.writeTree,n.treePath,e,t,r)}function Kf(n,e){return q3(n.writeTree,Me(n.treePath,e))}function Y3(n,e,t,r,i,s){return G3(n.writeTree,n.treePath,e,t,r,i,s)}function Xw(n,e,t){return W3(n.writeTree,n.treePath,e,t)}function WN(n,e){return qN(Me(n.treePath,e),n.writeTree)}function qN(n,e){return{treePath:n,writeTree:e}}var Ew=class{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,r=e.childName;b(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),b(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,Ul(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,Vl(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,ko(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,Ul(r,e.snapshotNode,i.oldSnap));else throw Pi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var bw=class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}},GN=new bw,Hl=class{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new wr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xw(this.writes_,e,r)}}getChildAfterChild(e,t,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:is(this.viewCache_),s=Y3(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}};function Q3(n){return{filter:n}}function Z3(n,e){b(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),b(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function J3(n,e,t,r,i){let s=new Ew,o,a;if(t.type===Hn.OVERWRITE){let c=t;c.source.fromUser?o=Cw(n,e,c.path,c.snap,r,i,s):(b(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!re(c.path),o=Yf(n,e,c.path,c.snap,r,i,a,s))}else if(t.type===Hn.MERGE){let c=t;c.source.fromUser?o=eq(n,e,c.path,c.children,r,i,s):(b(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Iw(n,e,c.path,c.children,r,i,a,s))}else if(t.type===Hn.ACK_USER_WRITE){let c=t;c.revert?o=rq(n,e,c.path,r,i,s):o=tq(n,e,c.path,c.affectedTree,r,i,s)}else if(t.type===Hn.LISTEN_COMPLETE)o=nq(n,e,t.path,r,s);else throw Pi("Unknown operation type: "+t.type);let l=s.getChanges();return X3(e,o,l),{viewCache:o,changes:l}}function X3(n,e,t){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=vw(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(UN(vw(e)))}}function KN(n,e,t,r,i,s){let o=e.eventCache;if(Kf(r,t)!=null)return e;{let a,l;if(re(t))if(b(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=is(e),u=c instanceof K?c:K.EMPTY_NODE,d=Jw(r,u);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let c=Gf(r,is(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=ee(t);if(c===".priority"){b(Qr(t)===1,"Can't have a priority with additional path components");let u=o.getNode();l=e.serverCache.getNode();let d=nN(r,t,u,l);d!=null?a=n.filter.updatePriority(u,d):a=o.getNode()}else{let u=_e(t),d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let f=nN(r,t,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=Xw(r,c,e.serverCache);d!=null?a=n.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return Pl(e,a,o.isFullyInitialized()||re(t),n.filter.filtersNodes())}}function Yf(n,e,t,r,i,s,o,a){let l=e.serverCache,c,u=o?n.filter:n.filter.getIndexedFilter();if(re(t))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(t,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=ee(t);if(!l.isCompleteForPath(t)&&Qr(t)>1)return e;let p=_e(t),w=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?c=u.updatePriority(l.getNode(),w):c=u.updateChild(l.getNode(),h,w,p,GN,null)}let d=BN(e,c,l.isFullyInitialized()||re(t),u.filtersNodes()),f=new Hl(i,d,s);return KN(n,d,t,i,f,a)}function Cw(n,e,t,r,i,s,o){let a=e.eventCache,l,c,u=new Hl(i,e,s);if(re(t))c=n.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Pl(e,c,!0,n.filter.filtersNodes());else{let d=ee(t);if(d===".priority")c=n.filter.updatePriority(e.eventCache.getNode(),r),l=Pl(e,c,a.isFullyInitialized(),a.isFiltered());else{let f=_e(t),h=a.getNode().getImmediateChild(d),p;if(re(f))p=r;else{let m=u.getCompleteChild(d);m!=null?zw(f)===".priority"&&m.getChild(xN(f)).isEmpty()?p=m:p=m.updateChild(f,r):p=K.EMPTY_NODE}if(h.equals(p))l=e;else{let m=n.filter.updateChild(a.getNode(),d,p,f,u,o);l=Pl(e,m,a.isFullyInitialized(),n.filter.filtersNodes())}}}return l}function rN(n,e){return n.eventCache.isCompleteForChild(e)}function eq(n,e,t,r,i,s,o){let a=e;return r.foreach((l,c)=>{let u=Me(t,l);rN(e,ee(u))&&(a=Cw(n,a,u,c,i,s,o))}),r.foreach((l,c)=>{let u=Me(t,l);rN(e,ee(u))||(a=Cw(n,a,u,c,i,s,o))}),a}function iN(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Iw(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;re(t)?c=r:c=new _t(null).setTree(t,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=iN(n,h,f);l=Yf(n,l,new de(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),m=iN(n,p,f);l=Yf(n,l,new de(d),m,i,s,o,a)}}),l}function tq(n,e,t,r,i,s,o){if(Kf(i,t)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(re(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Yf(n,e,t,l.getNode().getChild(t),i,s,a,o);if(re(t)){let c=new _t(null);return l.getNode().forEachChild(Ao,(u,d)=>{c=c.set(new de(u),d)}),Iw(n,e,t,c,i,s,a,o)}else return e}else{let c=new _t(null);return r.foreach((u,d)=>{let f=Me(t,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Iw(n,e,t,c,i,s,a,o)}}function nq(n,e,t,r,i){let s=e.serverCache,o=BN(e,s.getNode(),s.isFullyInitialized()||re(t),s.isFiltered());return KN(n,o,t,r,GN,i)}function rq(n,e,t,r,i,s){let o;if(Kf(r,t)!=null)return e;{let a=new Hl(r,e,i),l=e.eventCache.getNode(),c;if(re(t)||ee(t)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Gf(r,is(e));else{let d=e.serverCache.getNode();b(d instanceof K,"serverChildren would be complete if leaf node"),u=Jw(r,d)}u=u,c=n.filter.updateFullNode(l,u,s)}else{let u=ee(t),d=Xw(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=n.filter.updateChild(l,u,d,_e(t),a,s):e.eventCache.getNode().hasChild(u)?c=n.filter.updateChild(l,u,K.EMPTY_NODE,_e(t),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Gf(r,is(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Kf(r,ce())!=null,Pl(e,c,o,n.filter.filtersNodes())}}var Dw=class{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new jl(r.getIndex()),s=M3(r);this.processor_=Q3(s);let o=t.serverCache,a=t.eventCache,l=i.updateFullNode(K.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(K.EMPTY_NODE,a.getNode(),null),u=new wr(l,o.isFullyInitialized(),i.filtersNodes()),d=new wr(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=rh(d,u),this.eventGenerator_=new mw(this.query_)}get query(){return this.query_}};function iq(n){return n.viewCache_.serverCache.getNode()}function sq(n,e){let t=is(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!re(e)&&!t.getImmediateChild(ee(e)).isEmpty())?t.getChild(e):null}function sN(n){return n.eventRegistrations_.length===0}function oq(n,e){n.eventRegistrations_.push(e)}function oN(n,e,t){let r=[];if(t){b(e==null,"A cancel should cancel all event registrations.");let i=n.query._path;n.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){let o=n.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function aN(n,e,t,r){e.type===Hn.MERGE&&e.source.queryId!==null&&(b(is(n.viewCache_),"We should always have a full cache before handling merges"),b(vw(n.viewCache_),"Missing event cache, even though we have a server cache"));let i=n.viewCache_,s=J3(n.processor_,i,e,t,r);return Z3(n.processor_,s.viewCache),b(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,YN(n,s.changes,s.viewCache.eventCache.getNode(),null)}function aq(n,e){let t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ae,(s,o)=>{r.push(ko(s,o))}),t.isFullyInitialized()&&r.push(UN(t.getNode())),YN(n,r,t.getNode(),e)}function YN(n,e,t,r){let i=r?[r]:n.eventRegistrations_;return R3(n.eventGenerator_,e,t,i)}var Qf,Sw=class{constructor(){this.views=new Map}};function lq(n){b(!Qf,"__referenceConstructor has already been defined"),Qf=n}function cq(){return b(Qf,"Reference.ts has not been loaded"),Qf}function uq(n){return n.views.size===0}function eE(n,e,t,r){let i=e.source.queryId;if(i!==null){let s=n.views.get(i);return b(s!=null,"SyncTree gave us an op for an invalid query."),aN(s,e,t,r)}else{let s=[];for(let o of n.views.values())s=s.concat(aN(o,e,t,r));return s}}function dq(n,e,t,r,i){let s=e._queryIdentifier,o=n.views.get(s);if(!o){let a=Gf(t,i?r:null),l=!1;a?l=!0:r instanceof K?(a=Jw(t,r),l=!1):(a=K.EMPTY_NODE,l=!1);let c=rh(new wr(a,l,!1),new wr(r,i,!1));return new Dw(e,c)}return o}function fq(n,e,t,r,i,s){let o=dq(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),oq(o,t),aq(o,t)}function hq(n,e,t,r){let i=e._queryIdentifier,s=[],o=[],a=Zr(n);if(i==="default")for(let[l,c]of n.views.entries())o=o.concat(oN(c,t,r)),sN(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{let l=n.views.get(i);l&&(o=o.concat(oN(l,t,r)),sN(l)&&(n.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Zr(n)&&s.push(new(cq())(e._repo,e._path)),{removed:s,events:o}}function QN(n){let e=[];for(let t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function No(n,e){let t=null;for(let r of n.views.values())t=t||sq(r,e);return t}function ZN(n,e){if(e._queryParams.loadsAllData())return ih(n);{let r=e._queryIdentifier;return n.views.get(r)}}function JN(n,e){return ZN(n,e)!=null}function Zr(n){return ih(n)!=null}function ih(n){for(let e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Zf;function pq(n){b(!Zf,"__referenceConstructor has already been defined"),Zf=n}function gq(){return b(Zf,"Reference.ts has not been loaded"),Zf}var mq=1,Jf=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new _t(null),this.pendingWriteTree_=K3(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function XN(n,e,t,r,i){return L3(n.pendingWriteTree_,e,t,r,i),i?Bo(n,new Lo(Kw(),e,t)):[]}function vq(n,e,t,r){F3(n.pendingWriteTree_,e,t,r);let i=_t.fromObject(t);return Bo(n,new Bl(Kw(),e,i))}function Kr(n,e,t=!1){let r=V3(n.pendingWriteTree_,e);if(U3(n.pendingWriteTree_,e)){let s=new _t(null);return r.snap!=null?s=s.set(ce(),!0):rt(r.children,o=>{s=s.set(new de(o),!0)}),Bo(n,new gw(r.path,s,t))}else return[]}function sh(n,e,t){return Bo(n,new Lo(Yw(),e,t))}function yq(n,e,t){let r=_t.fromObject(t);return Bo(n,new Bl(Yw(),e,r))}function _q(n,e){return Bo(n,new qf(Yw(),e))}function wq(n,e,t){let r=nE(n,t);if(r){let i=rE(r),s=i.path,o=i.queryId,a=Dt(s,e),l=new qf(Qw(o),a);return iE(n,s,l)}else return[]}function Tw(n,e,t,r,i=!1){let s=e._path,o=n.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||JN(o,e))){let l=hq(o,e,t,r);uq(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=n.syncPointTree_.findOnPath(s,(f,h)=>Zr(h));if(u&&!d){let f=n.syncPointTree_.subtree(s);if(!f.isEmpty()){let h=Cq(f);for(let p=0;p<h.length;++p){let m=h[p],w=m.query,T=nO(n,m);n.listenProvider_.startListening(Ll(w),Xf(n,w),T.hashFn,T.onComplete)}}}!d&&c.length>0&&!r&&(u?n.listenProvider_.stopListening(Ll(e),null):c.forEach(f=>{let h=n.queryToTagMap.get(oh(f));n.listenProvider_.stopListening(Ll(f),h)}))}Iq(n,c)}return a}function Eq(n,e,t,r){let i=nE(n,r);if(i!=null){let s=rE(i),o=s.path,a=s.queryId,l=Dt(o,e),c=new Lo(Qw(a),l,t);return iE(n,o,c)}else return[]}function bq(n,e,t,r){let i=nE(n,r);if(i){let s=rE(i),o=s.path,a=s.queryId,l=Dt(o,e),c=_t.fromObject(t),u=new Bl(Qw(a),l,c);return iE(n,o,u)}else return[]}function lN(n,e,t,r=!1){let i=e._path,s=null,o=!1;n.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Dt(f,i);s=s||No(h,p),o=o||Zr(h)});let a=n.syncPointTree_.get(i);a?(o=o||Zr(a),s=s||No(a,ce())):(a=new Sw,n.syncPointTree_=n.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=K.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((h,p)=>{let m=No(p,ce());m&&(s=s.updateImmediateChild(h,m))}));let c=JN(a,e);if(!c&&!e._queryParams.loadsAllData()){let f=oh(e);b(!n.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=Dq();n.queryToTagMap.set(f,h),n.tagToQueryMap.set(h,f)}let u=Zw(n.pendingWriteTree_,i),d=fq(a,e,t,u,s,l);if(!c&&!o&&!r){let f=ZN(a,e);d=d.concat(Sq(n,e,f))}return d}function tE(n,e,t){let i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{let l=Dt(o,e),c=No(a,l);if(c)return c});return zN(i,e,s,t,!0)}function Bo(n,e){return eO(e,n.syncPointTree_,null,Zw(n.pendingWriteTree_,ce()))}function eO(n,e,t,r){if(re(n.path))return tO(n,e,t,r);{let i=e.get(ce());t==null&&i!=null&&(t=No(i,ce()));let s=[],o=ee(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){let c=t?t.getImmediateChild(o):null,u=WN(r,o);s=s.concat(eO(a,l,c,u))}return i&&(s=s.concat(eE(i,n,r,t))),s}}function tO(n,e,t,r){let i=e.get(ce());t==null&&i!=null&&(t=No(i,ce()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=t?t.getImmediateChild(o):null,c=WN(r,o),u=n.operationForChild(o);u&&(s=s.concat(tO(u,a,l,c)))}),i&&(s=s.concat(eE(i,n,r,t))),s}function nO(n,e){let t=e.query,r=Xf(n,t);return{hashFn:()=>(iq(e)||K.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?wq(n,t._path,r):_q(n,t._path);{let s=VW(i,t);return Tw(n,t,null,s)}}}}function Xf(n,e){let t=oh(e);return n.queryToTagMap.get(t)}function oh(n){return n._path.toString()+"$"+n._queryIdentifier}function nE(n,e){return n.tagToQueryMap.get(e)}function rE(n){let e=n.indexOf("$");return b(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new de(n.substr(0,e))}}function iE(n,e,t){let r=n.syncPointTree_.get(e);b(r,"Missing sync point for query tag that we're tracking");let i=Zw(n.pendingWriteTree_,e);return eE(r,t,i,null)}function Cq(n){return n.fold((e,t,r)=>{if(t&&Zr(t))return[ih(t)];{let i=[];return t&&(i=QN(t)),rt(r,(s,o)=>{i=i.concat(o)}),i}})}function Ll(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(gq())(n._repo,n._path):n}function Iq(n,e){for(let t=0;t<e.length;++t){let r=e[t];if(!r._queryParams.loadsAllData()){let i=oh(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}function Dq(){return mq++}function Sq(n,e,t){let r=e._path,i=Xf(n,e),s=nO(n,t),o=n.listenProvider_.startListening(Ll(e),i,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(r);if(i)b(!Zr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!re(c)&&u&&Zr(u))return[ih(u).query];{let f=[];return u&&(f=f.concat(QN(u).map(h=>h.query))),rt(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){let u=l[c];n.listenProvider_.stopListening(Ll(u),Xf(n,u))}}return o}var Mw=class n{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new n(t)}node(){return this.node_}},Aw=class n{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=Me(this.path_,e);return new n(this.syncTree_,t)}node(){return tE(this.syncTree_,this.path_)}},Tq=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},cN=function(n,e,t){if(!n||typeof n!="object")return n;if(b(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return Mq(n[".sv"],e,t);if(typeof n[".sv"]=="object")return Aq(n[".sv"],e);b(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},Mq=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:b(!1,"Unexpected server value: "+n)}},Aq=function(n,e,t){n.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(n,null,2));let r=n.increment;typeof r!="number"&&b(!1,"Unexpected increment value: "+r);let i=e.node();if(b(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},rO=function(n,e,t,r){return sE(e,new Aw(t,n),r)},iO=function(n,e,t){return sE(n,new Mw(e),t)};function sE(n,e,t){let r=n.getPriority().val(),i=cN(r,e.getImmediateChild(".priority"),t),s;if(n.isLeafNode()){let o=n,a=cN(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new xo(a,et(i)):n}else{let o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new xo(i))),o.forEachChild(Ae,(a,l)=>{let c=sE(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var $l=class{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}};function oE(n,e){let t=e instanceof de?e:new de(e),r=n,i=ee(t);for(;i!==null;){let s=ki(r.node.children,i)||{children:{},childCount:0};r=new $l(i,r,s),t=_e(t),i=ee(t)}return r}function Ho(n){return n.node.value}function sO(n,e){n.node.value=e,Nw(n)}function oO(n){return n.node.childCount>0}function Nq(n){return Ho(n)===void 0&&!oO(n)}function ah(n,e){rt(n.node.children,(t,r)=>{e(new $l(t,n,r))})}function aO(n,e,t,r){t&&!r&&e(n),ah(n,i=>{aO(i,e,!0,r)}),t&&r&&e(n)}function Oq(n,e,t){let r=t?n:n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Gl(n){return new de(n.parent===null?n.name:Gl(n.parent)+"/"+n.name)}function Nw(n){n.parent!==null&&Rq(n.parent,n.name,n)}function Rq(n,e,t){let r=Nq(t),i=un(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,Nw(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,Nw(n))}var xq=/[\[\].#$\/\u0000-\u001F\u007F]/,Pq=/[\[\].#$\u0000-\u001F\u007F]/,U_=10*1024*1024,aE=function(n){return typeof n=="string"&&n.length!==0&&!xq.test(n)},lO=function(n){return typeof n=="string"&&n.length!==0&&!Pq.test(n)},kq=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),lO(n)},Lq=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!Bw(n)||n&&typeof n=="object"&&un(n,".sv")},Fq=function(n,e,t,r){r&&e===void 0||lh(il(n,"value"),e,t)},lh=function(n,e,t){let r=t instanceof de?new X_(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+es(r));if(typeof e=="function")throw new Error(n+"contains a function "+es(r)+" with contents = "+e.toString());if(Bw(e))throw new Error(n+"contains "+e.toString()+" "+es(r));if(typeof e=="string"&&e.length>U_/3&&sl(e)>U_)throw new Error(n+"contains a string greater than "+U_+" utf8 bytes "+es(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(rt(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!aE(o)))throw new Error(n+" contains an invalid key ("+o+") "+es(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);p3(r,o),lh(n,a,r),g3(r)}),i&&s)throw new Error(n+' contains ".value" child '+es(r)+" in addition to actual children.")}},Vq=function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];let s=Fl(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!aE(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(h3);let i=null;for(t=0;t<e.length;t++){if(r=e[t],i!==null&&Kt(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Uq=function(n,e,t,r){if(r&&e===void 0)return;let i=il(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let s=[];rt(e,(o,a)=>{let l=new de(o);if(lh(i,a,Me(t,l)),zw(l)===".priority"&&!Lq(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),Vq(i,s)};var cO=function(n,e,t,r){if(!(r&&t===void 0)&&!lO(t))throw new Error(il(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},jq=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cO(n,e,t,r)},uO=function(n,e){if(ee(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},Bq=function(n,e){let t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!aE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!kq(t))throw new Error(il(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Ow=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function ch(n,e){let t=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();t!==null&&!Ww(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function dO(n,e,t){ch(n,t),fO(n,r=>Ww(r,e))}function gn(n,e,t){ch(n,t),fO(n,r=>Kt(r,e)||Kt(e,r))}function fO(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){let i=n.eventLists_[r];if(i){let s=i.path;e(s)?(Hq(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function Hq(n){for(let e=0;e<n.events.length;e++){let t=n.events[e];if(t!==null){n.events[e]=null;let r=t.getEventRunner();ns&&nt("event: "+t.toString()),jo(r)}}}var $q="repo_interrupt",zq=25,Rw=class{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ow,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wf(),this.transactionQueueTree_=new $l,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function Wq(n,e,t){if(n.stats_=$w(n.repoInfo_),n.forceRestClient_||HW())n.server_=new uw(n.repoInfo_,(r,i,s,o)=>{uN(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>dN(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{He(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new qw(n.repoInfo_,e,(r,i,s,o)=>{uN(n,r,i,s,o)},r=>{dN(n,r)},r=>{Gq(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=zW(n.repoInfo_,()=>new pw(n.stats_,n.server_)),n.infoData_=new dw,n.infoSyncTree_=new Jf({startListening:(r,i,s,o)=>{let a=[],l=n.infoData_.getNode(r._path);return l.isEmpty()||(a=sh(n.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),lE(n,"connected",!1),n.serverSyncTree_=new Jf({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,l)=>{let c=o(a,l);gn(n.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function qq(n){let t=n.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function uh(n){return Tq({timestamp:qq(n)})}function uN(n,e,t,r,i){n.dataUpdateCount++;let s=new de(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){let l=rl(t,c=>et(c));o=bq(n.serverSyncTree_,s,l,i)}else{let l=et(t);o=Eq(n.serverSyncTree_,s,l,i)}else if(r){let l=rl(t,c=>et(c));o=yq(n.serverSyncTree_,s,l)}else{let l=et(t);o=sh(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Vo(n,s)),gn(n.eventQueue_,a,o)}function dN(n,e){lE(n,"connected",e),e===!1&&Qq(n)}function Gq(n,e){rt(e,(t,r)=>{lE(n,t,r)})}function lE(n,e,t){let r=new de("/.info/"+e),i=et(t);n.infoData_.updateSnapshot(r,i);let s=sh(n.infoSyncTree_,r,i);gn(n.eventQueue_,r,s)}function cE(n){return n.nextWriteId_++}function Kq(n,e,t,r,i){dh(n,"set",{path:e.toString(),value:t,priority:r});let s=uh(n),o=et(t,r),a=tE(n.serverSyncTree_,e),l=iO(o,a,s),c=cE(n),u=XN(n.serverSyncTree_,e,l,c,!0);ch(n.eventQueue_,u),n.server_.put(e.toString(),o.val(!0),(f,h)=>{let p=f==="ok";p||yt("set at "+e+" failed: "+f);let m=Kr(n.serverSyncTree_,c,!p);gn(n.eventQueue_,e,m),xw(n,i,f,h)});let d=dE(n,e);Vo(n,d),gn(n.eventQueue_,d,[])}function Yq(n,e,t,r){dh(n,"update",{path:e.toString(),value:t});let i=!0,s=uh(n),o={};if(rt(t,(a,l)=>{i=!1,o[a]=rO(Me(e,a),et(l),n.serverSyncTree_,s)}),i)nt("update() called with empty data.  Don't do anything."),xw(n,r,"ok",void 0);else{let a=cE(n),l=vq(n.serverSyncTree_,e,o,a);ch(n.eventQueue_,l),n.server_.merge(e.toString(),t,(c,u)=>{let d=c==="ok";d||yt("update at "+e+" failed: "+c);let f=Kr(n.serverSyncTree_,a,!d),h=f.length>0?Vo(n,e):e;gn(n.eventQueue_,h,f),xw(n,r,c,u)}),rt(t,c=>{let u=dE(n,Me(e,c));Vo(n,u)}),gn(n.eventQueue_,e,[])}}function Qq(n){dh(n,"onDisconnectEvents");let e=uh(n),t=Wf();fw(n.onDisconnect_,ce(),(i,s)=>{let o=rO(i,s,n.serverSyncTree_,e);jN(t,i,o)});let r=[];fw(t,ce(),(i,s)=>{r=r.concat(sh(n.serverSyncTree_,i,s));let o=dE(n,i);Vo(n,o)}),n.onDisconnect_=Wf(),gn(n.eventQueue_,ce(),r)}function Zq(n,e,t){let r;ee(e._path)===".info"?r=lN(n.infoSyncTree_,e,t):r=lN(n.serverSyncTree_,e,t),dO(n.eventQueue_,e._path,r)}function fN(n,e,t){let r;ee(e._path)===".info"?r=Tw(n.infoSyncTree_,e,t):r=Tw(n.serverSyncTree_,e,t),dO(n.eventQueue_,e._path,r)}function Jq(n){n.persistentConnection_&&n.persistentConnection_.interrupt($q)}function dh(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),nt(t,...e)}function xw(n,e,t,r){e&&jo(()=>{if(t==="ok")e(null);else{let i=(t||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function hO(n,e,t){return tE(n.serverSyncTree_,e,t)||K.EMPTY_NODE}function uE(n,e=n.transactionQueueTree_){if(e||fh(n,e),Ho(e)){let t=gO(n,e);b(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&Xq(n,Gl(e),t)}else oO(e)&&ah(e,t=>{uE(n,t)})}function Xq(n,e,t){let r=t.map(c=>c.currentWriteId),i=hO(n,e,r),s=i,o=i.hash();for(let c=0;c<t.length;c++){let u=t[c];b(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Dt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{dh(n,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<t.length;f++)t[f].status=2,u=u.concat(Kr(n.serverSyncTree_,t[f].currentWriteId)),t[f].onComplete&&d.push(()=>t[f].onComplete(null,!0,t[f].currentOutputSnapshotResolved)),t[f].unwatcher();fh(n,oE(n.transactionQueueTree_,e)),uE(n,n.transactionQueueTree_),gn(n.eventQueue_,e,u);for(let f=0;f<d.length;f++)jo(d[f])}else{if(c==="datastale")for(let d=0;d<t.length;d++)t[d].status===3?t[d].status=4:t[d].status=0;else{yt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}Vo(n,e)}},o)}function Vo(n,e){let t=pO(n,e),r=Gl(t),i=gO(n,t);return eG(n,i,r),r}function eG(n,e,t){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=Dt(t,l.path),u=!1,d;if(b(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Kr(n.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=zq)u=!0,d="maxretry",i=i.concat(Kr(n.serverSyncTree_,l.currentWriteId,!0));else{let f=hO(n,l.path,o);l.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){lh("transaction failed: Data returned ",h,l.path);let p=et(h);typeof h=="object"&&h!=null&&un(h,".priority")||(p=p.updatePriority(f.getPriority()));let w=l.currentWriteId,T=uh(n),ne=iO(p,f,T);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=ne,l.currentWriteId=cE(n),o.splice(o.indexOf(w),1),i=i.concat(XN(n.serverSyncTree_,l.path,ne,l.currentWriteId,l.applyLocally)),i=i.concat(Kr(n.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(Kr(n.serverSyncTree_,l.currentWriteId,!0))}gn(n.eventQueue_,t,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}fh(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)jo(r[a]);uE(n,n.transactionQueueTree_)}function pO(n,e){let t,r=n.transactionQueueTree_;for(t=ee(e);t!==null&&Ho(r)===void 0;)r=oE(r,t),e=_e(e),t=ee(e);return r}function gO(n,e){let t=[];return mO(n,e,t),t.sort((r,i)=>r.order-i.order),t}function mO(n,e,t){let r=Ho(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);ah(e,i=>{mO(n,i,t)})}function fh(n,e){let t=Ho(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,sO(e,t.length>0?t:void 0)}ah(e,r=>{fh(n,r)})}function dE(n,e){let t=Gl(pO(n,e)),r=oE(n.transactionQueueTree_,e);return Oq(r,i=>{j_(n,i)}),j_(n,r),aO(r,i=>{j_(n,i)}),t}function j_(n,e){let t=Ho(e);if(t){let r=[],i=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(b(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(b(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(Kr(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?sO(e,void 0):t.length=s+1,gn(n.eventQueue_,Gl(e),i);for(let o=0;o<r.length;o++)jo(r[o])}}function tG(n){let e="",t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function nG(n){let e={};n.charAt(0)==="?"&&(n=n.substring(1));for(let t of n.split("&")){if(t.length===0)continue;let r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):yt(`Invalid query segment '${t}' in query '${n}'`)}return e}var hN=function(n,e){let t=rG(n),r=t.namespace;t.domain==="firebase.com"&&_r(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&_r("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||xW();let i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Ff(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new de(t.pathString)}},rG=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",l=443;if(typeof n=="string"){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");u===-1&&(u=n.length);let d=n.indexOf("?");d===-1&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(i=tG(n.substring(u,d)));let f=nG(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let h=e.slice(0,c);if(h.toLowerCase()==="localhost")t="localhost";else if(h.split(".").length<=2)t=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var eh=class{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+He(this.snapshot.exportVal())}},th=class{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Pw=class{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return b(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var kw=class n{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return re(this._path)?null:zw(this._path)}get ref(){return new Er(this._repo,this._path)}get _queryIdentifier(){let e=JA(this._queryParams),t=Hw(e);return t==="{}"?"default":t}get _queryObject(){return JA(this._queryParams)}isEqual(e){if(e=Je(e),!(e instanceof n))return!1;let t=this._repo===e._repo,r=Ww(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+f3(this._path)}};var Er=class n extends kw{constructor(e,t){super(e,t,new cw,!1)}get parent(){let e=xN(this._path);return e===null?null:new n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},nh=class n{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new de(e),r=Uo(this.ref,e);return new n(this._node.getChild(t),r,Ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new n(i,Uo(this.ref,r),Ae)))}hasChild(e){let t=new de(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function vO(n,e){return n=Je(n),n._checkNotDeleted("ref"),e!==void 0?Uo(n._root,e):n._root}function Uo(n,e){return n=Je(n),ee(n._path)===null?jq("child","path",e,!1):cO("child","path",e,!1),new Er(n._repo,Me(n._path,e))}function yO(n){return uO("remove",n._path),fE(n,null)}function fE(n,e){n=Je(n),uO("set",n._path),Fq("set",e,n._path,!1);let t=new Gt;return Kq(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function _O(n,e){Uq("update",e,n._path,!1);let t=new Gt;return Yq(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}var Lw=class n{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){let r=t._queryParams.getIndex();return new eh("value",this,new nh(e.snapshotNode,new Er(t._repo,t._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new th(this,e,t):null}matches(e){return e instanceof n?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Fw=class n{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new th(this,e,t):null}createEvent(e,t){b(e.childName!=null,"Child events should have a childName.");let r=Uo(new Er(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new eh(e.type,this,new nh(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof n?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function iG(n,e,t,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){let l=t,c=(u,d)=>{fN(n._repo,n,a),l(u,d)};c.userCallback=t.userCallback,c.context=t.context,t=c}let o=new Pw(t,s||void 0),a=e==="value"?new Lw(o):new Fw(e,o);return Zq(n._repo,n,a),()=>fN(n._repo,n,a)}function wO(n,e,t,r){return iG(n,"value",e,t,r)}lq(Er);pq(Er);var sG="FIREBASE_DATABASE_EMULATOR_HOST",Vw={},oG=!1;function aG(n,e,t,r){n.repoInfo_=new Ff(e,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),r&&(n.authTokenProvider_=r)}function lG(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||_r("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nt("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=hN(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[sG]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=hN(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let u=i&&l?new xl(xl.OWNER):new q_(n.name,n.options,e);Bq("Invalid Firebase Database URL",o),re(o.path)||_r("Database URL must point to the root of a Firebase Database (not including a child path).");let d=uG(a,n,u,new W_(n,t));return new Uw(d,n)}function cG(n,e){let t=Vw[e];(!t||t[n.key]!==n)&&_r(`Database ${e}(${n.repoInfo_}) has already been deleted.`),Jq(n),delete t[n.key]}function uG(n,e,t,r){let i=Vw[e.name];i||(i={},Vw[e.name]=i);let s=i[n.toURLString()];return s&&_r("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Rw(n,oG,t,r),i[n.toURLString()]=s,s}var Uw=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Wq(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Er(this._repo,ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&_r("Cannot call "+e+" on a deleted database.")}};function EO(n=Vi(),e){let t=po(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){let r=g0("database");r&&bO(t,...r)}return t}function bO(n,e,t,r={}){n=Je(n),n._checkNotDeleted("useEmulator");let i=`${e}:${t}`,s=n._repoInternal;if(n._instanceStarted){if(i===n._repoInternal.repoInfo_.host&&Ln(r,s.repoInfo_.emulatorOptions))return;_r("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&_r('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new xl(xl.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:m0(r.mockUserToken,n.app.options.projectId);o=new xl(a)}aG(s,i,r,o)}function dG(n){NW(Br),dn(new vt("database",(e,{instanceIdentifier:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return lG(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),Oe(kA,LA,n),Oe(kA,LA,"esm2017")}qw.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};qw.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};dG();var CO=$e(Uo,!0,2);var hh=$e(EO,!0);var hE=$e(wO,!0);var br=$e(vO,!0,2);var IO=$e(yO,!0,2);var ph=$e(fE,!0,2);var pE=$e(_O,!0,2);var Qt=class n{firebaseAuth=v(Xi);db=hh();user$=AA(this.firebaseAuth);idToken$=MA(this.firebaseAuth);currentUserSig=rr(void 0);constructor(){this.user$.pipe(Ee(e=>{e?this.currentUserSig.set({username:e.displayName,email:e.email,id:e.uid}):this.currentUserSig.set(null)})).subscribe()}getIdToken(){return this.user$.pipe(Fe(e=>e?se(e.getIdToken()):P(null)))}register(e,t,r){return g(this,null,function*(){let i=g(this,null,function*(){let s=yield NA(this.firebaseAuth,e,r);yield PA(s.user,{displayName:t}),yield ph(br(this.db,`users/${s.user.uid}`),{username:t,email:e})});return se(i)})}login(e,t){let r=RA(this.firebaseAuth,e,t).then(()=>{});return se(r)}logout(){return se(xA(this.firebaseAuth))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})};function fG(n,e){if(n&1&&(D(0,"div"),X(1),A()),n&2){let t=je();O(),pm(t.errorMessage)}}var gh=class n{constructor(e,t,r,i){this.fb=e;this.authService=t;this.router=r;this.http=i;this.loginForm=this.fb.group({email:"",password:""})}loginForm;errorMessage="";onSubmit(){let e=this.loginForm.getRawValue();this.authService.login(e.email,e.password).subscribe({next:()=>{this.router.navigateByUrl("/home").then(t=>{})},error:t=>{this.errorMessage=t.code}})}static \u0275fac=function(t){return new(t||n)(C(Eo),C(Qt),C(ut),C(Ia))};static \u0275cmp=Ue({type:n,selectors:[["app-login-form"]],decls:15,vars:2,consts:[["id","app",1,"container","mt-4","dark-theme"],[3,"ngSubmit","formGroup"],[1,"text-center"],[1,"mb-3"],["type","text","formControlName","email","placeholder","Email","required","",1,"form-control"],["type","password","formControlName","password","placeholder","Password","required","",1,"form-control"],["type","submit"],["routerLink","/signup"]],template:function(t,r){t&1&&(D(0,"div",0)(1,"form",1),he("ngSubmit",function(){return r.onSubmit()}),D(2,"h1",2),X(3,"Login"),A(),D(4,"div",3),J(5,"input",4),A(),D(6,"div",3),J(7,"input",5),A(),Ce(8,fG,2,1,"div"),D(9,"button",6),X(10," Log in "),A(),D(11,"div"),X(12,"Don't have an account? "),D(13,"a",7),X(14,"Sign Up!"),A()()()()),t&2&&(O(),L("formGroup",r.loginForm),O(7),kD(r.errorMessage?8:-1))},dependencies:[Dd,bo,wo,Un,$r,_o,Ki,qi,Gi],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:clamp(1rem,4vw,2rem);color:#e1e1e1}h1[_ngcontent-%COMP%]{font-size:clamp(1rem,4vw,1.5rem);margin-bottom:clamp(1.5rem,3vw,2rem);color:#e1e1e1}.form-control[_ngcontent-%COMP%]{height:clamp(45px,5vh,55px);font-size:clamp(14px,1.5vw,16px);padding:.5rem clamp(.5rem,2vw,1rem);transition:all .3s ease;background-color:#1f1f1f;border:1px solid rgba(255,255,255,.15);color:#e1e1e1}.form-control[_ngcontent-%COMP%]::placeholder{color:#888;opacity:1}.form-control[_ngcontent-%COMP%]:focus{background-color:#262626;border-color:#ffffff26;box-shadow:0 0 0 .2rem #0d6efd40}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;background-color:#dc35451a}form[_ngcontent-%COMP%]{padding:clamp(.5rem,3vw,2rem);border-radius:clamp(8px,1vw,12px);box-shadow:0 4px 6px #0000004d;background-color:#1a1a1a;border:1px solid rgba(255,255,255,.15);margin-bottom:clamp(2rem,4vw,3rem);margin-top:15rem}form[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%]{margin-bottom:0}form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{font-size:clamp(12px,1.2vw,14px);margin-top:.3rem;color:#dc3545}form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:clamp(.75rem,2vw,1rem);margin-bottom:clamp(1rem,2vw,1.5rem);font-size:clamp(14px,1.5vw,16px);border-radius:6px;background-color:#dc35451a;border:1px solid rgba(220,53,69,.2);color:#dc3545}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{height:clamp(40px,6vh,50px);font-size:clamp(14px,1.8vw,18px);font-weight:500;width:100%;background-color:#0d6efd;color:#fff;border:none;border-radius:6px;transition:all .3s ease;cursor:pointer}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;background-color:#2c2c2c}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 4px 8px #0003;background-color:#267dfd}@keyframes _ngcontent-%COMP%_loginAnimation{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}form[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loginAnimation .5s ease forwards;animation-delay:calc(var(--item-index, 0) * .1s);opacity:0}"]})};var kt=typeof window<"u"?window:{screen:{},navigator:{}},zo=(kt.matchMedia||function(){return{matches:!1}}).bind(kt),SO=!1,hG={get passive(){return SO=!0}},TO=function(){};kt.addEventListener&&kt.addEventListener("p",TO,hG);kt.removeEventListener&&kt.removeEventListener("p",TO,!1);var mh=SO,Bee="PointerEvent"in kt,gE="ontouchstart"in kt,pG="TouchEvent"in kt,gG=gE||pG&&zo("(any-pointer: coarse)").matches,Hee=(kt.navigator.maxTouchPoints||0)>0||gG,MO=kt.navigator.userAgent||"",mG=zo("(pointer: coarse)").matches&&/iPad|Macintosh/.test(MO)&&Math.min(kt.screen.width||0,kt.screen.height||0)>=768,$ee=(zo("(pointer: coarse)").matches||!zo("(pointer: fine)").matches&&gE)&&!/Windows.*Firefox/.test(MO),zee=zo("(any-pointer: fine)").matches||zo("(any-hover: hover)").matches||mG||!gE;var vG=(n,e,t)=>({tooltip:n,placement:e,content:t});function yG(n,e){}function _G(n,e){n&1&&Ce(0,yG,0,0,"ng-template")}function wG(n,e){if(n&1&&(Uu(0),Ce(1,_G,1,0,null,1),ju()),n&2){let t=je();O(),L("ngTemplateOutlet",t.template)("ngTemplateOutletContext",BD(2,vG,t.tooltip,t.placement,t.content))}}function EG(n,e){if(n&1&&(Uu(0),D(1,"div",2),X(2),A(),ju()),n&2){let t=je();O(),rn("title",t.tooltip)("data-tooltip-placement",t.placement),O(),zs(" ",t.content," ")}}var bG=["tooltipTemplate"],CG=["leftOuterSelectionBar"],IG=["rightOuterSelectionBar"],DG=["fullBar"],SG=["selectionBar"],TG=["minHandle"],MG=["maxHandle"],AG=["floorLabel"],NG=["ceilLabel"],OG=["minHandleLabel"],RG=["maxHandleLabel"],xG=["combinedLabel"],PG=["ticksElement"],kG=n=>({"ngx-slider-selected":n});function LG(n,e){if(n&1&&J(0,"ngx-slider-tooltip-wrapper",32),n&2){let t=je().$implicit,r=je();L("template",r.tooltipTemplate)("tooltip",t.valueTooltip)("placement",t.valueTooltipPlacement)("content",t.value)}}function FG(n,e){if(n&1&&J(0,"span",33),n&2){let t=je().$implicit;L("innerText",t.legend)}}function VG(n,e){if(n&1&&J(0,"span",34),n&2){let t=je().$implicit;L("innerHTML",t.legend,BI)}}function UG(n,e){if(n&1&&(D(0,"span",27),J(1,"ngx-slider-tooltip-wrapper",28),Ce(2,LG,1,4,"ngx-slider-tooltip-wrapper",29)(3,FG,1,1,"span",30)(4,VG,1,1,"span",31),A()),n&2){let t=e.$implicit,r=je();L("ngClass",jD(8,kG,t.selected))("ngStyle",t.style),O(),L("template",r.tooltipTemplate)("tooltip",t.tooltip)("placement",t.tooltipPlacement),O(),L("ngIf",t.value!==null&&t.value!==void 0),O(),L("ngIf",t.legend!==null&&t.legend!==void 0&&r.allowUnsafeHtmlInSlider===!1),O(),L("ngIf",t.legend!==null&&t.legend!==void 0&&(r.allowUnsafeHtmlInSlider===null||r.allowUnsafeHtmlInSlider===void 0||r.allowUnsafeHtmlInSlider))}}var $n=function(n){return n[n.Low=0]="Low",n[n.High=1]="High",n[n.Floor=2]="Floor",n[n.Ceil=3]="Ceil",n[n.TickValue=4]="TickValue",n}($n||{}),qo=class{floor=0;ceil=null;step=1;minRange=null;maxRange=null;pushRange=!1;minLimit=null;maxLimit=null;translate=null;combineLabels=null;getLegend=null;getStepLegend=null;stepsArray=null;bindIndexForStepsArray=!1;draggableRange=!1;draggableRangeOnly=!1;showSelectionBar=!1;showSelectionBarEnd=!1;showSelectionBarFromValue=null;showOuterSelectionBars=!1;hidePointerLabels=!1;hideLimitLabels=!1;autoHideLimitLabels=!0;readOnly=!1;disabled=!1;showTicks=!1;showTicksValues=!1;tickStep=null;tickValueStep=null;ticksArray=null;ticksTooltip=null;ticksValuesTooltip=null;vertical=!1;getSelectionBarColor=null;getTickColor=null;getPointerColor=null;keyboardSupport=!0;scale=1;rotate=0;enforceStep=!0;enforceRange=!0;enforceStepsArray=!0;noSwitching=!1;onlyBindHandles=!1;rightToLeft=!1;reversedControls=!1;boundPointerLabels=!0;logScale=!1;customValueToPosition=null;customPositionToValue=null;precisionLimit=12;selectionBarGradient=null;ariaLabel="ngx-slider";ariaLabelledBy=null;ariaLabelHigh="ngx-slider-max";ariaLabelledByHigh=null;handleDimension=null;barDimension=null;animate=!0;animateOnMove=!1},AO=new S("AllowUnsafeHtmlInSlider"),M=function(n){return n[n.Min=0]="Min",n[n.Max=1]="Max",n}(M||{}),vE=class{value;highValue;pointerType},y=class{static isNullOrUndefined(e){return e==null}static areArraysEqual(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}static linearValueToPosition(e,t,r){let i=r-t;return(e-t)/i}static logValueToPosition(e,t,r){e=Math.log(e),t=Math.log(t),r=Math.log(r);let i=r-t;return(e-t)/i}static linearPositionToValue(e,t,r){return e*(r-t)+t}static logPositionToValue(e,t,r){t=Math.log(t),r=Math.log(r);let i=e*(r-t)+t;return Math.exp(i)}static findStepIndex(e,t){let r=t.map(s=>Math.abs(e-s.value)),i=0;for(let s=0;s<t.length;s++)r[s]!==r[i]&&r[s]<r[i]&&(i=s);return i}},zn=class{static isTouchEvent(e){return window.TouchEvent!==void 0?e instanceof TouchEvent:e.touches!==void 0}static isResizeObserverAvailable(){return window.ResizeObserver!==void 0}},Ie=class{static roundToPrecisionLimit(e,t){return+e.toPrecision(t)}static isModuloWithinPrecisionLimit(e,t,r){let i=Math.pow(10,-r);return Math.abs(e%t)<=i||Math.abs(Math.abs(e%t)-t)<=i}static clampToRange(e,t,r){return Math.min(Math.max(e,t),r)}},vh=class{eventName=null;events=null;eventsSubscription=null;teardownCallback=null},yh=class{renderer;constructor(e){this.renderer=e}attachPassiveEventListener(e,t,r,i){if(mh!==!0)return this.attachEventListener(e,t,r,i);let s=new vh;s.eventName=t,s.events=new we;let o=a=>{s.events.next(a)};return e.addEventListener(t,o,{passive:!0,capture:!1}),s.teardownCallback=()=>{e.removeEventListener(t,o,{passive:!0,capture:!1})},s.eventsSubscription=s.events.pipe(y.isNullOrUndefined(i)?Ee(()=>{}):Oc(i,void 0,{leading:!0,trailing:!0})).subscribe(a=>{r(a)}),s}detachEventListener(e){y.isNullOrUndefined(e.eventsSubscription)||(e.eventsSubscription.unsubscribe(),e.eventsSubscription=null),y.isNullOrUndefined(e.events)||(e.events.complete(),e.events=null),y.isNullOrUndefined(e.teardownCallback)||(e.teardownCallback(),e.teardownCallback=null)}attachEventListener(e,t,r,i){let s=new vh;s.eventName=t,s.events=new we;let o=a=>{s.events.next(a)};return s.teardownCallback=this.renderer.listen(e,t,o),s.eventsSubscription=s.events.pipe(y.isNullOrUndefined(i)?Ee(()=>{}):Oc(i,void 0,{leading:!0,trailing:!0})).subscribe(a=>{r(a)}),s}},Jr=(()=>{class n{elemRef;renderer;changeDetectionRef;_position=0;get position(){return this._position}_dimension=0;get dimension(){return this._dimension}_alwaysHide=!1;get alwaysHide(){return this._alwaysHide}_vertical=!1;get vertical(){return this._vertical}_scale=1;get scale(){return this._scale}_rotate=0;get rotate(){return this._rotate}opacity=1;visibility="visible";left="";bottom="";height="";width="";transform="";eventListenerHelper;eventListeners=[];constructor(t,r,i){this.elemRef=t,this.renderer=r,this.changeDetectionRef=i,this.eventListenerHelper=new yh(this.renderer)}setAlwaysHide(t){this._alwaysHide=t,t?this.visibility="hidden":this.visibility="visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return this.alwaysHide?!1:this.opacity!==0}setVertical(t){this._vertical=t,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(t){this._scale=t}setRotate(t){this._rotate=t,this.transform="rotate("+t+"deg)"}getRotate(){return this._rotate}setPosition(t){this._position!==t&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=t,this._vertical?this.bottom=Math.round(t)+"px":this.left=Math.round(t)+"px"}calculateDimension(){let t=this.getBoundingClientRect();this.vertical?this._dimension=(t.bottom-t.top)*this.scale:this._dimension=(t.right-t.left)*this.scale}setDimension(t){this._dimension!==t&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=t,this._vertical?this.height=Math.round(t)+"px":this.width=Math.round(t)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(t,r,i){let s=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,t,r,i);this.eventListeners.push(s)}onPassive(t,r,i){let s=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,t,r,i);this.eventListeners.push(s)}off(t){let r,i;y.isNullOrUndefined(t)?(r=[],i=this.eventListeners):(r=this.eventListeners.filter(s=>s.eventName!==t),i=this.eventListeners.filter(s=>s.eventName===t));for(let s of i)this.eventListenerHelper.detachEventListener(s);this.eventListeners=r}isRefDestroyed(){return y.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}static \u0275fac=function(r){return new(r||n)(C(Ve),C(gt),C(Nt))};static \u0275dir=me({type:n,selectors:[["","ngxSliderElement",""]],hostVars:14,hostBindings:function(r,i){r&2&&$s("opacity",i.opacity)("visibility",i.visibility)("left",i.left)("bottom",i.bottom)("height",i.height)("width",i.width)("transform",i.transform)},standalone:!1})}return n})(),mE=(()=>{class n extends Jr{active=!1;role="";tabindex="";ariaOrientation="";ariaLabel="";ariaLabelledBy="";ariaValueNow="";ariaValueText="";ariaValueMin="";ariaValueMax="";focus(){this.elemRef.nativeElement.focus()}focusIfNeeded(){document.activeElement!==this.elemRef.nativeElement&&this.elemRef.nativeElement.focus()}constructor(t,r,i){super(t,r,i)}static \u0275fac=function(r){return new(r||n)(C(Ve),C(gt),C(Nt))};static \u0275dir=me({type:n,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(r,i){r&2&&(rn("role",i.role)("tabindex",i.tabindex)("aria-orientation",i.ariaOrientation)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-valuenow",i.ariaValueNow)("aria-valuetext",i.ariaValueText)("aria-valuemin",i.ariaValueMin)("aria-valuemax",i.ariaValueMax),Te("ngx-slider-active",i.active))},standalone:!1,features:[mt]})}return n})(),Wo=(()=>{class n extends Jr{allowUnsafeHtmlInSlider;_value=null;get value(){return this._value}constructor(t,r,i,s){super(t,r,i),this.allowUnsafeHtmlInSlider=s}setValue(t){let r=!1;!this.alwaysHide&&(y.isNullOrUndefined(this.value)||this.value.length!==t.length||this.value.length>0&&this.dimension===0)&&(r=!0),this._value=t,this.allowUnsafeHtmlInSlider===!1?this.elemRef.nativeElement.innerText=t:this.elemRef.nativeElement.innerHTML=t,r&&this.calculateDimension()}static \u0275fac=function(r){return new(r||n)(C(Ve),C(gt),C(Nt),C(AO,8))};static \u0275dir=me({type:n,selectors:[["","ngxSliderLabel",""]],standalone:!1,features:[mt]})}return n})(),jG=(()=>{class n{template;tooltip;placement;content;static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ue({type:n,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},standalone:!1,decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(r,i){r&1&&Ce(0,wG,2,6,"ng-container",0)(1,EG,3,3,"ng-container",0),r&2&&(L("ngIf",i.template),O(),L("ngIf",!i.template))},dependencies:[sn,aS],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]})}return n})(),yE=class{selected=!1;style={};tooltip=null;tooltipPlacement=null;value=null;valueTooltip=null;valueTooltipPlacement=null;legend=null},_h=class{active=!1;value=0;difference=0;position=0;lowLimit=0;highLimit=0},Go=class{value;highValue;static compare(e,t){return y.isNullOrUndefined(e)&&y.isNullOrUndefined(t)||y.isNullOrUndefined(e)!==y.isNullOrUndefined(t)?!1:e.value===t.value&&e.highValue===t.highValue}},wh=class extends Go{forceChange;static compare(e,t){return y.isNullOrUndefined(e)&&y.isNullOrUndefined(t)||y.isNullOrUndefined(e)!==y.isNullOrUndefined(t)?!1:e.value===t.value&&e.highValue===t.highValue&&e.forceChange===t.forceChange}};var BG={provide:Wi,useExisting:$t(()=>_E),multi:!0},_E=(()=>{class n{renderer;elementRef;changeDetectionRef;zone;allowUnsafeHtmlInSlider;sliderElementNgxSliderClass=!0;value=null;valueChange=new fe;highValue=null;highValueChange=new fe;options=new qo;userChangeStart=new fe;userChange=new fe;userChangeEnd=new fe;manualRefreshSubscription;set manualRefresh(t){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=t.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}triggerFocusSubscription;set triggerFocus(t){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=t.subscribe(r=>{this.focusPointer(r)})}cancelUserChangeSubscription;set cancelUserChange(t){this.unsubscribeCancelUserChange(),this.cancelUserChangeSubscription=t.subscribe(()=>{this.moving&&(this.positionTrackingHandle(this.preStartHandleValue),this.forceEnd(!0))})}get range(){return!y.isNullOrUndefined(this.value)&&!y.isNullOrUndefined(this.highValue)}initHasRun=!1;inputModelChangeSubject=new we;inputModelChangeSubscription=null;outputModelChangeSubject=new we;outputModelChangeSubscription=null;viewLowValue=null;viewHighValue=null;viewOptions=new qo;handleHalfDimension=0;maxHandlePosition=0;currentTrackingPointer=null;currentFocusPointer=null;firstKeyDown=!1;touchId=null;dragging=new _h;preStartHandleValue=null;leftOuterSelectionBarElement;rightOuterSelectionBarElement;fullBarElement;selectionBarElement;minHandleElement;maxHandleElement;floorLabelElement;ceilLabelElement;minHandleLabelElement;maxHandleLabelElement;combinedLabelElement;ticksElement;tooltipTemplate;sliderElementVerticalClass=!1;sliderElementAnimateClass=!1;sliderElementWithLegendClass=!1;sliderElementDisabledAttr=null;sliderElementAriaLabel="ngx-slider";barStyle={};minPointerStyle={};maxPointerStyle={};fullBarTransparentClass=!1;selectionBarDraggableClass=!1;ticksUnderValuesClass=!1;get showTicks(){return this.viewOptions.showTicks}intermediateTicks=!1;ticks=[];eventListenerHelper=null;onMoveEventListener=null;onEndEventListener=null;moving=!1;resizeObserver=null;onTouchedCallback=null;onChangeCallback=null;constructor(t,r,i,s,o){this.renderer=t,this.elementRef=r,this.changeDetectionRef=i,this.zone=s,this.allowUnsafeHtmlInSlider=o,this.eventListenerHelper=new yh(this.renderer)}ngOnInit(){this.viewOptions=new qo,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState(),this.updateAriaLabel()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(),this.subscribeOutputModelChangeSubject(),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.range?this.viewHighValue=this.modelValueToViewValue(this.highValue):this.viewHighValue=null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.updateAriaLabel(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(t){!y.isNullOrUndefined(t.options)&&JSON.stringify(t.options.previousValue)!==JSON.stringify(t.options.currentValue)&&this.onChangeOptions(),(!y.isNullOrUndefined(t.value)||!y.isNullOrUndefined(t.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,controlAccessorChange:!1,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(t){t instanceof Array?(this.value=t[0],this.highValue=t[1]):this.value=t,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1,controlAccessorChange:!0})}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.viewOptions.disabled=t,this.updateDisabledState(),this.initHasRun&&this.manageEventsBindings()}setAriaLabel(t){this.viewOptions.ariaLabel=t,this.updateAriaLabel()}onResize(t){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(Ac(wh.compare),Le(t=>!t.forceChange&&!t.internalChange)).subscribe(t=>this.applyInputModelChange(t))}subscribeOutputModelChangeSubject(){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(Ac(wh.compare)).subscribe(t=>this.publishOutputModelChange(t))}subscribeResizeObserver(){zn.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){zn.isResizeObserverAvailable()&&this.resizeObserver!==null&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){y.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){y.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){y.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){y.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){y.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){y.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}unsubscribeCancelUserChange(){y.isNullOrUndefined(this.cancelUserChangeSubscription)||(this.cancelUserChangeSubscription.unsubscribe(),this.cancelUserChangeSubscription=null)}getPointerElement(t){return t===M.Min?this.minHandleElement:t===M.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===M.Min?this.viewLowValue:this.currentTrackingPointer===M.Max?this.viewHighValue:null}modelValueToViewValue(t){return y.isNullOrUndefined(t)?NaN:!y.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray?y.findStepIndex(+t,this.viewOptions.stepsArray):+t}viewValueToModelValue(t){return!y.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray?this.getStepValue(t):t}getStepValue(t){let r=this.viewOptions.stepsArray[t];return y.isNullOrUndefined(r)?NaN:r.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,controlAccessorChange:!1,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,controlAccessorChange:!1,forceChange:!1,internalChange:!0})}applyInputModelChange(t){let r=this.normaliseModelValues(t),i=!Go.compare(t,r);i&&(this.value=r.value,this.highValue=r.highValue),this.viewLowValue=this.modelValueToViewValue(r.value),this.range?this.viewHighValue=this.modelValueToViewValue(r.highValue):this.viewHighValue=null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:r.value,highValue:r.highValue,controlAccessorChange:t.controlAccessorChange,forceChange:i,userEventInitiated:!1})}publishOutputModelChange(t){let r=()=>{this.valueChange.emit(t.value),this.range&&this.highValueChange.emit(t.highValue),!t.controlAccessorChange&&(y.isNullOrUndefined(this.onChangeCallback)||(this.range?this.onChangeCallback([t.value,t.highValue]):this.onChangeCallback(t.value)),y.isNullOrUndefined(this.onTouchedCallback)||(this.range?this.onTouchedCallback([t.value,t.highValue]):this.onTouchedCallback(t.value)))};t.userEventInitiated?(r(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{r()})}normaliseModelValues(t){let r=new Go;if(r.value=t.value,r.highValue=t.highValue,!y.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){let i=y.findStepIndex(r.value,this.viewOptions.stepsArray);if(r.value=this.viewOptions.stepsArray[i].value,this.range){let s=y.findStepIndex(r.highValue,this.viewOptions.stepsArray);r.highValue=this.viewOptions.stepsArray[s].value}}return r}if(this.viewOptions.enforceStep&&(r.value=this.roundStep(r.value),this.range&&(r.highValue=this.roundStep(r.highValue))),this.viewOptions.enforceRange&&(r.value=Ie.clampToRange(r.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(r.highValue=Ie.clampToRange(r.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&t.value>t.highValue))if(this.viewOptions.noSwitching)r.value=r.highValue;else{let i=t.value;r.value=t.highValue,r.highValue=i}return r}renormaliseModelValues(){let t={value:this.value,highValue:this.highValue},r=this.normaliseModelValues(t);Go.compare(r,t)||(this.value=r.value,this.highValue=r.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,controlAccessorChange:!1,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;let t=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();let r=this.getOptionsInfluencingEventBindings(this.viewOptions),i=!y.areArraysEqual(t,r);this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.range?this.viewHighValue=this.modelValueToViewValue(this.highValue):this.viewHighValue=null,this.resetSlider(i)}applyOptions(){if(this.viewOptions=new qo,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!y.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!y.isNullOrUndefined(this.viewOptions.tickStep)||!y.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!y.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),y.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),y.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(t,r)=>t+" - "+r),this.viewOptions.logScale&&this.viewOptions.floor===0)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,y.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=t=>this.viewOptions.bindIndexForStepsArray?String(this.getStepValue(t)):String(t))}applyFloorCeilOptions(){if(y.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),y.isNullOrUndefined(this.viewOptions.ceil)||y.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,y.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=t=>String(t))}resetSlider(t=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),t&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.updateAriaLabel(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(t){t!==M.Min&&t!==M.Max&&(t=M.Min),t===M.Min?this.minHandleElement.focus():this.range&&t===M.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){y.isNullOrUndefined(this.currentFocusPointer)||this.getPointerElement(this.currentFocusPointer).focusIfNeeded()}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);let t=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(t||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(t||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(t||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate}),this.updateRotate()}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateAriaLabel(){this.sliderElementAriaLabel=this.viewOptions.ariaLabel||"nxg-slider"}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(let t of this.getAllSliderElements())y.isNullOrUndefined(t)||t.setVertical(this.viewOptions.vertical)}updateScale(){for(let t of this.getAllSliderElements())t.setScale(this.viewOptions.scale)}updateRotate(){for(let t of this.getAllSliderElements())t.setRotate(this.viewOptions.rotate)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.viewOptions.keyboardSupport&&!(this.viewOptions.readOnly||this.viewOptions.disabled)?this.minHandleElement.tabindex="0":this.minHandleElement.tabindex="",this.minHandleElement.ariaOrientation=this.viewOptions.vertical||this.viewOptions.rotate!==0?"vertical":"horizontal",y.isNullOrUndefined(this.viewOptions.ariaLabel)?y.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.viewOptions.keyboardSupport&&!(this.viewOptions.readOnly||this.viewOptions.disabled)?this.maxHandleElement.tabindex="0":this.maxHandleElement.tabindex="",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical||this.viewOptions.rotate!==0?"vertical":"horizontal",y.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?y.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,$n.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,$n.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){y.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);let t=this.minHandleElement.dimension;this.handleHalfDimension=t/2,y.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-t,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks&&this.sliderElementWithLegendClass){setTimeout(()=>{this.sliderElementWithLegendClass=!1});return}let t=y.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,r=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&t.reverse();let i=y.isNullOrUndefined(this.viewOptions.tickValueStep)?y.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep,s=!1,o=t.map(a=>{let l=this.valueToPosition(a);this.viewOptions.vertical&&(l=this.maxHandlePosition-l);let c=r+"("+Math.round(l)+"px)",u=new yE;u.selected=this.isTickSelected(a),u.style={"-webkit-transform":c,"-moz-transform":c,"-o-transform":c,"-ms-transform":c,transform:c},u.selected&&!y.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(u.style["background-color"]=this.getSelectionBarColor()),!u.selected&&!y.isNullOrUndefined(this.viewOptions.getTickColor)&&(u.style["background-color"]=this.getTickColor(a)),y.isNullOrUndefined(this.viewOptions.ticksTooltip)||(u.tooltip=this.viewOptions.ticksTooltip(a),u.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!y.isNullOrUndefined(i)&&Ie.isModuloWithinPrecisionLimit(a,i,this.viewOptions.precisionLimit)&&(u.value=this.getDisplayValue(a,$n.TickValue),y.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(u.valueTooltip=this.viewOptions.ticksValuesTooltip(a),u.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let d=null;if(y.isNullOrUndefined(this.viewOptions.stepsArray))y.isNullOrUndefined(this.viewOptions.getLegend)||(d=this.viewOptions.getLegend(a));else{let f=this.viewOptions.stepsArray[a];y.isNullOrUndefined(this.viewOptions.getStepLegend)?y.isNullOrUndefined(f)||(d=f.legend):d=this.viewOptions.getStepLegend(f)}return y.isNullOrUndefined(d)||(u.legend=d,s=!0),u});if(this.sliderElementWithLegendClass!==s&&setTimeout(()=>{this.sliderElementWithLegendClass=s}),!y.isNullOrUndefined(this.ticks)&&this.ticks.length===o.length)for(let a=0;a<o.length;++a)Object.assign(this.ticks[a],o[a]);else this.ticks=o,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){if(!this.viewOptions.showTicks)return[];let t=y.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,r=[],i=1+Math.floor(Ie.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/t,this.viewOptions.precisionLimit));for(let s=0;s<i;++s)r.push(Ie.roundToPrecisionLimit(this.viewOptions.floor+t*s,this.viewOptions.precisionLimit));return r}isTickSelected(t){if(!this.range)if(y.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(t>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&t<=this.viewLowValue)return!0}else{let r=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>r&&t>=r&&t<=this.viewLowValue)return!0;if(this.viewLowValue<r&&t<=r&&t>=this.viewLowValue)return!0}return!!(this.range&&t>=this.viewLowValue&&t<=this.viewHighValue)}updateFloorLabel(){if(!this.floorLabelElement.alwaysHide){this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,$n.Floor)),this.floorLabelElement.calculateDimension();let t=this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0;this.floorLabelElement.setPosition(t)}}updateCeilLabel(){if(!this.ceilLabelElement.alwaysHide){this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,$n.Ceil)),this.ceilLabelElement.calculateDimension();let t=this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension;this.ceilLabelElement.setPosition(t)}}updateHandles(t,r){t===M.Min?this.updateLowHandle(r):t===M.Max&&this.updateHighHandle(r),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(t,r){let i=t===M.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,s=r-i/2+this.handleHalfDimension,o=this.fullBarElement.dimension-i;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&t===M.Min||!this.viewOptions.rightToLeft&&t===M.Max?Math.min(s,o):Math.min(Math.max(s,0),o):s}updateLowHandle(t){this.minHandleElement.setPosition(t),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,$n.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(M.Min,t)),y.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(M.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(t){this.maxHandleElement.setPosition(t),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,$n.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(M.Max,t)),y.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(M.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let t=!1,r=!1,i=this.isLabelBelowFloorLabel(this.minHandleLabelElement),s=this.isLabelAboveCeilLabel(this.minHandleLabelElement),o=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),a=this.isLabelBelowFloorLabel(this.combinedLabelElement),l=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(i?(t=!0,this.floorLabelElement.hide()):(t=!1,this.floorLabelElement.show()),s?(r=!0,this.ceilLabelElement.hide()):(r=!1,this.ceilLabelElement.show()),this.range){let c=this.combinedLabelElement.isVisible()?l:o,u=this.combinedLabelElement.isVisible()?a:i;c?this.ceilLabelElement.hide():r||this.ceilLabelElement.show(),u?this.floorLabelElement.hide():t||this.floorLabelElement.show()}}isLabelBelowFloorLabel(t){let r=t.position,i=t.dimension,s=this.floorLabelElement.position,o=this.floorLabelElement.dimension;return this.viewOptions.rightToLeft?r+i>=s-2:r<=s+o+2}isLabelAboveCeilLabel(t){let r=t.position,i=t.dimension,s=this.ceilLabelElement.position,o=this.ceilLabelElement.dimension;return this.viewOptions.rightToLeft?r<=s+o+2:r+i>=s-2}updateSelectionBar(){let t=0,r=0,i=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,s=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)r=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),t=s;else if(y.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))i?(r=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),t=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(r=this.minHandleElement.position+this.handleHalfDimension,t=0);else{let o=this.viewOptions.showSelectionBarFromValue,a=this.valueToPosition(o);(this.viewOptions.rightToLeft?this.viewLowValue<=o:this.viewLowValue>o)?(r=this.minHandleElement.position-a,t=a+this.handleHalfDimension):(r=a-this.minHandleElement.position,t=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(r),this.selectionBarElement.setPosition(t),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(t),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+r)),this.leftOuterSelectionBarElement.setPosition(t+r)):(this.leftOuterSelectionBarElement.setDimension(t),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+r)),this.rightOuterSelectionBarElement.setPosition(t+r))),y.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!y.isNullOrUndefined(this.viewOptions.selectionBarGradient)){let o=y.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),a=o-t>0&&!i||o-t<=0&&i,l=this.viewOptions.vertical?a?"bottom":"top":a?"left":"right";this.barStyle={backgroundImage:"linear-gradient(to "+l+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(o+r+t+(a?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=o-t+(a?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{let o=this.getSelectionBarColor();this.barStyle={backgroundColor:o}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(t){return t===M.Max?this.viewOptions.getPointerColor(this.highValue,t):this.viewOptions.getPointerColor(this.value,t)}getTickColor(t){return this.viewOptions.getTickColor(t)}updateCombinedLabel(){let t=null;if(this.viewOptions.rightToLeft?t=this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:t=this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,t){let r=this.getDisplayValue(this.viewLowValue,$n.Low),i=this.getDisplayValue(this.viewHighValue,$n.High),s=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(i,r):this.viewOptions.combineLabels(r,i);this.combinedLabelElement.setValue(s);let o=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(o),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(t,r){return!y.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(t=this.getStepValue(t)),this.viewOptions.translate(t,r)}roundStep(t,r){let i=y.isNullOrUndefined(r)?this.viewOptions.step:r,s=Ie.roundToPrecisionLimit((t-this.viewOptions.floor)/i,this.viewOptions.precisionLimit);return s=Math.round(s)*i,Ie.roundToPrecisionLimit(this.viewOptions.floor+s,this.viewOptions.precisionLimit)}valueToPosition(t){let r=y.linearValueToPosition;y.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(r=y.logValueToPosition):r=this.viewOptions.customValueToPosition,t=Ie.clampToRange(t,this.viewOptions.floor,this.viewOptions.ceil);let i=r(t,this.viewOptions.floor,this.viewOptions.ceil);return y.isNullOrUndefined(i)&&(i=0),this.viewOptions.rightToLeft&&(i=1-i),i*this.maxHandlePosition}positionToValue(t){let r=t/this.maxHandlePosition;this.viewOptions.rightToLeft&&(r=1-r);let i=y.linearPositionToValue;y.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(i=y.logPositionToValue):i=this.viewOptions.customPositionToValue;let s=i(r,this.viewOptions.floor,this.viewOptions.ceil);return y.isNullOrUndefined(s)?0:s}getEventXY(t,r){if(t instanceof MouseEvent)return this.viewOptions.vertical||this.viewOptions.rotate!==0?t.clientY:t.clientX;let i=0,s=t.touches;if(!y.isNullOrUndefined(r)){for(let o=0;o<s.length;o++)if(s[o].identifier===r){i=o;break}}return this.viewOptions.vertical||this.viewOptions.rotate!==0?s[i].clientY:s[i].clientX}getEventPosition(t,r){let i=this.elementRef.nativeElement.getBoundingClientRect(),s=this.viewOptions.vertical||this.viewOptions.rotate!==0?i.bottom:i.left,o=0;return this.viewOptions.vertical||this.viewOptions.rotate!==0?o=-this.getEventXY(t,r)+s:o=this.getEventXY(t,r)-s,o*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(t){if(!this.range)return M.Min;let r=this.getEventPosition(t),i=Math.abs(r-this.minHandleElement.position),s=Math.abs(r-this.maxHandleElement.position);return i<s?M.Min:i>s?M.Max:this.viewOptions.rightToLeft?r>this.minHandleElement.position?M.Min:M.Max:r<this.minHandleElement.position?M.Min:M.Max}bindEvents(){let t=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",r=>this.onBarStart(null,t,r,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",r=>this.onBarStart(M.Min,t,r,!0,!0)),this.maxHandleElement.on("mousedown",r=>this.onBarStart(M.Max,t,r,!0,!0))):(this.minHandleElement.on("mousedown",r=>this.onStart(M.Min,r,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",r=>this.onStart(M.Max,r,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",r=>this.onStart(null,r,!0,!0,!0)),this.ticksElement.on("mousedown",r=>this.onStart(null,r,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",r=>this.onBarStart(null,t,r,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",r=>this.onBarStart(M.Min,t,r,!0,!0)),this.maxHandleElement.onPassive("touchstart",r=>this.onBarStart(M.Max,t,r,!0,!0))):(this.minHandleElement.onPassive("touchstart",r=>this.onStart(M.Min,r,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",r=>this.onStart(M.Max,r,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",r=>this.onStart(null,r,!0,!0,!0)),this.ticksElement.onPassive("touchstart",r=>this.onStart(null,r,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(M.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(M.Max)))}getOptionsInfluencingEventBindings(t){return[t.disabled,t.readOnly,t.draggableRange,t.draggableRangeOnly,t.onlyBindHandles,t.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(let t of this.getAllSliderElements())y.isNullOrUndefined(t)||t.off()}onBarStart(t,r,i,s,o,a,l){r?this.onDragStart(t,i,s,o):this.onStart(t,i,s,o,a,l)}onStart(t,r,i,s,o,a){r.stopPropagation(),!zn.isTouchEvent(r)&&!mh&&r.preventDefault(),this.moving=!1,this.calculateViewDimensions(),y.isNullOrUndefined(t)&&(t=this.getNearestHandle(r)),this.currentTrackingPointer=t;let l=this.getPointerElement(t);if(l.active=!0,this.preStartHandleValue=this.getCurrentTrackingValue(),this.viewOptions.keyboardSupport&&l.focus(),i){this.unsubscribeOnMove();let c=u=>this.dragging.active?this.onDragMove(u):this.onMove(u);zn.isTouchEvent(r)?this.onMoveEventListener=this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",c):this.onMoveEventListener=this.eventListenerHelper.attachEventListener(document,"mousemove",c)}if(s){this.unsubscribeOnEnd();let c=u=>this.onEnd(u);zn.isTouchEvent(r)?this.onEndEventListener=this.eventListenerHelper.attachPassiveEventListener(document,"touchend",c):this.onEndEventListener=this.eventListenerHelper.attachEventListener(document,"mouseup",c)}this.userChangeStart.emit(this.getChangeContext()),zn.isTouchEvent(r)&&!y.isNullOrUndefined(r.changedTouches)&&y.isNullOrUndefined(this.touchId)&&(this.touchId=r.changedTouches[0].identifier),o&&this.onMove(r,!0),a&&this.onEnd(r)}onMove(t,r){let i=null;if(zn.isTouchEvent(t)){let c=t.changedTouches;for(let u=0;u<c.length;u++)if(c[u].identifier===this.touchId){i=c[u];break}if(y.isNullOrUndefined(i))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;let s=y.isNullOrUndefined(i)?this.getEventPosition(t):this.getEventPosition(t,i.identifier),o,a=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil,l=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor;s<=0?o=l:s>=this.maxHandlePosition?o=a:(o=this.positionToValue(s),r&&!y.isNullOrUndefined(this.viewOptions.tickStep)?o=this.roundStep(o,this.viewOptions.tickStep):o=this.roundStep(o)),this.positionTrackingHandle(o)}forceEnd(t=!1){this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),t&&(this.sliderElementAnimateClass=!1,setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate})),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext())}onEnd(t){zn.isTouchEvent(t)&&t.changedTouches[0].identifier!==this.touchId||this.forceEnd()}onPointerFocus(t){let r=this.getPointerElement(t);r.on("blur",()=>this.onPointerBlur(r)),r.on("keydown",i=>this.onKeyboardEvent(i)),r.on("keyup",()=>this.onKeyUp()),r.active=!0,this.currentTrackingPointer=t,this.currentFocusPointer=t,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(t){t.off("blur"),t.off("keydown"),t.off("keyup"),t.active=!1,y.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(t){let r=this.viewOptions.ceil-this.viewOptions.floor,i=t+this.viewOptions.step,s=t-this.viewOptions.step,o=t+r/10,a=t-r/10;this.viewOptions.reversedControls&&(i=t-this.viewOptions.step,s=t+this.viewOptions.step,o=t-r/10,a=t+r/10);let l={UP:i,DOWN:s,LEFT:s,RIGHT:i,PAGEUP:o,PAGEDOWN:a,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(l.LEFT=i,l.RIGHT=s,(this.viewOptions.vertical||this.viewOptions.rotate!==0)&&(l.UP=s,l.DOWN=i)),l}onKeyboardEvent(t){let r=this.getCurrentTrackingValue(),i=y.isNullOrUndefined(t.keyCode)?t.which:t.keyCode,s={38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"},o=this.getKeyActions(r),a=s[i],l=o[a];if(y.isNullOrUndefined(l)||y.isNullOrUndefined(this.currentTrackingPointer))return;t.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));let c=Ie.clampToRange(l,this.viewOptions.floor,this.viewOptions.ceil),u=this.roundStep(c);if(!this.viewOptions.draggableRangeOnly)this.positionTrackingHandle(u);else{let d=this.viewHighValue-this.viewLowValue,f,h;this.currentTrackingPointer===M.Min?(f=u,h=u+d,h>this.viewOptions.ceil&&(h=this.viewOptions.ceil,f=h-d)):this.currentTrackingPointer===M.Max&&(h=u,f=u-d,f<this.viewOptions.floor&&(f=this.viewOptions.floor,h=f+d)),this.positionTrackingBar(f,h)}}onDragStart(t,r,i,s){let o=this.getEventPosition(r);this.dragging=new _h,this.dragging.active=!0,this.dragging.value=this.positionToValue(o),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-o:o-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?o-this.maxHandleElement.position:this.maxHandleElement.position-o,this.onStart(t,r,i,s)}getMinValue(t,r,i){let s=this.viewOptions.rightToLeft,o=null;return r?i?o=s?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:o=s?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:o=s?this.positionToValue(t+this.dragging.lowLimit):this.positionToValue(t-this.dragging.lowLimit),this.roundStep(o)}getMaxValue(t,r,i){let s=this.viewOptions.rightToLeft,o=null;return r?i?o=s?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:o=s?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:s?o=this.positionToValue(t+this.dragging.lowLimit)+this.dragging.difference:o=this.positionToValue(t-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(o)}onDragMove(t){let r=this.getEventPosition(t);this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;let i,s,o,a;this.viewOptions.rightToLeft?(i=this.dragging.lowLimit,s=this.dragging.highLimit,o=this.maxHandleElement,a=this.minHandleElement):(i=this.dragging.highLimit,s=this.dragging.lowLimit,o=this.minHandleElement,a=this.maxHandleElement);let l=r<=s,c=r>=this.maxHandlePosition-i,u,d;if(l){if(o.position===0)return;u=this.getMinValue(r,!0,!1),d=this.getMaxValue(r,!0,!1)}else if(c){if(a.position===this.maxHandlePosition)return;d=this.getMaxValue(r,!0,!0),u=this.getMinValue(r,!0,!0)}else u=this.getMinValue(r,!1,!1),d=this.getMaxValue(r,!1,!1);this.positionTrackingBar(u,d)}positionTrackingBar(t,r){!y.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit&&(t=this.viewOptions.minLimit,r=Ie.roundToPrecisionLimit(t+this.dragging.difference,this.viewOptions.precisionLimit)),!y.isNullOrUndefined(this.viewOptions.maxLimit)&&r>this.viewOptions.maxLimit&&(r=this.viewOptions.maxLimit,t=Ie.roundToPrecisionLimit(r-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=t,this.viewHighValue=r,this.applyViewChange(),this.updateHandles(M.Min,this.valueToPosition(t)),this.updateHandles(M.Max,this.valueToPosition(r))}positionTrackingHandle(t){t=this.applyMinMaxLimit(t),this.range&&(this.viewOptions.pushRange?t=this.applyPushRange(t):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===M.Min&&t>this.viewHighValue?t=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===M.Max&&t<this.viewLowValue&&(t=this.applyMinMaxRange(this.viewLowValue))),t=this.applyMinMaxRange(t),this.currentTrackingPointer===M.Min&&t>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(M.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=M.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===M.Max&&t<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(M.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=M.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==t&&(this.currentTrackingPointer===M.Min?(this.viewLowValue=t,this.applyViewChange()):this.currentTrackingPointer===M.Max&&(this.viewHighValue=t,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(t)),this.updateAriaAttributes())}applyMinMaxLimit(t){return!y.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit?this.viewOptions.minLimit:!y.isNullOrUndefined(this.viewOptions.maxLimit)&&t>this.viewOptions.maxLimit?this.viewOptions.maxLimit:t}applyMinMaxRange(t){let r=this.currentTrackingPointer===M.Min?this.viewHighValue:this.viewLowValue,i=Math.abs(t-r);if(!y.isNullOrUndefined(this.viewOptions.minRange)&&i<this.viewOptions.minRange){if(this.currentTrackingPointer===M.Min)return Ie.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===M.Max)return Ie.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!y.isNullOrUndefined(this.viewOptions.maxRange)&&i>this.viewOptions.maxRange){if(this.currentTrackingPointer===M.Min)return Ie.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===M.Max)return Ie.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return t}applyPushRange(t){let r=this.currentTrackingPointer===M.Min?this.viewHighValue-t:t-this.viewLowValue,i=y.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,s=this.viewOptions.maxRange;return r<i?(this.currentTrackingPointer===M.Min?(this.viewHighValue=Ie.roundToPrecisionLimit(Math.min(t+i,this.viewOptions.ceil),this.viewOptions.precisionLimit),t=Ie.roundToPrecisionLimit(this.viewHighValue-i,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(M.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===M.Max&&(this.viewLowValue=Ie.roundToPrecisionLimit(Math.max(t-i,this.viewOptions.floor),this.viewOptions.precisionLimit),t=Ie.roundToPrecisionLimit(this.viewLowValue+i,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(M.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!y.isNullOrUndefined(s)&&r>s&&(this.currentTrackingPointer===M.Min?(this.viewHighValue=Ie.roundToPrecisionLimit(t+s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(M.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===M.Max&&(this.viewLowValue=Ie.roundToPrecisionLimit(t-s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(M.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),t}getChangeContext(){let t=new vE;return t.pointerType=this.currentTrackingPointer,t.value=+this.value,this.range&&(t.highValue=+this.highValue),t}static \u0275fac=function(r){return new(r||n)(C(gt),C(Ve),C(Nt),C(le),C(AO,8))};static \u0275cmp=Ue({type:n,selectors:[["ngx-slider"]],contentQueries:function(r,i,s){if(r&1&&hm(s,bG,5),r&2){let o;Ke(o=Ye())&&(i.tooltipTemplate=o.first)}},viewQuery:function(r,i){if(r&1&&(ct(CG,5,Jr),ct(IG,5,Jr),ct(DG,5,Jr),ct(SG,5,Jr),ct(TG,5,mE),ct(MG,5,mE),ct(AG,5,Wo),ct(NG,5,Wo),ct(OG,5,Wo),ct(RG,5,Wo),ct(xG,5,Wo),ct(PG,5,Jr)),r&2){let s;Ke(s=Ye())&&(i.leftOuterSelectionBarElement=s.first),Ke(s=Ye())&&(i.rightOuterSelectionBarElement=s.first),Ke(s=Ye())&&(i.fullBarElement=s.first),Ke(s=Ye())&&(i.selectionBarElement=s.first),Ke(s=Ye())&&(i.minHandleElement=s.first),Ke(s=Ye())&&(i.maxHandleElement=s.first),Ke(s=Ye())&&(i.floorLabelElement=s.first),Ke(s=Ye())&&(i.ceilLabelElement=s.first),Ke(s=Ye())&&(i.minHandleLabelElement=s.first),Ke(s=Ye())&&(i.maxHandleLabelElement=s.first),Ke(s=Ye())&&(i.combinedLabelElement=s.first),Ke(s=Ye())&&(i.ticksElement=s.first)}},hostVars:10,hostBindings:function(r,i){r&1&&he("resize",function(o){return i.onResize(o)},!1,$I),r&2&&(rn("disabled",i.sliderElementDisabledAttr)("aria-label",i.sliderElementAriaLabel),Te("ngx-slider",i.sliderElementNgxSliderClass)("vertical",i.sliderElementVerticalClass)("animate",i.sliderElementAnimateClass)("with-legend",i.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus",cancelUserChange:"cancelUserChange"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},standalone:!1,features:[An([BG]),Mt],decls:29,vars:13,consts:[["leftOuterSelectionBar",""],["rightOuterSelectionBar",""],["fullBar",""],["selectionBar",""],["minHandle",""],["maxHandle",""],["floorLabel",""],["ceilLabel",""],["minHandleLabel",""],["maxHandleLabel",""],["combinedLabel",""],["ticksElement",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerText",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerText"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(r,i){r&1&&(D(0,"span",12,0),J(2,"span",13),A(),D(3,"span",14,1),J(5,"span",13),A(),D(6,"span",15,2),J(8,"span",13),A(),D(9,"span",16,3),J(11,"span",17),A(),J(12,"span",18,4)(14,"span",19,5)(16,"span",20,6)(18,"span",21,7)(20,"span",22,8)(22,"span",23,9)(24,"span",24,10),D(26,"span",25,11),Ce(28,UG,5,10,"span",26),A()),r&2&&(O(6),Te("ngx-slider-transparent",i.fullBarTransparentClass),O(3),Te("ngx-slider-draggable",i.selectionBarDraggableClass),O(2),L("ngStyle",i.barStyle),O(),L("ngStyle",i.minPointerStyle),O(2),$s("display",i.range?"inherit":"none"),L("ngStyle",i.maxPointerStyle),O(12),Te("ngx-slider-ticks-values-under",i.ticksUnderValuesClass),L("hidden",!i.showTicks),O(2),L("ngForOf",i.ticks))},dependencies:[Ku,Yu,sn,oS,Jr,mE,Wo,jG],styles:['.ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:transparent}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;-webkit-border-radius:16px;-moz-border-radius:16px;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:"";width:8px;height:8px;position:absolute;top:12px;left:12px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;transform:translate(-50%)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;transform:translate(-50%);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;transform:translateY(-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;transform:translateY(-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-selection{transition:background-color linear .3s}  .ngx-slider.animate .ngx-slider-pointer{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-pointer:after{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble{transition:all linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity linear .3s}  .ngx-slider.animate .ngx-slider-tick{transition:background-color linear .3s}']})}return n})(),NO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=At({type:n});static \u0275inj=Tt({imports:[Tm]})}return n})();var Eh=(i=>(i[i.SET_CURRENT_AMOUNT=0]="SET_CURRENT_AMOUNT",i[i.INCREASE_AMOUNT=1]="INCREASE_AMOUNT",i[i.DECREASE_AMOUNT=2]="DECREASE_AMOUNT",i[i.SET_MID_MIN=3]="SET_MID_MIN",i))(Eh||{});var Ko=class n{db=hh();items=new Re(null);itemUpdates=new Re(null);previousItemKeys=new Set;addItem(e,t,r){return g(this,null,function*(){let{name:i,amount:s,minValue:o,midValue:a,id:l,color:c,img:u}=r,d=g(this,null,function*(){yield ph(br(this.db,`users/${e}/items/${t}`),{name:i,amount:s,minValue:o,midValue:a,id:l,color:c,img:u})});return se(d)})}setupItemsListener(e){if(!e){this.items.next(null),this.itemUpdates.next(null),this.previousItemKeys.clear();return}let t=br(this.db,`users/${e}/items`),r=!0;hE(t,i=>{if(i.exists()){let s=i.val();this.items.next(s);let o=new Set(Object.keys(s));if(r)this.itemUpdates.next({type:"full",items:s}),r=!1;else{let a={},l=!1;o.forEach(c=>{this.previousItemKeys.has(c)||(a[c]=s[c],l=!0)}),l&&this.itemUpdates.next({type:"added",items:a})}this.previousItemKeys=o}else this.items.next(null),this.itemUpdates.next({type:"full",items:{}}),this.previousItemKeys.clear()})}changeAmount(e,t,r,i){return g(this,null,function*(){let s={[`${t}/amount`]:r,[`${t}/color`]:i},o=br(this.db,`users/${e}/items`),a=g(this,null,function*(){yield pE(o,s)});return se(a)})}changeMidMin(e,t,r,i,s){return g(this,null,function*(){let o={[`${t}/midValue`]:i,[`${t}/minValue`]:r,[`${t}/color`]:s},a=br(this.db,`users/${e}/items`),l=g(this,null,function*(){yield pE(a,o)});return se(l)})}itemPropertyListener(e,t,r,i){if(!e||!t)return console.warn(`Invalid userId or itemId for ${r} listener`),()=>{};let s=br(this.db,`users/${e}/items/${t}/${r}`),o=hE(s,a=>{let l=a.exists()?a.val():void 0;i(l)});return()=>o()}amountListener(e,t,r){return this.itemPropertyListener(e,t,"amount",r)}midValueListener(e,t,r){return this.itemPropertyListener(e,t,"midValue",r)}minValueListener(e,t,r){return this.itemPropertyListener(e,t,"minValue",r)}removeItem(e,t){return g(this,null,function*(){let r=br(this.db);yield IO(CO(r,`users/${e}/items/${t}`))})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})};function $G(n,e){if(n&1&&(D(0,"div",23),J(1,"img",24),A()),n&2){let t=je();O(),L("src",t.formData.img,_a)}}var Kl=class n{constructor(e){this.serviceStorage=e}items=[];formData;userId;removeItem=new fe;newValuesItem=new fe;newColor=new fe;sliderOptions={floor:0,ceil:100,minRange:1,showOuterSelectionBars:!0};tempMinValue=0;tempMidValue=0;isRemoving=!1;showInfo=!1;showEdit=!1;ngOnInit(){this.formData&&(this.tempMinValue=this.formData.minValue,this.tempMidValue=this.formData.midValue,this.updateSliderOptions()),this.serviceStorage.amountListener(this.userId,this.formData.id,e=>{e&&(this.formData.amount=parseInt(JSON.stringify(e)),this.emitNewBackGroundColor(this.formData.id)),e==null&&(this.isRemoving=!0)}),this.serviceStorage.midValueListener(this.userId,this.formData.id,e=>{e&&(this.formData.midValue=parseInt(JSON.stringify(e)),this.updateSliderOptions(),this.emitNewBackGroundColor(this.formData.id)),e==null&&(this.isRemoving=!0)}),this.serviceStorage.minValueListener(this.userId,this.formData.id,e=>{e&&(this.formData.minValue=parseInt(JSON.stringify(e)),this.updateSliderOptions(),this.emitNewBackGroundColor(this.formData.id)),e==null&&(this.isRemoving=!0)})}updateSliderOptions(){this.sliderOptions.floor&&this.sliderOptions.ceil&&(this.sliderOptions=H(E({},this.sliderOptions),{floor:Math.min(this.formData.minValue,this.sliderOptions.floor),ceil:Math.max(this.formData.midValue,this.sliderOptions.ceil)}))}emitRemoving(e){this.removeItem.emit({value:e})}emitNewValuesItem(e,t,r){this.newValuesItem.emit({id:e,item:t,action:r})}emitNewBackGroundColor(e){this.newColor.emit({id:e})}remove(e){this.isRemoving=!0,setTimeout(()=>{this.emitRemoving(e)},300)}toggleInfo(){if(this.showInfo&&this.showEdit){this.showInfo=!this.showInfo,this.showEdit=!this.showEdit;return}this.showInfo=!this.showInfo}changeValues(){this.showEdit=!this.showEdit}onNewValues(e,t){if(1==t){this.formData.amount++,this.emitNewBackGroundColor(e),this.emitNewValuesItem(e,this.formData,0);return}if(2==t){this.formData.amount--,this.emitNewBackGroundColor(e),this.emitNewValuesItem(e,this.formData,0);return}this.emitNewValuesItem(e,this.formData,t),this.emitNewBackGroundColor(e)}input=Mu;AmountOperations=Eh;static \u0275fac=function(t){return new(t||n)(C(Ko))};static \u0275cmp=Ue({type:n,selectors:[["app-item"]],inputs:{items:"items",formData:"formData",userId:"userId"},outputs:{removeItem:"removeItem",newValuesItem:"newValuesItem",newColor:"newColor"},decls:29,vars:17,consts:[[1,"item-list",3,"ngClass"],[1,"item__content"],["class","item__image-container",4,"ngIf"],[1,"item__text"],[1,"item-buttons"],[1,"amount-container"],[1,"amount-container__button",3,"click"],["id","customRange1","type","range",1,"amount-container__range",3,"ngModelChange","input","ngModel"],["aria-label","Delete item",1,"item__button","item__button--delete",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24"],["d","M4 6h16M16 6v-1a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v1","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round"],["d","M5 6v13a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-13","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round"],["x1","10","y1","11","x2","10","y2","17","stroke","currentColor","stroke-width","2","stroke-linecap","round"],["x1","14","y1","11","x2","14","y2","17","stroke","currentColor","stroke-width","2","stroke-linecap","round"],["aria-label","Toggle information",1,"item__button","item__button--info",3,"click"],["cx","12","cy","12","r","10","fill","none","stroke","currentColor","stroke-width","2"],["cx","12","cy","8","r","1","fill","currentColor"],["x1","12","y1","11","x2","12","y2","16","stroke","currentColor","stroke-width","2","stroke-linecap","round"],["role","region",1,"item__info",3,"click"],[1,"item__edit"],[1,"item__edit__range-sliders"],[1,"custom-slider"],[3,"valueChange","highValueChange","userChange","value","highValue","options"],[1,"item__image-container"],["alt","Item image",1,"item__image",3,"src"]],template:function(t,r){t&1&&(D(0,"li",0)(1,"div",1),Ce(2,$G,2,1,"div",2),D(3,"span",3),X(4),A(),D(5,"div",4)(6,"div",5)(7,"button",6),he("click",function(){return r.onNewValues(r.formData.id,r.AmountOperations.DECREASE_AMOUNT)}),X(8,"-"),A(),D(9,"input",7),zu("ngModelChange",function(s){return $u(r.formData.amount,s)||(r.formData.amount=s),s}),he("input",function(){return r.onNewValues(r.formData.id,r.AmountOperations.SET_CURRENT_AMOUNT)}),A(),D(10,"button",6),he("click",function(){return r.onNewValues(r.formData.id,r.AmountOperations.INCREASE_AMOUNT)}),X(11,"+"),A()(),D(12,"button",8),he("click",function(){return r.remove(r.formData.id)}),Og(),D(13,"svg",9),J(14,"path",10)(15,"path",11)(16,"line",12)(17,"line",13),A()(),Rg(),D(18,"button",14),he("click",function(){return r.toggleInfo()}),Og(),D(19,"svg",9),J(20,"circle",15)(21,"circle",16)(22,"line",17),A()()()(),Rg(),D(23,"div",18),he("click",function(){return r.changeValues()}),X(24),A(),D(25,"div",19)(26,"div",20)(27,"div",21)(28,"ngx-slider",22),zu("valueChange",function(s){return $u(r.formData.minValue,s)||(r.formData.minValue=s),s})("highValueChange",function(s){return $u(r.formData.midValue,s)||(r.formData.midValue=s),s}),he("userChange",function(){return r.onNewValues(r.formData.id,r.AmountOperations.SET_MID_MIN)}),A()()()()()),t&2&&(Te("removing",r.isRemoving),L("ngClass",r.formData.color),O(2),L("ngIf",r.formData.img),O(2),Bu(" ",r.formData.name," - Amount: ",r.formData.amount," "),O(5),Hu("ngModel",r.formData.amount),O(14),Te("item__info--visible",r.showInfo),rn("aria-expanded",r.showInfo),O(),Bu(" Min Amount: ",r.formData.minValue,", Mid Amount: ",r.formData.midValue," "),O(),Te("item__edit--visible",r.showEdit),O(3),Hu("value",r.formData.minValue)("highValue",r.formData.midValue),L("options",r.sliderOptions))},dependencies:[Ku,sn,_M,Un,Vy,$r,Ly,NO,_E],styles:['.item-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;margin-bottom:1.5rem;border-radius:6px;background-color:#1a1a1a;border:1px solid rgba(255,255,255,.15);box-shadow:0 2px 10px #0000004d;color:#e1e1e1;transition:all .4s cubic-bezier(.68,-.55,.265,1.55);transform:translate(0) translateY(0);opacity:1;height:auto;font-size:clamp(14px,2vw,18px)}.item-list.removing[_ngcontent-%COMP%]{transform:translateY(100%);opacity:0;margin:0;padding:0;height:0}.item-list.border-green[_ngcontent-%COMP%]{border-width:1px;border-style:solid;box-shadow:0 0 10px 3px green}.item-list.border-red[_ngcontent-%COMP%]{border-width:1px;border-style:solid;box-shadow:0 0 10px 3px red}.item-list.border-yellow[_ngcontent-%COMP%]{border-width:1px;border-style:solid;box-shadow:0 0 10px 3px #ff0}.item-list[_ngcontent-%COMP%]   .amount-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2px;padding:clamp(.3rem,1.5vw,.5rem);background-color:transparent;border:none;border-radius:6px;width:100%;max-width:300px;min-width:min-content}.item-list[_ngcontent-%COMP%]   .amount-container__button[_ngcontent-%COMP%]{width:clamp(28px,3.5vw,35px);height:clamp(28px,3.5vw,35px);display:grid;place-items:center;background-color:transparent;color:#e1e1e1;border:1.5px solid rgba(255,255,255,.15);border-radius:50%;transition:all .2s ease;font-size:clamp(14px,1.8vw,16px);padding:0;margin:0;flex-shrink:0;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.item-list[_ngcontent-%COMP%]   .amount-container__button[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#ffffff26;color:#fff;transform:scale(1.05)}.item-list[_ngcontent-%COMP%]   .amount-container__button[_ngcontent-%COMP%]:active:not(:disabled){transform:scale(.95)}.item-list[_ngcontent-%COMP%]   .amount-container__button[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.item-list[_ngcontent-%COMP%]   .amount-container__range[_ngcontent-%COMP%]{height:4px;width:100%;min-width:80px;max-width:200px;background:#343434;border-radius:6px;outline:none;margin:0 .25rem;padding:0;flex:1;transition:opacity .2s}.item-list[_ngcontent-%COMP%]   .amount-container__range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:clamp(12px,1.8vw,16px);height:clamp(12px,1.8vw,16px);background:transparent;border:1.5px solid rgba(255,255,255,.15);border-radius:50%;cursor:pointer;transition:all .2s ease}.item-list[_ngcontent-%COMP%]   .amount-container__range[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{border-color:#ffffff26;transform:scale(1.1)}.item-list[_ngcontent-%COMP%]   .amount-container__range[_ngcontent-%COMP%]::-moz-range-thumb{width:clamp(12px,1.8vw,16px);height:clamp(12px,1.8vw,16px);background:transparent;border:1.5px solid rgba(255,255,255,.15);border-radius:50%;cursor:pointer;transition:all .2s ease}.item-list[_ngcontent-%COMP%]   .amount-container__range[_ngcontent-%COMP%]::-moz-range-thumb:hover{border-color:#ffffff26;transform:scale(1.1)}.item-list[_ngcontent-%COMP%]   .amount-container__range[_ngcontent-%COMP%]::-moz-range-track{height:4px;background:#343434;border-radius:6px}.item-list[_ngcontent-%COMP%]   .amount-container__range[_ngcontent-%COMP%]:focus::-webkit-slider-thumb{border-color:#ffffff26;box-shadow:0 0 0 2px #ffffff1a}.item-list[_ngcontent-%COMP%]   .amount-container__range[_ngcontent-%COMP%]:focus::-moz-range-thumb{border-color:#ffffff26;box-shadow:0 0 0 2px #ffffff1a}@media (max-width: 454px){.item-list[_ngcontent-%COMP%]{padding:.75rem}.item-list[_ngcontent-%COMP%]   .item__content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;gap:.75rem;width:100%}.item-list[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]{width:100%;justify-content:flex-end;padding-top:.5rem;margin-top:.5rem;border-top:1px solid rgba(255,255,255,.15);gap:clamp(4px,1vw,8px)}.item-list[_ngcontent-%COMP%]   .item__text[_ngcontent-%COMP%]{margin-right:0;width:100%;text-align:center;order:2}.item-list[_ngcontent-%COMP%]   .item__text[_ngcontent-%COMP%]   .item__name-amount[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:clamp(14px,2vw,16px);color:#e1e1e1}.item-list[_ngcontent-%COMP%]   .item__text[_ngcontent-%COMP%]   .item__name-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fbfbfb;margin-left:.5rem}.item-list[_ngcontent-%COMP%]   .item__image-container[_ngcontent-%COMP%]{width:clamp(70px,20vw,90px);height:clamp(70px,20vw,90px);margin:0 auto;order:1}.item-list[_ngcontent-%COMP%]   .amount-container[_ngcontent-%COMP%]{width:100%;max-width:none;justify-content:center;padding:.5rem 0;order:3}.item-list[_ngcontent-%COMP%]   .amount-container__range[_ngcontent-%COMP%]{min-width:60px;max-width:calc(100% - 80px)}.item-list[_ngcontent-%COMP%]   .amount-container__button[_ngcontent-%COMP%]{width:clamp(24px,3vw,28px);height:clamp(24px,3vw,28px)}.item-list[_ngcontent-%COMP%]   .item-buttons[_ngcontent-%COMP%]{width:100%;justify-content:center;padding-top:.5rem;margin-top:.5rem;border-top:1px solid rgba(255,255,255,.15);gap:clamp(8px,2vw,12px);order:4}.item-list[_ngcontent-%COMP%]   .item__button[_ngcontent-%COMP%]{width:clamp(32px,4vw,36px);height:clamp(32px,4vw,36px)}.item-list[_ngcontent-%COMP%]   .item__button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(14px,2vw,16px);height:clamp(14px,2vw,16px)}.item-list[_ngcontent-%COMP%]   .item__button--action[_ngcontent-%COMP%]:hover, .item-list[_ngcontent-%COMP%]   .item__button--delete[_ngcontent-%COMP%]:hover, .item-list[_ngcontent-%COMP%]   .item__button--info[_ngcontent-%COMP%]:hover{transform:none}}.item-buttons[_ngcontent-%COMP%]{display:flex;gap:clamp(2px,.5vw,4px);flex-wrap:nowrap}.item__button[_ngcontent-%COMP%]{width:clamp(32px,3.5vw,40px);height:clamp(32px,3.5vw,40px);display:flex;align-items:center;justify-content:center;border-radius:6px;border:1.5px solid rgba(255,255,255,.15);background-color:transparent;transition:all .2s ease;flex-shrink:0}.item__button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:clamp(14px,1.8vw,18px);height:clamp(14px,1.8vw,18px)}.item__button--action[_ngcontent-%COMP%], .item__button--delete[_ngcontent-%COMP%], .item__button--info[_ngcontent-%COMP%]{color:#e1e1e1;position:relative;overflow:hidden}.item__button--action[_ngcontent-%COMP%]:before, .item__button--delete[_ngcontent-%COMP%]:before, .item__button--info[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:currentColor;opacity:.1;transition:opacity .2s ease}.item__button--action[_ngcontent-%COMP%]:hover, .item__button--delete[_ngcontent-%COMP%]:hover, .item__button--info[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.item__button--action[_ngcontent-%COMP%]:hover:before, .item__button--delete[_ngcontent-%COMP%]:hover:before, .item__button--info[_ngcontent-%COMP%]:hover:before{opacity:.2}.item__button--action[_ngcontent-%COMP%]:active, .item__button--delete[_ngcontent-%COMP%]:active, .item__button--info[_ngcontent-%COMP%]:active{transform:translateY(1px)}.item__button--action[_ngcontent-%COMP%]{color:#495057;font-size:clamp(14px,2vw,16px);font-weight:500}.item__button--delete[_ngcontent-%COMP%]{color:#dc3545}.item__button--info[_ngcontent-%COMP%]{color:#0d6efd}@media (min-width: 1200px){.item__button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 8px #0003}}.item__image-container[_ngcontent-%COMP%]{margin-right:1rem;flex-shrink:0;width:clamp(60px,20vw,90px);height:clamp(60px,20vw,90px);border-radius:6px;overflow:hidden;border:1px solid rgba(255,255,255,.15);background-color:#272727}.item__image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.item__content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%}.item__text[_ngcontent-%COMP%]{flex:1;margin-right:1rem;font-size:clamp(14px,2vw,16px);color:#e1e1e1}.item__info[_ngcontent-%COMP%]{opacity:0;max-height:0;overflow:hidden;margin-top:0;padding:0;transition:all .3s ease-in-out;border-radius:6px;background-color:#272727;font-size:clamp(12px,1.8vw,16px)}.item__info--visible[_ngcontent-%COMP%]{opacity:1;max-height:50px;margin-top:.5rem;padding:.5rem}.item__info[_ngcontent-%COMP%]:hover{background-color:#343434}.item__edit[_ngcontent-%COMP%]{opacity:0;max-height:0;overflow:hidden;margin-top:0;padding:0;transition:all .3s ease-in-out;border-radius:6px;background-color:#272727;width:40%;margin-left:auto;margin-right:auto;text-align:center;font-size:clamp(12px,1.8vw,16px)}.item__edit--visible[_ngcontent-%COMP%]{opacity:1;max-height:50px;margin-top:.5rem;padding:.5rem}.item__edit[_ngcontent-%COMP%]:hover{background-color:#343434}.item__edit__range-sliders[_ngcontent-%COMP%]{width:100%;display:grid;position:relative}.item__edit__range-sliders[_ngcontent-%COMP%]     .custom-slider .ngx-slider .ngx-slider-bar{height:2px}.item__edit__range-sliders[_ngcontent-%COMP%]     .custom-slider .ngx-slider .ngx-slider-pointer{width:12px;height:12px;cursor:pointer;background:#eee;box-shadow:0 2px 4px #0003;top:-5px}.item__edit__range-sliders[_ngcontent-%COMP%]     .custom-slider .ngx-slider .ngx-slider-pointer:hover{background-color:#5a6268}.item__edit__range-sliders[_ngcontent-%COMP%]     .custom-slider .ngx-slider .ngx-slider-left-out-selection .ngx-slider-bar{background:#e74c3c!important}.item__edit__range-sliders[_ngcontent-%COMP%]     .custom-slider .ngx-slider .ngx-slider-right-out-selection .ngx-slider-bar{background:#2ecb6f!important}.item__edit__range-sliders[_ngcontent-%COMP%]     .custom-slider .ngx-slider .ngx-slider-selection{background:#ffe600}@keyframes _ngcontent-%COMP%_addItem{0%{opacity:0;transform:scale(.8) translateY(-30px)}70%{transform:scale(1.05) translateY(2px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}20%,60%{transform:translate(-2px)}40%,80%{transform:translate(2px)}}']})};function zG(n,e){if(n&1&&J(0,"img",6),n&2){let t=je();L("src",t.URL,_a)}}function WG(n,e){n&1&&(D(0,"div",7),X(1," Invalid file type. Please upload an image. "),A())}var Yl=class n{itemForm;itemId;selectedFile=null;URL=null;onImagePicked(e){if(e.target.files&&e.target.files[0]){if(this.selectedFile=e.target.files[0],this.selectedFile){if(!this.selectedFile.type.startsWith("image/")){this.itemForm.get("img")?.setErrors({invalidMimeType:!0});return}let t=new FileReader;t.onload=()=>{this.URL=t.result,this.itemForm.patchValue({img:this.URL}),this.itemForm.get("img")?.updateValueAndValidity()},t.readAsDataURL(this.selectedFile)}}else this.resetImage()}resetImage(){this.URL=null,this.itemForm.get("img")?.reset(),this.selectedFile=null}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-image"]],inputs:{itemForm:"itemForm",itemId:"itemId"},decls:6,vars:3,consts:[[1,"mb-3"],[1,"image-upload-container"],["class","preview-image mb-2 rounded","alt","Preview",3,"src",4,"ngIf"],[1,"custom-file"],["type","file","accept","image/*",1,"custom-file-input","form-control","bg-dark","text-light","border-secondary",3,"change","value"],["class","invalid-feedback text-warning",4,"ngIf"],["alt","Preview",1,"preview-image","mb-2","rounded",3,"src"],[1,"invalid-feedback","text-warning"]],template:function(t,r){if(t&1&&(D(0,"div",0)(1,"div",1),Ce(2,zG,1,1,"img",2),D(3,"div",3)(4,"input",4),he("change",function(s){return r.onImagePicked(s)}),A(),Ce(5,WG,2,0,"div",5),A()()()),t&2){let i;O(2),L("ngIf",r.URL),O(2),L("value",r.selectedFile),O(),L("ngIf",(i=r.itemForm.get("img"))==null||i.errors==null?null:i.errors.invalidMimeType)}},dependencies:[sn],styles:[".image-upload-container[_ngcontent-%COMP%]{text-align:center;padding:1rem;border:2px dashed #6c757d;border-radius:.25rem;margin-bottom:1rem}.preview-image[_ngcontent-%COMP%]{max-width:200px;max-height:200px;object-fit:contain;border:1px solid #6c757d;background-color:#2b3035;animation:_ngcontent-%COMP%_fadeIn 1s;opacity:1;margin-bottom:1rem;border-radius:.25rem;display:block;margin-left:auto;margin-right:auto}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.custom-file[_ngcontent-%COMP%]{position:relative;display:inline-block;width:100%}.custom-file-input[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;height:calc(1.5em + .75rem + 2px);margin:0;opacity:1;background-color:#2b3035;color:#e1e1e1;cursor:pointer}.custom-file-input[_ngcontent-%COMP%]::-webkit-file-upload-button{background-color:#495057;border:1px solid #6c757d;color:#e1e1e1;padding:.375rem .75rem;border-radius:.25rem;cursor:pointer}.custom-file-input[_ngcontent-%COMP%]::-webkit-file-upload-button:hover{background-color:#5a6268}.custom-file-input[_ngcontent-%COMP%]:focus ~ .custom-file-label[_ngcontent-%COMP%]{border-color:#86b7fe;box-shadow:0 0 0 .25rem #0d6efd40}.invalid-feedback[_ngcontent-%COMP%]{display:block;margin-top:.5rem}"]})};function RO(n){let e=n.get("amount")?.value,t=n.get("minValue")?.value,r=n.get("midValue")?.value;return isNaN(e)||isNaN(t)||isNaN(r)||e<0||t<0||r<0?{invalidNumbers:!0}:e&&t&&r&&(e<=t||t>=r||r>=e)?{invalidRange:!0}:null}var bh=class n{authService=v(Qt);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-navbar"]],decls:13,vars:0,consts:[["ngSrc","assets/images/logo.png","alt","Logo","height","50","width","150"],[1,"nav__links"],["href","#"],[3,"click"]],template:function(t,r){t&1&&(D(0,"header"),J(1,"img",0),D(2,"nav")(3,"ul",1)(4,"li")(5,"a",2),X(6,"Home"),A()(),D(7,"li")(8,"a",2),X(9,"Account"),A()(),D(10,"li")(11,"a",3),he("click",function(){return r.authService.logout()}),X(12,"Log Out"),A()()()()())},dependencies:[dS],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}body[_ngcontent-%COMP%]{margin:2px;background-color:#191919;color:#edf0f1}li[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{font-weight:500;font-size:16px;color:#edf0f1;cursor:pointer;text-decoration:none}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 10%;border-radius:20px;background-color:#191919}.nav__links[_ngcontent-%COMP%]{list-style:none;display:flex;gap:20px}.nav__links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}.nav__links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all .3s ease 0s}.nav__links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#0d6efd}"]})};function qG(n,e){n&1&&(D(0,"div",13),X(1," Name is required "),A())}function GG(n,e){n&1&&(D(0,"div",13),X(1," Name must be at least 3 characters long "),A())}function KG(n,e){n&1&&(D(0,"div",13),X(1," Amount is required "),A())}function YG(n,e){n&1&&(D(0,"div",13),X(1," Amount must be greater than 0 "),A())}function QG(n,e){n&1&&(D(0,"div",13),X(1," Min-Amount is required "),A())}function ZG(n,e){n&1&&(D(0,"div",13),X(1," Minimum-Amount must be greater than 0 "),A())}function JG(n,e){n&1&&(D(0,"div",13),X(1," Middle-Amount is required "),A())}function XG(n,e){n&1&&(D(0,"div",13),X(1," Middle-Amount must be greater than 0 "),A())}function e4(n,e){n&1&&(D(0,"div",14),X(1," Invalid input. Please enter valid Amount and values. "),A())}function t4(n,e){if(n&1){let t=LD();D(0,"app-item",15),he("removeItem",function(i){bu(t);let s=je();return Cu(s.onEventRemove(i))})("newValuesItem",function(i){bu(t);let s=je();return Cu(s.onNewValuesEvent(i))})("newColor",function(i){bu(t);let s=je();return Cu(s.toggleBackground(i))}),A()}if(n&2){let t,r=e.$implicit,i=je();L("@itemAnimation",void 0)("formData",r)("userId",(t=i.authService.currentUserSig())==null?null:t.id)("items",i.items)}}var Ch=class n{constructor(e,t,r){this.fb=e;this.storageService=t;this.route=r;this.itemForm=this.fb.group({name:["",[Xe.required,Xe.minLength(3)]],amount:[null,[Xe.required,Xe.min(1)]],minValue:[null,[Xe.required,Xe.min(1)]],midValue:[null,[Xe.required,Xe.min(1)]],id:[""],img:[null]},{validators:RO})}imageComponent;itemComponent;authService=v(Qt);itemForm;formData;errorMessage="";items=[];subscription=null;ngOnInit(){return g(this,null,function*(){this.authService.user$.subscribe(e=>{if(e){this.authService.currentUserSig.set({email:e.email,username:e.displayName,id:e.uid});let t=this.authService.currentUserSig()?.id;this.storageService.setupItemsListener(t),this.subscription=this.storageService.itemUpdates.subscribe(r=>g(this,null,function*(){if(!r){this.items=[];return}if(Object.keys(r.items).length===0&&this.items.length!=0){yield g(this,null,function*(){return new Promise(s=>{this.itemComponent.isRemoving=!0,setTimeout(()=>{s()},350)})}).then(()=>{this.items=[]});return}if(r.type==="full")this.items=Object.entries(r.items).map(([i,s])=>E({id:i},s));else if(r.type==="added"){let i=Object.entries(r.items).map(([s,o])=>E({id:s},o));this.items=[...this.items,...i]}}))}else this.route.navigateByUrl("/login")})})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}onSubmit(){return g(this,null,function*(){if(this.itemForm.valid){let e=H(E({},this.itemForm.value),{id:Math.floor(Math.random()*1e3).toString(),color:"border-green"});this.itemForm.get("img")?.value&&(e.img=this.itemForm.get("img")?.value),this.authService.currentUserSig()?.id&&(yield this.storageService.addItem(this.authService.currentUserSig()?.id,e.id,e)),this.formData=e,this.itemForm.reset(),this.imageComponent.resetImage()}else this.itemForm.errors?.invalidNumbers?this.errorMessage="Invalid input. Please enter positive numbers for Amount and values.":this.itemForm.errors?.invalidRange&&(this.errorMessage="Invalid input. Please enter valid Amount and values.")})}onEventRemove(e){return g(this,null,function*(){this.items=this.items.filter(t=>t.id!==e.value),yield this.storageService.removeItem(this.authService.currentUserSig()?.id,e.value)})}onNewValuesEvent(e){return g(this,null,function*(){let t=this.items.find(r=>r.id===e.id);if(t)switch(e.action){case 0:{yield this.storageService.changeAmount(this.authService.currentUserSig()?.id,e.id,t.amount,t.color);break}case 3:yield this.storageService.changeMidMin(this.authService.currentUserSig()?.id,e.id,t.minValue,t.midValue,t.color)}})}toggleBackground(e){let t=this.items.find(o=>o.id===e.id);if(!t)return;let{amount:r,midValue:i,minValue:s}=t;t.color=r>i?"border-green":r>s?"border-yellow":"border-red"}static \u0275fac=function(t){return new(t||n)(C(Eo),C(Ko),C(ut))};static \u0275cmp=Ue({type:n,selectors:[["app-form-item"]],viewQuery:function(t,r){if(t&1&&(ct(Yl,5),ct(Kl,5)),t&2){let i;Ke(i=Ye())&&(r.imageComponent=i.first),Ke(i=Ye())&&(r.itemComponent=i.first)}},decls:28,vars:22,consts:[["id","app",1,"container","mt-4","dark-theme"],[1,"text-center"],[3,"ngSubmit","formGroup"],[3,"itemForm"],[1,"mb-3"],["type","text","formControlName","name","placeholder","Name","required","",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["type","number","formControlName","amount","placeholder","Amount","required","",1,"form-control"],["type","number","formControlName","minValue","placeholder","Min-Amount (kg)","required","",1,"form-control"],["type","number","formControlName","midValue","placeholder","Middle-Amount (kg)","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["type","submit",3,"disabled"],[3,"formData","userId","items","removeItem","newValuesItem","newColor",4,"ngFor","ngForOf"],[1,"invalid-feedback"],[1,"alert","alert-danger"],[3,"removeItem","newValuesItem","newColor","formData","userId","items"]],template:function(t,r){if(t&1&&(J(0,"app-navbar"),D(1,"div",0)(2,"h1",1),X(3,"Item List"),A(),D(4,"h2",1),X(5),A(),D(6,"form",2),he("ngSubmit",function(){return r.onSubmit()}),J(7,"app-image",3),D(8,"div",4),J(9,"input",5),Ce(10,qG,2,0,"div",6)(11,GG,2,0,"div",6),A(),D(12,"div",4),J(13,"input",7),Ce(14,KG,2,0,"div",6)(15,YG,2,0,"div",6),A(),D(16,"div",4),J(17,"input",8),Ce(18,QG,2,0,"div",6)(19,ZG,2,0,"div",6),A(),D(20,"div",4),J(21,"input",9),Ce(22,JG,2,0,"div",6)(23,XG,2,0,"div",6),A(),Ce(24,e4,2,0,"div",10),D(25,"button",11),X(26," Add Item "),A()(),Ce(27,t4,1,4,"app-item",12),A()),t&2){let i,s,o,a,l,c,u,d,f,h,p,m,w,T;O(5),zs("Hello ",(i=r.authService.currentUserSig())==null?null:i.username,""),O(),L("formGroup",r.itemForm),O(),L("itemForm",r.itemForm),O(2),Te("is-invalid",((s=r.itemForm.get("name"))==null?null:s.invalid)&&((s=r.itemForm.get("name"))==null?null:s.touched)),O(),L("ngIf",((o=r.itemForm.get("name"))==null||o.errors==null?null:o.errors.required)&&((o=r.itemForm.get("name"))==null?null:o.touched)),O(),L("ngIf",((a=r.itemForm.get("name"))==null||a.errors==null?null:a.errors.minlength)&&((a=r.itemForm.get("name"))==null?null:a.touched)),O(2),Te("is-invalid",((l=r.itemForm.get("amount"))==null?null:l.invalid)&&((l=r.itemForm.get("amount"))==null?null:l.touched)),O(),L("ngIf",((c=r.itemForm.get("amount"))==null||c.errors==null?null:c.errors.required)&&((c=r.itemForm.get("amount"))==null?null:c.touched)),O(),L("ngIf",((u=r.itemForm.get("amount"))==null||u.errors==null?null:u.errors.min)&&((u=r.itemForm.get("amount"))==null?null:u.touched)),O(2),Te("is-invalid",((d=r.itemForm.get("minValue"))==null?null:d.invalid)&&((d=r.itemForm.get("minValue"))==null?null:d.touched)),O(),L("ngIf",((f=r.itemForm.get("minValue"))==null||f.errors==null?null:f.errors.required)&&((f=r.itemForm.get("minValue"))==null?null:f.touched)),O(),L("ngIf",((h=r.itemForm.get("minValue"))==null||h.errors==null?null:h.errors.min)&&((h=r.itemForm.get("minValue"))==null?null:h.touched)),O(2),Te("is-invalid",((p=r.itemForm.get("midValue"))==null?null:p.invalid)&&((p=r.itemForm.get("midValue"))==null?null:p.touched)),O(),L("ngIf",((m=r.itemForm.get("midValue"))==null||m.errors==null?null:m.errors.required)&&((m=r.itemForm.get("midValue"))==null?null:m.touched)),O(),L("ngIf",((w=r.itemForm.get("midValue"))==null||w.errors==null?null:w.errors.min)&&((w=r.itemForm.get("midValue"))==null?null:w.touched)),O(),L("ngIf",((r.itemForm.errors==null?null:r.itemForm.errors.invalidNumbers)||(r.itemForm.errors==null?null:r.itemForm.errors.invalidRange))&&((T=r.itemForm.get("midValue"))==null?null:T.touched)),O(),L("disabled",r.itemForm.invalid),O(2),L("ngForOf",r.items)}},dependencies:[Kl,Yl,bo,wo,Un,Fy,$r,_o,Ki,qi,Gi,sn,Yu,Sd,bh],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:clamp(1rem,4vw,2rem);color:#e1e1e1}h1[_ngcontent-%COMP%]{font-size:clamp(1.5rem,4vw,2.5rem);margin-bottom:clamp(1rem,3vw,2rem);color:#e1e1e1}.form-control[_ngcontent-%COMP%]{height:clamp(35px,5vh,45px);font-size:clamp(14px,1.5vw,16px);padding:.5rem clamp(.5rem,2vw,1rem);transition:all .3s ease;background-color:#1f1f1f;border:1px solid rgba(255,255,255,.15);color:#e1e1e1}.form-control[_ngcontent-%COMP%]::placeholder{color:#888;opacity:1}.form-control[_ngcontent-%COMP%]:focus{background-color:#262626;border-color:#ffffff26;box-shadow:0 0 0 .2rem #0d6efd40}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;background-color:#dc35451a}form[_ngcontent-%COMP%]{padding:clamp(1rem,3vw,2rem);border-radius:clamp(8px,1vw,12px);box-shadow:0 4px 6px #0000004d;background-color:#1a1a1a;border:1px solid rgba(255,255,255,.15);margin-bottom:clamp(2rem,4vw,3rem)}form[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%]{margin-bottom:clamp(.8rem,2vw,1.2rem)}form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{font-size:clamp(12px,1.2vw,14px);margin-top:.3rem;color:#dc3545}form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:clamp(.75rem,2vw,1rem);margin-bottom:clamp(1rem,2vw,1.5rem);font-size:clamp(14px,1.5vw,16px);border-radius:6px;background-color:#dc35451a;border:1px solid rgba(220,53,69,.2);color:#dc3545}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{height:clamp(40px,6vh,50px);font-size:clamp(14px,1.8vw,18px);font-weight:500;width:100%;background-color:#0d6efd;color:#fff;border:none;border-radius:6px;transition:all .3s ease;cursor:pointer}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;background-color:#2c2c2c}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 4px 8px #0003;background-color:#267dfd}@media (min-width: 768px){form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:clamp(1rem,2vw,1.5rem)}form[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%]{margin-bottom:0}form[_ngcontent-%COMP%]   app-image[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{grid-column:1/-1}}@keyframes _ngcontent-%COMP%_itemAnimation{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}form[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], app-image[_ngcontent-%COMP%], app-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_itemAnimation .5s ease forwards;animation-delay:calc(var(--item-index, 0) * .1s);opacity:0}"],data:{animation:[NT("itemAnimation",[xT(":enter",[so({opacity:0}),OT("400ms",so({opacity:1}))])])]}})};function xO(n){let e=n.get("password")?.value,t=n.get("confirmPassword")?.value;return e!==t?{invalidPassword:!0}:null}var Ih=class n{CACHE_NAME="app-cache-v1";getCache(){return g(this,null,function*(){return yield caches.open(this.CACHE_NAME)})}setItem(e,t){return g(this,null,function*(){let r=yield this.getCache(),i=new Response(JSON.stringify(t));yield r.put(e,i)})}getItem(e){return g(this,null,function*(){let r=yield(yield this.getCache()).match(e);return r?yield r.json():null})}removeItem(e){return g(this,null,function*(){yield(yield this.getCache()).delete(e)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})};function r4(n,e){n&1&&(D(0,"div"),X(1," Invalid input. Please enter valid Amount and values. "),A())}var Dh=class n{constructor(e,t,r,i,s){this.fb=e;this.cacheStorage=t;this.authService=r;this.http=i;this.router=s;this.itemForm=this.fb.group({userName:["",[Xe.required,Xe.minLength(3)]],email:["",[Xe.required,Xe.email]],password:["",[Xe.required,Xe.minLength(3)]],confirmPassword:[""]},{validators:xO}),this.errorMessage=""}itemForm;errorMessage;onSubmit(){return g(this,null,function*(){if(this.itemForm.valid){let e=this.itemForm.getRawValue();(yield this.authService.register(e.email,e.userName,e.password)).subscribe(()=>{this.router.navigateByUrl("/login")})}else this.itemForm.errors?.email&&(this.errorMessage="invalid Email")})}static \u0275fac=function(t){return new(t||n)(C(Eo),C(Ih),C(Qt),C(Ia),C(ut))};static \u0275cmp=Ue({type:n,selectors:[["app-signupform"]],decls:19,vars:7,consts:[["id","app",1,"container","mt-4","dark-theme"],[3,"ngSubmit","formGroup"],[1,"text-center"],[1,"mb-3"],["type","text","formControlName","userName","placeholder","Enter your name","required","",1,"form-control"],["type","text","formControlName","email","placeholder","Email Address","required","",1,"form-control"],["type","password","formControlName","password","placeholder","Create password","required","",1,"form-control"],["type","password","formControlName","confirmPassword","placeholder","Confirm password","required","",1,"form-control"],["type","submit",3,"disabled"],[4,"ngIf"],["routerLink","/login"]],template:function(t,r){if(t&1&&(D(0,"div",0)(1,"form",1),he("ngSubmit",function(){return r.onSubmit()}),D(2,"h1",2),X(3,"Signup"),A(),D(4,"div",3),J(5,"input",4),A(),D(6,"div",3),J(7,"input",5),A(),D(8,"div",3),J(9,"input",6),A(),D(10,"div",3),J(11,"input",7),A(),D(12,"button",8),X(13," Sign Up "),A(),Ce(14,r4,2,0,"div",9),D(15,"div"),X(16,"Already have an account? "),D(17,"a",10),X(18,"Login!"),A()()()()),t&2){let i,s;O(),L("formGroup",r.itemForm),O(6),Te("is-invalid",((i=r.itemForm.get("email"))==null?null:i.invalid)&&((i=r.itemForm.get("email"))==null?null:i.touched)),O(4),Te("is-invalid",(r.itemForm.errors==null?null:r.itemForm.errors.invalidPassword)&&((s=r.itemForm.get("confirmPassword"))==null?null:s.touched)&&((s=r.itemForm.get("password"))==null?null:s.value)),O(),L("disabled",r.itemForm.invalid),O(2),L("ngIf",r.itemForm.errors==null?null:r.itemForm.errors.invalidPassword)}},dependencies:[Dd,bo,wo,Un,$r,_o,Ki,qi,Gi,sn],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:clamp(1rem,4vw,2rem);color:#e1e1e1}h1[_ngcontent-%COMP%]{font-size:clamp(1rem,4vw,1.5rem);margin-bottom:clamp(1.5rem,3vw,2rem);color:#e1e1e1}.form-control[_ngcontent-%COMP%]{height:clamp(45px,5vh,55px);font-size:clamp(14px,1.5vw,16px);padding:.5rem clamp(.5rem,2vw,1rem);transition:all .3s ease;background-color:#1f1f1f;border:1px solid rgba(255,255,255,.15);color:#e1e1e1}.form-control[_ngcontent-%COMP%]::placeholder{color:#888;opacity:1}.form-control[_ngcontent-%COMP%]:focus{background-color:#262626;border-color:#ffffff26;box-shadow:0 0 0 .2rem #0d6efd40}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;background-color:#dc35451a}form[_ngcontent-%COMP%]{padding:clamp(.5rem,3vw,2rem);border-radius:clamp(8px,1vw,12px);box-shadow:0 4px 6px #0000004d;background-color:#1a1a1a;border:1px solid rgba(255,255,255,.15);margin-bottom:clamp(2rem,4vw,3rem);margin-top:15rem}form[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%]{margin-bottom:0}form[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{font-size:clamp(12px,1.2vw,14px);margin-top:.3rem;color:#dc3545}form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:clamp(.75rem,2vw,1rem);margin-bottom:clamp(1rem,2vw,1.5rem);font-size:clamp(14px,1.5vw,16px);border-radius:6px;background-color:#dc35451a;border:1px solid rgba(220,53,69,.2);color:#dc3545}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{height:clamp(40px,6vh,50px);font-size:clamp(14px,1.8vw,18px);font-weight:500;width:100%;background-color:#0d6efd;color:#fff;border:none;border-radius:6px;transition:all .3s ease;cursor:pointer}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;background-color:#2c2c2c}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 4px 8px #0003;background-color:#267dfd}@keyframes _ngcontent-%COMP%_loginAnimation{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}form[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_loginAnimation .5s ease forwards;animation-delay:calc(var(--item-index, 0) * .1s);opacity:0}"]})};var PO=()=>{let n=v(Qt),e=n.getIdToken(),t=v(ut);return n.getIdToken().pipe(Le(r=>r!==void 0),Vt(1),B(r=>r?!0:t.createUrlTree(["/login"])))};var kO=[{path:"login",component:gh},{path:"home",component:Ch,canActivate:[PO]},{path:"signup",component:Dh},{path:"",redirectTo:"/login",pathMatch:"full"}];var LO={apiKey:"AIzaSyAYjnPgnwu_ZGLqhObAUXCJt5Vyjr09v58",authDomain:"itemik.firebaseapp.com",projectId:"itemik",storageBucket:"itemik.firebasestorage.app",messagingSenderId:"755865727331",appId:"1:755865727331:web:8e376771f8b77696daa356",measurementId:"G-2FVDJFNLPH"};var FO={providers:[WD({eventCoalescing:!0}),DT(kO),DS(),l0(),H0(()=>$0(LO)),TA(()=>OA())]};var Sh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ue({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&J(0,"router-outlet")},dependencies:[Sd,yv],encapsulation:2})};kS(Sh,FO).catch(n=>console.error(n));
